/*!
*  filename: sf.mobile.shared.min.js
*  version : unknown version
*  Copyright Syncfusion Inc. 2001 - 2013. All rights reserved.
*  Use of this code is subject to the terms of our license.
*  A copy of the current license can be obtained at any time by e-mailing
*  licensing@syncfusion.com. Any infringement will be prosecuted under
*  applicable laws. 
*/
(function(n,t,i){t.widget("mAccordion","m.Accordion",{_setFirst:!0,defaults:{renderMode:"auto",renderEngine:"client",id:null,style:"arrowreturn",headerIcon:null,selectedHeaderIcon:null,collapsible:!1,disabled:!1,selectedItemIndex:0,onAccordionDisable:i,onAccordionEnable:i,autoHeight:!1,fillSpace:!1,navigation:!1,onAccordionLoad:i,onAccordionSelect:i,android:{theme:"dark"},windows:{image:!1,activeImage:null,defaultImage:null}},dataTypes:{renderMode:"enum",renderEngine:"enum",style:"enum",collapsible:"boolean",disabled:"boolean",autoHeight:"boolean",fillSpace:"boolean",navigation:"boolean",android:{theme:"enum"},windows:{image:"boolean"}},_init:function(){this._setValues(),this.model.renderEngine=="client"&&this._renderControl(),this._contentElements=n(this.element).find("> .sf-acc-content"),this._items=n(this.element).find(">.sf-acc-header"),this._startEv=sf.isTouchDevice()?"touchstart":"mousedown",this._moveEv=sf.isTouchDevice()?"touchmove":"mousemove",this._anchors=n(this._items).find(".sf-link"),n(this._anchors).removeClass("ui-link"),this._maxAutoHeight=0,this._wireEvents(),this.showAccordion()},_setValues:function(){this._orgEle=n(this.element).clone(),this.model.renderMode=sf.getAttrVal(this.element,"data-rendermode",this.model.renderMode),this.model.renderMode=="auto"&&sf.setRenderMode(this),this.model.renderEngine=sf.getAttrVal(this.element,"data-renderengine",this.model.renderEngine),this.model.renderMode=="normal"?(this.model.style=sf.getAttrVal(this.element,"data-style",this.model.style),this.model.navigation=sf.getBooleanVal(this.element,"data-navigation",this.model.navigation),this.model.autoFormat=sf.getAttrVal(this.element,"data-autoformat",this.model.autoFormat),this.model.headerIcon=sf.getAttrVal(this.element,"data-headericon",this.model.headerIcon),this.model.selectedHeaderIcon=sf.getAttrVal(this.element,"data-activeheadericon",this.model.selectedHeaderIcon),this.model.navigationFilter=sf.getAttrVal(this.element,"data-nav-filter",this.model.navigationFilter),sf.getAttrVal(this.element,"data-disabled")!=null&&(this.model.disabled=sf.getBooleanVal(this.element,"data-disabled",this.model.disabled)),this.model.onAccordionDisable=sf.getAttrVal(this.element,"data-ondisable",this.model.onAccordionDisable),this.model.onAccordionEnable=sf.getAttrVal(this.element,"data-onenable",this.model.onAccordionEnable)):this.model.renderMode=="android"?this.model.android.theme=sf.getAttrVal(this.element,"data-android-theme",this.model.android.theme):this.model.renderMode=="windows"&&(this.model.windows.image=sf.getBooleanVal(this.element,"data-showimage",this.model.windows.image),this.model.windows.activeImage=sf.getAttrVal(this.element,"data-activeimage"),this.model.windows.defaultImage=sf.getAttrVal(this.element,"data-defaultimage")),this.model.fillSpace=sf.getBooleanVal(this.element,"data-fillspace",this.model.fillSpace),this.model.autoHeight=sf.getBooleanVal(this.element,"data-autoheight",this.model.autoHeight),this.model.collapsible=sf.getBooleanVal(this.element,"data-collapsible",this.model.collapsible),this.model.selectedItemIndex=Number(sf.getAttrVal(this.element,"data-activeindex",this.model.selectedItemIndex)),this.model.onAccordionLoad=sf.getAttrVal(this.element,"data-onload",this.model.onAccordionLoad),this.model.onAccordionSelect=sf.getAttrVal(this.element,"data-onselect",this.model.onAccordionSelect)},_renderControl:function(){var t=this,i,r;n(this.element).addClass("sf-m-acc sf-m-"+this.model.renderMode),i=n("<div><\/div>"),i.append(n(this.element).html()),n(this.element).empty(),r=n(i).find(">ul >li"),this.model.renderMode=="android"&&n(this.element).addClass("sf-m-"+this.model.android.theme),n.each(r,function(i,u){var f=n('<h3 class="sf-acc-header sf-acc-item"><\/h3>'),e=n('<div class="sf-acc-content"><\/div>'),o=sf.getAttrVal(u,"data-ajaxurl","#"),s=sf.getAttrVal(u,"data-text");t.model.renderMode=="ios"&&f.append('<span class="sf-header-span sf-acc-img"><\/span>'),f.append('<a class="sf-link" href="'+o+'">'+s+"<\/a>"),t.model.renderMode=="windows"&&t.model.windows.image&&f.append('<img class="sf-m-img"><\/img>'),e.html(n(u).html()),n(t.element).append(f).append(e),f.attr("tabindex",i),e.attr("id","header-content-"+(i+1)),i==t.model.selectedItemIndex?(f.addClass("sf-state-active"),f.find("img")&&f.find("img").attr("src",t.model.windows.activeImage)):(f.addClass("sf-state-default"),e.hide(),f.find("img")&&f.find("img").attr("src",t.model.windows.defaultImage)),t.model.renderMode=="ios"&&(i==r.length-1?f.addClass("sf-acc-border-bottom"):e.addClass("sf-bottom-margin")),sf.evalSfScripts(e)})},_wireEvents:function(){var i,t;for(sf.isTouchDevice()||this.model.renderMode!="normal"||(n(this._items).bind("mouseover",n.proxy(this._hoverHandler,this)),n(this._items).bind("mouseleave",n.proxy(this._hoverOutHandler,this))),this._mDownHandler=n.proxy(this._onClickHandler,this),n(this._anchors).bind("click",n.proxy(this._anchorClickHandler,this)),i=n(this._items),t=0;t<i.length;t++)element=i[t],element.addEventListener("click",this._mDownHandler,!0)},_anchorClickHandler:function(){return!1},_unWireEvents:function(){sf.unBindTouchEvent(this._items,this._startEv,this._mDownHandler),n(this._anchors).unbind("click",n.proxy(this._anchorClickHandler,this)),n(this._items).unbind("mouseover mouseleave")},_hoverHandler:function(t){n(t.currentTarget).addClass("sf-state-hover"),n(t.currentTarget).hasClass("sf-state-active")||n(t.currentTarget).removeClass("sf-state-default")},_hoverOutHandler:function(t){n(t.currentTarget).removeClass("sf-state-hover"),n(t.currentTarget).hasClass("sf-state-active")||n(t.currentTarget).addClass("sf-state-default")},_onClickHandler:function(t){var i=n(t.currentTarget);this.select(i,t)},_load:function(){var i=this,t,r,u;i._resize(),n(this._items).filter(".sf-state-default").next().hide(),t=n(this._getContentElement(this.model.selectedItemIndex)),r=n(n(t).prev()).find(".sf-link"),t.is(":empty")&&this._sendAjaxRequest(t,r),this.model.renderMode=="normal"&&n.each(this.model.disabled,function(t,r){n(i._items[r]).addClass("sf-state-disabled")}),u={value:this.model},this.model.onAccordionLoad&&this._trigger("onAccordionLoad",u),this.model.renderMode=="normal"&&i._navigation()},_navigation:function(){if(this.model.navigation){var t=n(this.element).find("a").filter(this.model.navigationFilter);t.length&&(t.filter(".sf-acc-header").length?this.model.selectedItemIndex=n(t)[0].tabIndex:(this.model.selectedItemIndex=t.parents(".sf-acc-content:first").prev()[0].tabIndex,t.addClass("sf-current")),this.selectItem(this.model.selectedItemIndex))}},_resize:function(){var i=this,r,t;i.model.fillSpace?(t=sf.getDimension(n(this.element).parent(),"height"),n(this.element).parent().css({overflow:"auto"}),i._items.each(function(){t-=sf.getDimension(n(this),"outerHeight")}),r=0,i._items.next().each(function(){r=Math.max(r,sf.getDimension(n(this),"innerHeight")-sf.getDimension(n(this),"height"))}).height(t-r).css({overflow:"auto"})):this.model.autoHeight&&(t=0,i._items.next().each(function(){t=Math.max(t,sf.getDimension(n(this),"outerHeight"))}).height(t),this._maxAutoHeight=t)},_getContentElement:function(n){var i,r,t,u;if(!isNaN(+n))for(i=this._contentElements,r=new RegExp("-"+(n+1)+"$"),t=0,u=i.length;t<u;t++)if(r.test(i[t].id))return i[t]},_ajaxSuccessHandler:function(t,i,r,u,f){f!=null&&n(u).html(f),i.html(t),i.addClass("sf-acc-ajax"),n(r).remove(),n(this._items).css("width",sf.getDimension(this._items,"width")-16+"px")},_sendAjaxRequest:function(t,i){var r=n("<span class='sf-ajax-loading'/>"),u,f,e;this.model.spinner!=null&&this.model.spinner!=""&&(u=n(i).html(),n(i).html(this.model.spinner)),n(this._items).css("width",sf.getDimension(this._items,"width")+16+"px"),n(i).parent().append(r),f=this,e={type:"GET",cache:!1,url:i.attr("href").replace("#",""),data:{},successHandler:function(n){f._ajaxSuccessHandler(n,t,r,i,u)}},sf.sendAjaxRequest(e)},_activate:function(){item=this._items[this.model.selectedItemIndex],this.select(item)},enable:function(t){var i,r;n.isArray(t)?(i=this,n.each(t,function(t,r){n(i._items[r]).removeClass("sf-state-disabled")})):n(this._items[t]).removeClass("sf-state-disabled"),r={enabledItemsIndex:t},this.model.onAccordionEnable&&this._trigger("onAccordionEnable",r)},disable:function(t){var i,r;n.isArray(t)?(i=this,n.each(t,function(t,r){n(i._items[r]).addClass("sf-state-disabled")})):n(this._items[t]).addClass("sf-state-disabled"),r={disabledItemsIndex:t},this.model.onAccordionDisable&&this._trigger("onAccordionDisable",r)},disableAll:function(){var t=[],i;n.each(this._items,function(i,r){n(r).addClass("sf-state-disabled"),t.push(i)}),i={disabledItemsIndex:t},this.model.onAccordionDisable&&this._trigger("onAccordionDisable",i)},enableAll:function(){var t=[],i;n.each(this._items,function(i,r){n(r).removeClass("sf-state-disabled"),t.push(i)}),i={enabledItemsIndex:t},this.model.onAccordionEnable&&this._trigger("onAccordionEnable",i)},showAccordion:function(){n(this.element).css("visibility","visible")},hideAccordion:function(){n(this.element).css("visibility","hidden")},selectItem:function(t){var i=n(this._items[t]);this.select(i)},select:function(t,i){var h,c,e,a;if(n(t).hasClass("sf-state-disabled"))i!=null&&i.preventDefault();else{var u=n(this._getContentElement(this._items.index(t))),l=n(t).find(".sf-link"),o=u.is(":empty"),r=n(this.element).find(".sf-acc-header.sf-state-active")[0],s=n(r).find("span.sf-header-icon"),f=n(t).find("span.sf-header-icon");if(u!="undefined"||o)h=n(this._getContentElement(this.model.selectedItemIndex)),r==t[0]?this.model.collapsible&&(n(this._contentElements).animate({height:"hide"},"fast"),n(f).removeClass(this.model.selectedHeaderIcon).addClass(this.model.headerIcon),n(r).removeClass("sf-state-active").addClass("sf-state-default"),this.model.renderMode=="windows"&&n(r).find("img").attr("src",this.model.windows.defaultImage)):(n(r).removeClass("sf-state-active").addClass("sf-state-default"),this.model.renderMode=="windows"&&n(r).find("img").attr("src",this.model.windows.defaultImage),n(s).removeClass(this.model.selectedHeaderIcon).addClass(this.model.headerIcon),n(t).addClass("sf-state-active").removeClass("sf-state-default"),this.model.renderMode=="windows"&&n(t).find("img").attr("src",this.model.windows.activeImage),n(f).removeClass(this.model.headerIcon).addClass(this.model.selectedHeaderIcon),n(h).animate({height:"hide"},"fast"),n(u).animate({height:"show"},"fast")),this.model.selectedItemIndex=this._items.index(t),c={selectedItemIndex:this.model.selectedItemIndex,lastSelectedItemIndex:n(r).index(".sf-acc-header"),items:this._items},this.model.onAccordionSelect&&this._trigger("onAccordionSelect",c),o&&(this._sendAjaxRequest(u,l),e=n(u).outerHeight(!0),this.model.autoHeight&&e>=this._maxAutoHeight&&(a=this._items.next().css("height",e+"px"))),i!=null&&i.preventDefault();else{n(t).hasClass("sf-acc-nav")&&(n(r).removeClass("sf-acc-active").removeClass("sf-state-active").addClass("sf-state-default"),this.model.renderMode=="windows"&&n(r).find("img").attr("src",this.model.windows.defaultImage),n(s).removeClass(this.model.selectedHeaderIcon).addClass(this.model.headerIcon),n(t).addClass("sf-acc-active").addClass("sf-state-active").removeClass("sf-state-default"),this.model.renderMode=="windows"&&n(t).find("img").attr("src",this.model.windows.activeImage),n(f).removeClass(this.model.headerIcon).addClass(this.model.selectedHeaderIcon));return}}},_setModel:function(n){var i=!1,t;for(t in n)t=="text"?this._setText():(t=="renderMode"||t=="android")&&(i=!0);i&&this._refresh(),this._trigger("modelChange",{changes:n})},_refresh:function(){this._destroy(),this.element.addClass("m-accordion"),this._renderControl(),this._wireEvents()},_clearElement:function(){this.element.removeAttr("class"),this.element.html(this._orgEle.html())},_destroy:function(){this._unWireEvents(),this._clearElement()}}),m.Accordion.style={ArrowReturn:"arrowreturn",PlayPause:"playpause",PlusMinus:"plusminus",Pin:"pin"}})(jQuery,Syncfusion),function($,ej,undefined){ej.widget("mAutoCompleteTextBox","m.AutoCompleteTextBox",{_setFirst:!0,defaults:{autoFormat:"darknight",actionMode:"json",autoFill:!1,caseSensitive:!1,value:"Search",rightToLeft:!1,hide:!1,disable:!1,renderMode:"auto",minCharacter:"1",listSize:"0",filterType:"startswith",renderingEngine:"client",dataFetch:"server",android:{theme:"dark"}},dataTypes:{actionMode:"enum",autoFill:"boolean",caseSensitive:"boolean",rightToLeft:"boolean",hide:"boolean",disable:"boolean",renderMode:"enum",filterType:"enum",dataFetch:"enum",android:{theme:"enum"}},_init:function(){this._setValues(),this.model.renderingEngine=="client"&&this._renderControl(),this._wireEvents()},_setValues:function(){this.model.highlightTypedString=!0,this.model.id=$(this.element).attr("id"),this.model.renderMode=sf.getAttrVal(this.element,"data-rendermode",this.model.renderMode),this.model.renderMode=="auto"&&sf.setRenderMode(this),this.model.renderingEngine=sf.getAttrVal(this.element,"data-mode",this.model.renderingEngine).toLowerCase(),this.model.android.theme=sf.getAttrVal(this.element,"data-android-theme",this.model.android.theme),sf.getAttrVal(this.element,"data-suggestion")!=null&&(this.model.fillSuggestion=JSON.parse(sf.getAttrVal(this.element,"data-suggestion",this.model.fillSuggestion))),this.model.autoFormat=sf.getAttrVal(this.element,"data-autoformat",this.model.autoFormat),this.model.delimiter=sf.getAttrVal(this.element,"data-delimiter",this.model.delimiter),this.model.minCharacter=parseInt(sf.getAttrVal(this.element,"data-minchar",this.model.minCharacter)),this.model.caseSensitive=sf.getBooleanVal(this.element,"data-casesensitve",this.model.caseSensitive),this.model.delay=parseInt(sf.getAttrVal(this.element,"data-delay",this.model.delay)),this.model.dataFetch=sf.getAttrVal(this.element,"data-datafetch",this.model.dataFetch)=="server"?0:1,this.model.actionMode=sf.getAttrVal(this.element,"data-actionmode",this.model.actionMode),this.model.listSize=parseInt(sf.getAttrVal(this.element,"data-listsize",this.model.listSize)),sf.getAttrVal(this.element,"data-itemcollection")!=null&&(this.model.itemsCollection=JSON.parse(sf.getAttrVal(this.element,"data-itemcollection",this.model.itemsCollection))),sf.getAttrVal(this.element,"data-datasource")!=null&&(this.model.dataSource=JSON.parse(sf.getAttrVal(this.element,"data-datasource",this.model.dataSource))),this.model.highlightItemIndex=sf.getAttrVal(this.element,"data-highlightitem",this.model.highlightItemIndex),this.model.listXPosition=parseInt(sf.getAttrVal(this.element,"data-listXpos",this.model.listXPosition)),this.model.listYPosition=parseInt(sf.getAttrVal(this.element,"data-listYpos",this.model.listYPosition)),this.model.rightToLeft=sf.getBooleanVal(this.element,"data-righttoleft",this.model.rightToLeft),this.model.autoFill=sf.getBooleanVal(this.element,"data-autofill",this.model.autoFill),this.model.requestMapper=sf.getAttrVal(this.element,"data-requestmapper",this.model.requestMapper),this.model.filterType=sf.getAttrVal(this.element,"data-filtertype",this.model.filterType),this.model.listHeight=parseInt(sf.getAttrVal(this.element,"data-listheight",this.model.listHeight)),this.model.allowCache=sf.getBooleanVal(this.element,"data-allowcache",this.model.allowCache),this.model.disable=sf.getBooleanVal(this.element,"data-disable",this.model.disable),this.model.hide=sf.getBooleanVal(this.element,"data-hide",this.model.hide),this.model.listWidth=parseInt(sf.getAttrVal(this.element,"data-listwidth",this.model.listWidth)),this.model.onFocusIn=sf.getAttrVal(this.element,"data-focusin",this.model.onFocusIn),this.model.onFocusOut=sf.getAttrVal(this.element,"data-focusout",this.model.onFocusOut),this.model.onValueChange=sf.getAttrVal(this.element,"data-valchange",this.model.onValueChange),this.model.value=sf.getAttrVal(this.element,"data-val",this.model.value),this.model.onSelect=sf.getAttrVal(this.element,"data-onselect",this.model.onSelect),this.model.onItemRendering=sf.getAttrVal(this.element,"data-itemrendering",this.model.onItemRendering),this.model.onLoad=sf.getAttrVal(this.element,"data-load",this.model.onLoad),this.model.onFiltering=sf.getAttrVal(this.element,"data-filtering"),this.model.onBeforeRequest=sf.getAttrVal(this.element,"data-beforerequest"),this.model.onSuccess=sf.getAttrVal(this.element,"data-success"),this.model.onFailure=sf.getAttrVal(this.element,"data-failure"),this.model.onComplete=sf.getAttrVal(this.element,"data-complete"),this.model.cssClass=sf.getAttrVal(this.element,"data-csscls"),this.model.width=sf.getAttrVal(this.element,"data-width");var n=$(this.element);n.attr("data-role","none"),$(document).bind("pageinit",function(){n.attr("data-role","sf-m-autocomplete")})},_renderControl:function(){var n,t,i,u,r,f,e,o,s;$(this.element).wrap("<div><\/div>"),n=$(this.element).parent(),$(n).attr("id",this.model.id+"_actextbox"),n.addClass("ac ac_wrapper acbox sf-btn-corner-all sf-font-normal sf-font-"+this.model.renderMode+" sf-m-"+this.model.renderMode),this.model.renderMode=="windows"&&n.addClass("sf-m-windows-font-ac"),t=$("<span class='imageleft'><\/span>"),i=$("<span class='sf-icon ac-icon'><\/span>"),this.model.renderMode=="android"?($(this.element).val(""),$(i).html(this.model.value!=""?this.model.value:"Search")):$(this.element).val(this.model.value),this.model.rightToLeft?(n.addClass("righttoleft"),t.addClass("righttoleft"),i.addClass("righttoleft")):(t.addClass("lefttoright"),i.addClass("lefttoright")),$(t).append(i),u=$("<span class='sfactext'><\/span>"),this.model.rightToLeft!=!1&&$(this.element).addClass("ac_rtl"),$(u).append(this.element),r=$("<span class='imageright' style='visibility: hidden;'><\/span>"),f=$("<span class='sf-icon ac-icon'><\/span>"),this.model.rightToLeft?(r.addClass("righttoleft"),f.addClass("righttoleft")):(r.addClass("lefttoright"),f.addClass("lefttoright")),$(r).append(f),$(this.element).addClass("acinput sf-font-normal textColor sf-font-"+this.model.renderMode),this.model.renderMode=="windows"?($(this.element).addClass("sf-m-windows-font-ac"),$(n).append(u),e=$("<div><\/div>"),e.addClass("ac-blackBackground"),$(n).append(e)):$(n).append(t).append(u).append(r),this.model.renderMode=="android"&&(o=$("<div><\/div>"),o.addClass("acborderlt"),$(n).append(o)),this.model.actionMode=="json"&&(s=this._renderSuggestionTemplate(),$(n).append(s)),this._initObjects(),this._renderSuggestionList()},_wireEvents:function(){this._elementText=$.proxy(this._typeKeyDownHandler,this),this._elFocus=$.proxy(this._onFocusHandler,this),this._elClk=$.proxy(this._onClickElement,this),this._elBlr=$.proxy(this._onBlurHandler,this),this._onWKdown=$.proxy(this._onKeyDownHandler,this),this._onWKup=$.proxy(this._onKeyUpHandler,this),this._sWrapMovr=$.proxy(this._onMouseOverHandler,this),this._sWrapMout=$.proxy(this._onMouseOutHandler,this),this._sWrapMdwn=$.proxy(this._onMouseDownHandler,this),this._windowresize=$.proxy(this._onResizeHandler,this),this._onClose=$.proxy(this._onCloseHandler,this),this._wrapEl=sf.getCurrentPage().find("#"+this._wrapperID),this._sWrapEl=sf.getCurrentPage().find("#"+this._sugWrapr),this._closeEl=$(sf.getCurrentPage().find("#"+this._mainDiv)).find(".imageright"),$(this.element).bind("keydown",this._elementText).bind("focus",this._elFocus).bind("blur",this._elBlr),$(this._wrapEl).bind("keydown",this._onWKdown).bind("keyup",this._onWKup),$(window).bind("resize",this._windowresize),sf.isTouchDevice()?(sf.bindTouchEvent(this.element,"touchstart",this._elClk),sf.bindTouchEvent(this._sugWrapr,"touchstart",this._sWrapMdwn),sf.bindTouchEvent(this._closeEl,"touchstart",this._onClose)):($(this.element).bind("click",this._elClk),$(this._sWrapEl).bind("mouseover",this._sWrapMovr).bind("mouseout",this._sWrapMout).bind("mousedown",this._sWrapMdwn),$(this._closeEl).bind("mousedown",this._onClose)),this._onLoaded()},_unWireEvents:function(){$(this.element).unbind("keydown",this._elementText).unbind("focus",this._elFocus).unbind("click",this._elClk).unbind("blur",this._elBlr),$(this._wrapEl).unbind("keydown",this._onWKdown).unbind("keyup",this._onWKup),$(this._sWrapEl).unbind("mouseover",this._sWrapMovr).unbind("mouseout",this._sWrapMout).unbind("mousedown",this._sWrapMdwn),$(window).unbind("resize",this._windowresize),$(this._closeEl).unbind("mousedown",this._onClose).unbind("touchstart",this._sWrapMdwn).unbind("touchstart",this._onClose)},_renderSuggestionTemplate:function(){var t=$("<div><\/div>"),r,u,n,i,o,f,s,e;return $(t).attr({id:this.model.id+"_suggestion_template",style:"display: none;"}),r="",u="",this.model.renderMode=="windows"&&(r="sf_ac_sl",u="sf-m-windows-font-ac"),n=$("<li><\/li>"),$(n).attr("id","{{>Text}}").addClass(r).addClass(u),i=$('<div class="imgspan"><\/div>'),this.model.rightToLeft&&i.addClass("sf-ac-"+this.model.renderMode+"-image-rtl"),o=$("<img class='suggestion_image' src='{{>ImageUrl}}'><\/img>"),$(i).append(o),$(n).append(i),f=$("<div class='suggestion_text sf-font-normal sf-font-"+this.model.renderMode+"'><\/div>"),s="{{>Text}}",$(f).html(s),$(n).append(f),$(t).append(n),e=$("<script id ='"+this.model.id+"_suggestion_template' type ='text/x-jsrender'><\/script>"),e[0].text=$(t).html().replace(/&gt;/g,">"),sf.getCurrentPage().append(e),t},_onLoaded:function(){$(this.element).focus();var n=$(this.element).val().length;this.model.rightToLeft?$(this.element).prop({selectionStart:n,selectionEnd:n}):$(this.element).prop({selectionStart:0,selectionEnd:0}),this.model.disable&&this.disable(),this.model.hide&&this.hide(),this.model.onLoad&&this._raiseEventRendering(this.model.onLoad,null,$(this._mainDiv)[0])},_initObjects:function(){this._actionMode=!0,this._currentList=0,this._delimiterFlag=0,this._dropdownFlag=!1,this._activeItem=0,this._listHeight=150,this._suggestionLength=0,this._inputTextBox=sf.getCurrentPage().find("#"+this.model.id),this._wrapperDiv=this.model.id+"_actextbox",this._wrapperID=this.model.id+"_actextbox",this._suggestionClass="ac_sl",this._suggestionID=this.model.id+"_suggestion",this._wrpDiv=sf.getCurrentPage().find("#"+this._wrapperDiv),this._sugWrapr=this.model.id+"_suggestion_wrapper",this._suggestionListID=this._suggestionID+" ul li",this._mainDiv=this.model.id+"_actextbox",this._dropdownButton=this.model.id+"_dropdownbutton",this._form=$(this.element).parents().find("form"),this.model.Error==!0&&$(this._inputTextBox).addClass("error"),(this.model.actionMode=="json"||this.model.dataFetch)&&$("#"+this.model.id+"_suggestion_template").appendTo(sf.getCurrentPage())},_setListWidth:function(){if(this.model.listWidth)$(this._sugEl).width(this.model.listWidth);else{var n=$(this._wrpDiv).width();$(this._sugEl).css({width:n-1+"px"})}},_setListHeight:function(){var t=/ipad|xoom|sch-i800|playbook|tablet|kindle/i.test(navigator.userAgent.toLowerCase()),n;this._pos=$(sf.getCurrentPage().find("#"+this._mainDiv)).height(),this.model.listHeight!=0?$(this._sugEl).css({"max-height":this.model.listHeight+"px"}):(n=$(window).height()-$(this._wrpDiv).offset().top-this._pos,$(this._sugEl).find("ul li").length*$($(this._sugEl).find("ul li")[0]).height()>$($(this._sugEl).find("ul li")[0]).height()&&(n=Math.round(n/$($(this._sugEl).find("ul li")[0]).height())-1+(Math.round(n/$($(this._sugEl).find("ul li")[0]).height())-1)*$($(this._sugEl).find("ul li")[0]).height()),$(this._sugEl).css({height:n+"px"}),this.targetHeight=n),$(this._sugEl).find(".ac-scroll-wrapper").height($(this._sugEl).find("ul").height())},_resetZIndex:function(){this._zIndex=Math.max.apply(null,$.map($("body *"),function(n){if($(n).css("position")=="absolute")return parseInt($(n).css("z-index"))||1})),(this._zIndex==undefined||this._zIndex==null)&&(this._zIndex=1)},_setListPosition:function(){if(this._resetZIndex(),this.model.listXPosition!=-1&&this.model.listYPosition!=-1)$(this._sugEl).css({position:"absolute",left:this.model.listXPosition+"px",top:this.model.listYPosition+10+"px","z-index":this._zIndex});else{var n=this.model.renderMode=="windows"?8:10;$(this._sugEl).css({position:"absolute",top:n+"px","z-index":this._zIndex})}},_showNoSuggestion:function(){var n=document.createElement("div");n.id=this._suggestionID,this.Css=this.model.cssClass+" sf-state-default sf-font-"+this.model.renderMode+" sf-font-normal",n.className=this.Css,n.innerHTML="No Suggestion",n.style.padding="10px",$(sf.getCurrentPage().find("#"+this._sugWrapr)).append(n),this._sugEl=sf.getCurrentPage().find("#"+this._suggestionID),$(this._sugEl).addClass(this._suggestionClass),$(this._sugEl).addClass("nosuggestion"),this.model.renderMode=="normal"&&(this._setListHeight(),this._setListWidth()),this.model.renderMode=="windows"&&(this._blackEl=sf.getCurrentPage().find(".ac-blackBackground"),$(this._blackEl).css({position:"absolute",top:this._pos+6+"px","z-index":this._zIndex,width:$(this._wrpDiv).width()+3+"px",display:"block"}),this._setListHeight(),$(this._sugEl).css({height:"22px"}),$(this._sugEl).css({width:$(this._wrpDiv).width()-15+"px"})),this._setListPosition(),this._showResult()},_showResult:function(){var t,i,n;this.model.renderMode=="windows"&&(this._blackEl=sf.getCurrentPage().find(".ac-blackBackground"),$(this._blackEl).css({position:"absolute",top:this._pos+6+"px","z-index":this._zIndex,width:$(this._wrpDiv).width()+3+"px",display:"block"})),t=parseInt(this._sugEl.css("margin-top")),i=parseInt($($("#"+this.model.id+"_scrollpanel").find(".sf-sp-vscroller")).css("top")),$(".sf-sp-vscroller").css("top",i-t+"px"),$(this._sugEl).css("margin-top","0px"),$(this._sugEl).slideDown(),this.listSize=$(this._suggestionListID).size(),n=this._queryString,this.model.renderMode=="windows"&&$($(this._sugEl).find("ul li")).each(function(){for(var r=$(this).find("div.suggestion_text")[0].innerHTML,i,u="",f=0,e=0,t=0,t=r.toUpperCase().indexOf(n.toUpperCase(),f);;)if(t>=0)t==0?(i=r.substring(0,n.length),u+="<span class='highlight'>"+i+"<\/span>",e=t+ +n.length):(i=r.substring(e,t),u+=i,i=r.substring(t,t+n.length),u+="<span class='highlight'>"+i+"<\/span>",e=t+ +n.length),f=t+ +n.length,t=r.toUpperCase().indexOf(n.toUpperCase(),f);else{f<=r.length?(i=r.substring(f),u+=i,$($(this).find("div.suggestion_text")[0]).html(u)):$($(this).find("div.suggestion_text")[0]).html(u);break}})},_hideResult:function(){this.model.renderMode=="windows"&&(this._blackEl=sf.getCurrentPage().find(".ac-blackBackground"),$(this._blackEl).css("display","none")),this._activeItem=0,$(this._sugEl).slideUp("slow",function(){}),$(this._sugEl).remove(),$("#"+this.model.id+"_scrollpanel").remove()},disable:function(){$(this._inputTextBox).attr("disabled","true")},enable:function(){$(this._inputTextBox).attr("disabled","")},show:function(){$(sf.getCurrentPage().find("#"+this._mainDiv)).css("display","block")},hide:function(){$(sf.getCurrentPage().find("#"+this._mainDiv)).css("display","none")},_getActiveItem:function(){return $(this._suggestionID+" ul li:nth-child("+this._activeItem+")")},_addListHover:function(){this._getActiveItem().addClass("sf-state-active"),this._getActiveItem()[0].scrollIntoView(!1),this._getActiveItem().focus()},_removeListHover:function(){$(this._suggestionListID).removeClass("sf-state-active")},_setTextBoxValue:function(){var n;n=this._activeItem!=0?this._getActiveItem().text():$(this.element).val(),this._delimiterFlag?$(this._inputTextBox).val(this._wholeQuery.substr(0,this._delimiterIndex+1)+n):this._suggestion&&$(this._inputTextBox).val(n),this.model.onValueChange&&this._raiseEvents("onValueChange")},_getClientObject:function(){var n={ID:this.model.id,QueryString:this._queryString,CaseSensitive:this.model.caseSensitive,DataFetch:this.model.dataFetch,ActionMode:this.model.actionMode,AndroidMode:this.model.android.theme,WindowsMode:this.model.WindowsMode,AutoFormat:this.model.cssClass,RenderMode:this.model.renderMode,ListSize:this.model.listSize,FilterType:this.model.filterType,RightToLeft:this.model.rightToLeft};return JSON.stringify(n)},_sendAjaxRequest:function(){var t={ClientObject:this._getClientObject(),QueryString:this._queryString},n;this.model.onBeforeRequest&&this._raiseAjaxEvent(this.model.onBeforeRequest,t),n=this,this._actionMode=this.model.actionMode=="json"?!0:!1,$.ajax({type:"Post",url:n.model.requestMapper,data:t,dataType:this._actionMode?"json":"html",success:function(t){n.model.OnSuccess&&n._raiseAjaxEvent(n.model.OnSuccess,t),n._suggestion=t,n.model.RenderMode=="windows"&&n._actionMode&&t.JSONdata.length==0&&(n._suggestion=""),n._onResponse(),n._suggestionListProperties(),n._rebindEvents()},complete:function(t){n.model.OnComplete&&n._raiseAjaxEvent(n.model.OnComplete,t)},error:function(t){n.model.OnFailure&&n._raiseAjaxEvent(n.model.OnFailure,t),n._hideResult()}})},_rebindEvents:function(){var t=$.proxy(this._clicksuggestion,this),i=$.proxy(this._clickmovesuggestion,this),r=$.proxy(this._clickendsuggestion,this),n=sf.getCurrentPage().find("#"+this._suggestionID+" li");startEvent=sf.isTouchDevice()?"touchstart":"mousedown",endEvent=sf.isTouchDevice()?"touchend":"mouseup",moveEvent=sf.isTouchDevice()?"touchmove":"mousemove",n.bind(startEvent,t),n.bind(moveEvent,i),n.bind(endEvent,r)},_fetchData:function(){var caseSensitive=this.model.caseSensitive?"g":"i",data=[],tempQueryString,tempSuggestion;$.each(this._suggestion,function(n,t){data.push(t.Text)}),this._suggestion=eval(data),tempQueryString=this.model.filterType=="startswith"?"^"+this._queryString:this._queryString,tempSuggestion=[],$(this._suggestion).each(function(n,t){var i=new RegExp(tempQueryString,caseSensitive);i.test(t)&&tempSuggestion.push(t)}),data={dataList:this._suggestion,filteredList:tempSuggestion},this.model.onFiltering&&this._raiseEvents("onFiltering",data),this._suggestion=tempSuggestion,this._onResponse(),this._suggestionListProperties()},_autoFill:function(){var n=$(this._inputTextBox)[0],t;this.model.fillSuggestion[0]&&$(n).val(this.model.fillSuggestion[0]),t=$(n).val().search(new RegExp(this._queryString,"gi")),n.setSelectionRange(t,t+this._queryString.length),$(n).focus()},_suggestionListProperties:function(){this.model.rightToLeft&&($(this._inputTextBox).css("text-align","right"),$(this._suggestionID+" *").css("text-align","right"),$(this._sugEl).css("direction","rtl")),eval(this.model.fillSuggestion)&&eval(this.model.fillSuggestion)[0]&&(this.model.highlightItemIndex>0&&this.model.highlightItemIndex-1<eval(this.model.fillSuggestion).length&&(this._activeItem=this.model.highlightItemIndex,this._setTextBoxValue(),this._addListHover()),this.model.autoFill&&this._autoFill())},_onResponse:function(){var suggestionString,tempArray,wrpscroll,ul,records,data,proxy;if(this._suggestion!=""?this._actionMode?(tempArray=[],this._suggestion.JSONdata.length!=0&&tempArray.push(this._suggestion.JSONdata[0].Text),this.model.fillSuggestion=tempArray):(suggestionString=JSON.parse(this._suggestion),this._suggestion=suggestionString[0],this.model.fillSuggestion=JSON.parse(suggestionString[1])):this.model.fillSuggestion="",this._hideResult(),this.model.fillSuggestion!=""){if(this._dropdownFlag&&(this.proxySuggestion=this._suggestion,this._dropdownFlag=!1),this.model.actionMode=="json"||this.model.dataSource&&this.model.dataFetch){var div=document.createElement("div"),pos=$(sf.getCurrentPage().find("#"+this._mainDiv)).height(),top=10;$(div).attr("id",this.model.id+"_suggestion").css({height:$(window).height()-$(this._wrpDiv).offset().top-(pos+top)+"px",width:"100%"}).addClass("sf-state-default sf-m-"+this.model.renderMode+" sf-m-"+this.model.android.theme+" ac_sl"),sf.browserDetect.mozilla&&$(div).css("left",-$("#"+this.model.id+"_actextbox").offset().left),wrpscroll=document.createElement("div"),$(wrpscroll).addClass("ac-scroll-wrapper"),ul=document.createElement("ul"),records=this._suggestion.JSONdata,this.model.dataFetch&&(data=[],proxy=this,$.each(this._suggestion,function(n,t){$.each(proxy.model.dataSource,function(n,i){i.Text==t&&data.push(i)})}),records=data),this.model.renderingEngine!="client"?($("#"+this.model.id+"_suggestion_template").removeData("tmpl"),$(ul).append("#"+this.model.id+"_suggestion_template",records)):$(ul).append($("#"+this.model.id+"_suggestion_template").render(eval(records))),$(ul).addClass("sf-clearall").addClass("sf_ac_sl sf-m-windows-font-ac"),$(wrpscroll).append(ul),$(div).append(wrpscroll),$(this._sWrapEl).append(div),this.model.dataFetch&&this._rebindEvents()}else $(this._sWrapEl).append(this._suggestion);this._suggestionLength=$(this._suggestionID+" li").length,this._sugEl=sf.getCurrentPage().find("#"+this._suggestionID),this._setListHeight(),this.model.renderMode=="normal"&&this._setListWidth(),this._setListPosition();var id=this.model.id+"_scrollpanel",targetid=this.model.id+"_suggestion",pos=$(sf.getCurrentPage().find("#"+this._mainDiv)).height(),top=10,targetheight=$(window).height()-$(this._wrpDiv).offset().top-(pos+top),scrollWrapper=$("<div id='"+id+"' data-scrolltype='Vertical' data-role='sf-m-scrollpanel' data-targetid='"+targetid+"' data-absolute='true' data-targetheight='"+targetheight+"' data-rendermode='"+this.model.renderMode+"' class ='sf-m-sp sf-clear-all sf-m-"+this.model.renderMode+"' style='margin-top: 22px;'><\/div>");$(this.element).append(scrollWrapper),sf.evalSfScripts($(this.element)),this._showResult()}else this._showNoSuggestion()},_getData:function(){this.model.dataFetch?this._suggestion||this.model.dataSource?(this._suggestion=this.model.dataSource,this._fetchData()):this._sendAjaxRequest():this._sendAjaxRequest()},_clicksuggestion:function(n){this._flag=!0,this.model.renderMode=="windows"&&$($(n.target).parent("li.sf_ac_sl")).addClass("sf_ac_sl_highlightList"),this._liEl=$(n.currentTarget),$(this._liEl).parents(".ac_sl").hasClass("sf-m-ios")?$(this._liEl).find(".suggestion_text").addClass("active"):this.model.renderMode=="windows"?$($(n.target).parent("li.sf_ac_sl")).addClass("sf_ac_sl_highlightList"):this._liEl.addClass("sf-state-active")},_clickmovesuggestion:function(n){this._flag=!1,this.model.renderMode=="windows"&&$($(n.target).parent("li.sf_ac_sl")).removeClass("sf_ac_sl_highlightList")},_clickendsuggestion:function(n){var i,t;this.model.renderMode=="windows"&&$($(n.target).parent("li.sf_ac_sl")).removeClass("sf_ac_sl_highlightList"),$(this._liEl).parents(".ac_sl").hasClass("sf-m-ios")?$(this._liEl).find(".suggestion_text").removeClass("active"):this._liEl.removeClass("sf-state-active"),this._flag==!0&&(i=$(n.currentTarget),$(this._inputTextBox).val(i.attr("id")),this._queryString=$(this._inputTextBox).val(),this._hideResult(),$(this.element).focus(),t=$(this.element).val().length,$(this.element).prop({selectionStart:t,selectionEnd:t}),this.model.onSelect&&this._raiseEvents("onSelect",n))},_onCloseHandler:function(){if($($(sf.getCurrentPage().find("#"+this._mainDiv)).find(".imageright")).css({visibility:"hidden"}),$(this.element).focus(),this.model.value!=null){$(this.element).addClass("textColor"),this.model.renderMode=="android"?($(this._wrapEl).find(">span:first-child span").addClass("sf-icon"),$(this._wrapEl).find(">span:first-child span").html(this.model.value),$(this.element).val("")):this.model.renderMode=="windows"?$(this.element).val("Search"):$(this.element).val(this.model.value);var n=$(this.element).val().length;this.model.rightToLeft?$(this.element).prop({selectionStart:n,selectionEnd:n}):$(this.element).prop({selectionStart:0,selectionEnd:0})}else $(this.element).val("");return this._hideResult(),!1},_onKeyUpHandler:function(n){var t,i,f,r,u;$(this._inputTextBox).hasClass("error")&&$(this._inputTextBox).removeClass("error"),t=n.target,i=this;switch(n.keyCode){case 37:break;case 39:case 13:$($(sf.getCurrentPage().find("#"+this._mainDiv)).find(".imageright")).css({visibility:"hidden"});break;case 8:$(this.element).val()==""&&($($(sf.getCurrentPage().find("#"+this._mainDiv)).find(".imageright")).css({visibility:"hidden"}),$(this.element).focus(),this.model.value!=null&&($(this.element).addClass("textColor"),this.model.renderMode=="android"?($(this._wrapEl).find(">span:first-child span").addClass("sf-icon"),$(this._wrapEl).find(">span:first-child span").html(this.model.value)):this.model.renderMode=="windows"||$(this.element).val(this.model.value),f=$(this.element).val().length,this.model.rightToLeft?$(this.element).prop({selectionStart:f,selectionEnd:f}):$(this.element).prop({selectionStart:0,selectionEnd:0})),this._hideResult());default:if(t==this.element[0]){if(r=t.value.lastIndexOf(this.model.delimiter),this._wholeQuery=t.value,u=t.value.length,this._delimiterFlag=0,this.model.delimiter==null||r==-1)this._queryString=t.value!=this.model.value?t.value:"";else{if(r+1==u)return this._hideResult(),!1;this._delimiterFlag=1,this._delimiterIndex=r,this._queryLength=u,this._queryString=t.value.substr(r+1,u)}this._queryString.length>=this.model.minCharacter?(clearTimeout(this._timeOut),this._timeOut=setTimeout(function(){i.model.dataSource&&i.model.dataFetch?(i._suggestion=i.model.dataSource,i._fetchData()):i._getData(t)},this.model.delay)):(clearTimeout(this._timeOut),this._hideResult()),this.model.onValueChange&&this._raiseEvents("onValueChange",n)}else this._hideResult()}},_onKeyDownHandler:function(n){this.model.renderMode=="android"&&$(this._wrapEl).find(">span:first-child span").removeClass("sf-icon"),$(this._wrapEl).find(">span:first-child span").html(""),this.model.autoFill&&(n.keyCode==8||n.keyCode>=46&&n.keyCode<=90||n.keyCode>=97&&n.keyCode<=105)&&this._queryString&&($(this._inputTextBox).val(this._wholeQuery),$("#"+this.model.id)[0].setSelectionRange(this._wholeQuery.length,this._wholeQuery.length)),n.keyCode==13&&$(this._sugEl)[0]&&(this._setTextBoxValue(),this.model.onSelect&&this._raiseEvents("onSelect"),this._hideResult(),n.preventDefault())},_onMouseOverHandler:function(n){var t=n.target;t.parentNode.parentNode&&(this._removeListHover(),t.parentNode.parentNode.id==this._suggestionID?($(t).addClass("sf-state-active"),this._activeItem=$(this._suggestionListID).index(t)+1):$(t).parents(this._suggestionListID)[0]&&(this._activeItem=$(this._suggestionListID).index($(t).parents(this._suggestionListID)[0])+1,$($(t).parents(this._suggestionListID)[0]).addClass("sf-state-active")))},_onMouseOutHandler:function(n){var t=n.target;t.parentNode.parentNode&&("#"+t.parentNode.parentNode.id==this._suggestionID?this._removeListHover():$(t).parents(this._suggestionListID)[0]&&this._removeListHover())},_typeKeyDownHandler:function(){if(this.model.value!=null){var n=$(this.element).val().split(this.model.value)[0];$(this.element).val(n),$(this.element).removeClass("textColor")}$($(sf.getCurrentPage().find("#"+this._mainDiv)).find(".imageright")).css({visibility:"visible"})},_onFocusHandler:function(){var n=$(this.element).val().length;this.model.value!=null&&this.model.value==$(this.element).val()&&(this.model.rightToLeft?$(this.element).prop({selectionStart:n,selectionEnd:n}):$(this.element).prop({selectionStart:0,selectionEnd:0})),this.model.renderMode=="android"&&($(this._wrapEl).addClass("sf-active"),$(this._wrapEl).find(".acborderlt").addClass("sf-active")),this.model.onFocusIn&&this._raiseEvents("onFocusIn")},_onClickElement:function(){var n=$(this.element).val().length;this.model.rightToLeft&&$(this.element).val()!=""&&$(this.element).prop({selectionStart:n,selectionEnd:n}),this.model.value!=null&&this.model.value==$(this.element).val()&&(this.model.rightToLeft?$(this.element).prop({selectionStart:n,selectionEnd:n}):$(this.element).prop({selectionStart:0,selectionEnd:0})),this.model.renderMode=="windows"&&$(this.element).val(this._queryString)},_onBlurHandler:function(n){this.model.renderMode=="android"&&($(this._wrapEl).removeClass("sf-active"),$(this._wrapEl).find(".acborderlt").addClass("sf-active")),this.model.renderMode=="windows"&&(this._queryString==""||this._queryString==undefined)&&$(this.element).val("Search"),this.model.onFocusOut&&this._raiseEvents("onFocusOut",n)},_onMouseDownHandler:function(n){var t=n.target;n.button==0&&("#"+t.parentNode.parentNode.id==this._suggestionID||$(t).parents(this._suggestionListID)[0])&&(this._setTextBoxValue(),this._suggestion&&(this._queryString=$(this._inputTextBox).val()),this.model.onSelect&&this._raiseEvents("onSelect",n),this._hideResult())},_onResizeHandler:function(){this._hideResult()},_raiseEvents:function(n,t){var i={element:this.element,oEv:t,value:$(this._inputTextBox).val(),ActiveItem:this._getActiveItem()};this._trigger(n,i)},_raiseEventRendering:function(n,t,i){var r={element:i,value:t};this._trigger(n,r)},_raiseAjaxEvent:function(n,t){this._trigger(n,t)},_renderSuggestionList:function(){var t=this.model.id+"_suggestion_wrapper",n;t&&$(t).remove(),n=document.createElement("div"),n.id=this.model.id+"_suggestion_wrapper",$(sf.getCurrentPage().find("#"+this._mainDiv)).append(n)},_setModel:function(n){var i=!1,t;for(t in n)t=="text"?this._setText():(t=="renderMode"||t=="autoFill"||t=="android"||t=="caseSensitive"||t=="rightToLeft"||t=="filterType")&&(i=!0);i&&this._refresh(),this._trigger("modelChange",{changes:n})},_refresh:function(){this._destroy(),this.element.addClass("m-autocompletetextbox"),this._renderControl(),this._wireEvents()},_clearElement:function(){var n=$("#"+this.model.id+"_actextbox"),t;this.element.insertAfter(n),n.remove(),t=$("div#"+this.model.id+"_suggestion_template"),t.remove(),this.element.removeAttr("class"),this.element.removeAttr("style")},_destroy:function(){this._unWireEvents(),this._clearElement()}}),m.AutoCompleteTextBox.filterType={Contains:"contains",StartsWith:"startswith"},m.AutoCompleteTextBox.dataFetch={Server:"server",Client:"client"}}(jQuery,Syncfusion),function(n,t,i){t.widget("mButton","m.Button",{_setFirst:!0,defaults:{inline:!1,touchStart:i,touchEnd:i,enable:!0,bindBack:!0,renderMode:"auto",renderingEngine:"client",text:"",imageUrl:i,ios:{buttonStyle:"normal",buttonColor:"gray"},android:{buttonStyle:"small",theme:"dark"},windows:{buttonStyle:"normal"}},dataTypes:{enable:"boolean",inline:"boolean",enable:"boolean",bindBack:"boolean",renderMode:"enum",renderingEngine:"enum",ios:{buttonStyle:"enum",buttonColor:"enum"},android:{buttonStyle:"enum",theme:"enum"},windows:{buttonStyle:"enum"}},_init:function(){this._setValues(),this.model.renderingEngine=="client"&&this._renderControl()},_setWrapperElement:function(){this.model.renderMode!="normal"?(this.model.renderingEngine!="client"&&(this.element=this.element.find("input")),this._wrapper=this.element):this.model.id?this._wrapper=sf.getCurrentPage().find("#"+this.model.id):this.model.renderMode=="windows"&&(this._wrapper=this.element),this.model.renderingEngine=="client"&&(this._wrapper=this.element.closest(".sf-m-btn"))},_setValues:function(){this.model.style=sf.getAttrVal(this.element,"style",this.element[0].style),this.model.inline=sf.getBooleanVal(this.element,"data-inline",this.model.inline),this.model.bindBack=sf.getBooleanVal(this.element,"data-bindback",this.model.bindBack),this.model.touchStart=sf.getAttrVal(this.element,"data-ontouchstart"),this.model.touchEnd=sf.getAttrVal(this.element,"data-ontouchend"),this.model.renderingEngine=sf.getAttrVal(this.element,"data-mode",this.model.renderingEngine),this.model.enable=sf.getBooleanVal(this.element,"data-enable",this.model.enable),this.model.renderMode=sf.getAttrVal(this.element,"data-rendermode",this.model.renderMode),this.model.renderMode=="auto"&&sf.setRenderMode(this),this._isLinkButton=this.element.attr("data-role").indexOf("button")==-1,this._isLinkButton?this._wrapper=this.element:this.model.text=sf.getAttrVal(this.element,"data-label"),this.model.id=this.element.attr("id"),this.model.renderingEngine=="client"&&(this.model.buttonType=sf.getAttrVal(this.element,"type","button"),this.model.name=sf.getAttrVal(this.element,"name"),this.model.imageUrl=sf.getAttrVal(this.element,"data-imageurl"),this.model.renderMode=="ios"&&(this.model.ios.buttonStyle=sf.getAttrVal(this.element,"data-ios-buttonstyle",this.model.ios.buttonStyle),this.model.ios.buttonColor=sf.getAttrVal(this.element,"data-buttoncolor",this.model.ios.buttonColor)),this.model.renderMode=="android"&&(this.model.android.buttonStyle=sf.getAttrVal(this.element,"data-android-buttonstyle",this.model.android.buttonStyle),this.model.android.theme=sf.getAttrVal(this.element,"data-android-theme",this.model.android.theme)),this.model.renderMode=="windows"&&(this.model.windows.buttonStyle=sf.getAttrVal(this.element,"data-windows-buttonstyle",this.model.windows.buttonStyle)))},_renderControl:function(){if(div=n("<div><\/div>"),this.model.id?n(div).attr("id",this.model.id+"_btnwrapper"):this.model.name&&n(div).attr("id",this.model.name+"_btnwrapper"),n(div).addClass("sf-m-btn sf-m-"+this.model.renderMode),div.attr("style",this.model.style),this.model.renderMode=="ios"&&this.model.inline&&n(div).addClass("sf-inline"),this.element[0].style.width!="")var t=Number(this.element[0].style.width.split("px")[0]);this._isLinkButton?(this.element[0].style.width=t-13+"px",span=n("<span><\/span>"),n(span).addClass("sf-syncmobbutton sf-button"),n(div).addClass("sf-font-default"),this.element.addClass("sf-font-"+this.model.renderMode+" sf-state-default"),this.element.attr("data-role")=="sf-m-actionlink"||this.element.attr("data-role")=="sf-m-ajaxactionlink"?(n(div).addClass("sf-actionlink"),this.element.addClass("sf-m-actionlink")):this.element.attr("data-role")=="sf-m-routelink"&&(n(div).addClass("sf-routelink"),this.element.addClass("sf-m-routelink"))):(this.element[0].style.width=t-3+"px",this.element.addClass("sf-font-default sf-state-default sf-btn-tag").prop("type",this.model.buttonType).attr("value",this.model.text)),this.model.renderMode=="ios"?n(div).addClass(" sf-m-"+this.model.ios.buttonStyle):this.model.renderMode=="windows"&&n(div).addClass(" sf-windows-"+this.model.windows.buttonStyle),this._isLinkButton||(span=n("<span><\/span>"),n(span).addClass("sf-syncmobbutton sf-button")),this.model.imageUrl!=null&&(iconspan=n("<span><\/span>"),n(iconspan).addClass("sf-image").attr("style","background-image:url('"+this.model.imageUrl+"')"),n(span).append(iconspan)),this.element.addClass("sf-font-"+this.model.renderMode+" sf-state-default"),this.element.prop("type",this.model.buttonType),this.model.renderMode=="android"&&(n(div).addClass("sf-m-"+this.model.android.buttonStyle+" sf-m-normal"),this.element.addClass("sf-font-"+this.model.android.buttonStyle+" sf-btn-tag sf-m-"+this.model.android.buttonStyle+" sf-m-"+this.model.android.theme)),this.model.renderMode.toLowerCase()=="ios"&&this.element.addClass("sf-corner-all"),this.model.renderMode=="ios"&&this.model.ios.buttonStyle=="normal"&&(n(div).addClass("sf-corner sf-m-"+this.model.ios.buttonColor),n(span).addClass("sf-corner"),this.element.addClass("sf-border-none sf-corner sf-m-"+this.model.ios.buttonColor)),this.element.attr("value",this.model.text),n(div).append(span),this.element.wrap(div),this.model.renderMode=="ios"&&this.model.ios.buttonStyle=="back"&&(backChild=n("<div><\/div>"),n(backChild).addClass("sf-m-back-child"),childSp=n("<div><\/div>"),n(childSp).addClass("sf-m-childsp"),this.element.parent().append(backChild),n(backChild).append(childSp)),this._isLinkButton||this._setWrapperElement(),this.model.renderMode=="windows"?this.model.enable?this.enable():this.disable():this._wireEvents()},_wireEvents:function(){startEvent=sf.isTouchDevice()?"touchstart":"mousedown",endEvent=sf.isTouchDevice()?"touchend":"mouseup",this._touchStartHandler=n.proxy(this._onTouchStartHandler,this),this._touchEndHandler=n.proxy(this._onTouchEndHandler,this),sf.bindTouchEvent(this._wrapper,startEvent,this._touchStartHandler),sf.bindTouchEvent(this._wrapper,endEvent,this._touchEndHandler)},_unWireEvents:function(){sf.isTouchDevice()?(sf.unBindTouchEvent(this._wrapper,startEvent,this._touchStartHandler),sf.unBindTouchEvent(this._wrapper,endEvent,this._touchEndHandler)):(n(this._wrapper).unbind(startEvent,this._touchStartHandler),n(this._wrapper).unbind(endEvent,this._touchEndHandler))},_onTouchStartHandler:function(){var n={element:this.element,text:this.element.val()};this.model.touchStart&&this._trigger("touchStart",n),(this.element.parents(".sf-m-btn").hasClass("sf-m-back")||this.element.parents(".sf-m-btn").hasClass("sf-m-normal")||this.element.parents(".sf-m-btn").hasClass("sf-m-small"))&&this.element.parent().addClass("active"),this.model.renderMode=="windows"&&this.model.windows.buttonStyle=="back"?this.element.parent().addClass("sf-state-active").removeClass("sf-state-default"):this.element.addClass("sf-state-active").removeClass("sf-state-default"),this._isLinkButton&&this.element.find(".sf-span .sf-text").addClass("sf-tcolor")},_onTouchEndHandler:function(){var n=this.element.val(),t;this.element[0].nodeName=="A"&&(n=this.element.html()),t={element:this.element,text:n},this.model.ios.buttonStyle=="back"&&!this.model.touchEnd&&this.model.bindBack?history.back():this.model.touchEnd&&this._trigger("touchEnd",t),this.model.renderMode=="windows"&&this.model.windows.buttonStyle=="back"?this.element.parent().addClass("sf-state-default").removeClass("sf-state-active"):this.element.addClass("sf-state-default").removeClass("sf-state-active"),this.element.parent().removeClass("active"),this._isLinkButton&&this.element.find(".sf-span .sf-text").removeClass("sf-tcolor")},_setText:function(){this._isLinkButton||this.element.attr("value",this.model.text)},disable:function(){this.element.hasClass("sf-state-disabled")||this.element.addClass("sf-state-disabled"),this._unWireEvents()},enable:function(){this.element.hasClass("sf-state-disabled")&&this.element.removeClass("sf-state-disabled"),this._wireEvents()},_setModel:function(n){var i=!1,t;for(t in n)(t=="renderMode"||t=="ios"||t=="android"||t=="enable")&&(i=!0);i&&this._refresh(),this._trigger("modelChange",{changes:n})},_refresh:function(){this._destroy(),this.element.addClass("m-button"),this._renderControl(),this._isLinkButton||this._setWrapperElement()},_clearElement:function(){var t=n("#"+this.model.id+"_btnwrapper");this.element.insertAfter(t),t.remove(),this.element.removeAttr("class")},_destroy:function(){this._unWireEvents(),this._clearElement()}})}(jQuery,Syncfusion),function(n,t,i){t.widget("mCheckBox","m.CheckBox",{_setFirst:!0,defaults:{id:null,touchStart:i,touchEnd:i,autoFormat:"darknight",renderMode:"auto",renderingEngine:"client",theme:"dark",disable:!1},dataTypes:{renderMode:"enum",renderingEngine:"enum",theme:"enum",disable:"boolean"},_init:function(){this._setValues()},_setValues:function(){this.model.renderingEngine=sf.getAttrVal(this.element,"data-mode",this.model.renderingEngine),this.model.renderMode=sf.getAttrVal(this.element,"data-rendermode",this.model.renderMode),this.model.renderMode=="auto"&&sf.setRenderMode(this),this.model.touchStop=sf.getAttrVal(this.element,"data-touchstop",this.model.touchStop),this.model.touchStart=sf.getAttrVal(this.element,"data-touchstart",this.model.touchStart),this.model.renderingEngine=="client"&&(this.model.id=sf.getAttrVal(this.element,"id"),this.model.id||(this.model.id=sf.getAttrVal(this.element,"name")),this.model.renderMode=="windows"&&(this.model.theme=sf.getAttrVal(this.element,"data-windows-theme",this.model.theme),this.model.disable=sf.getBooleanVal(this.element,"data-windows-disable",this.model.disable)),this.model.renderMode=="android"&&(this.model.theme=sf.getAttrVal(this.element,"data-android-theme",this.model.theme)),this._isChecked=sf.getAttrVal(this.element,"checked")=="checked"?!0:!1,(this.model.renderMode=="ios"||this.model.renderMode=="android"||this.model.renderMode=="windows")&&this._renderControl())},_renderControl:function(){var i=this.element.parent();i.attr("id","sf-"+this.model.id);var r=n('<div class="sf-div"><\/div>'),u=n('<div style="display: none;"><\/div>'),t=n("<span><\/span>"),f=n('<span class="sf-check-image"><\/span>');this.element.attr("class","sf-input"),this.element.attr("id",this.model.id),i.addClass("sf-m-"+this.model.renderMode+" sf-m-checkbox"),t.addClass("sf-innerspan"),this.model.renderMode=="windows"&&t.addClass("sf-m-"+this.model.theme),this.model.renderMode=="android"&&r.addClass("sf-m-"+this.model.theme),this._isChecked?(f.addClass("sf-check-icon"),t.addClass("sf-m-active")):t.addClass("sf-m-inactive"),t.append(f),r.append(t),this.element.wrap(u),u.wrap(i),i.append(r),this.element=i,this.model.renderMode=="windows"?this.model.enable?this.enable():this.disable():this._wireEvents()},_wireEvents:function(){startEvent=sf.isTouchDevice()?"touchstart":"mousedown",endEvent=sf.isTouchDevice()?"touchend":"mouseup",this._touchStartHandler=n.proxy(this._onTouchStart,this),this._touchStopHandler=n.proxy(this._onTouchStop,this),sf.isTouchDevice()?(sf.bindTouchEvent(this.element,startEvent,this._touchStartHandler),sf.bindTouchEvent(this.element,endEvent,this._touchStopHandler)):(this.element.bind(startEvent,this._touchStartHandler),this.element.bind(endEvent,this._touchStopHandler))},_unWireEvents:function(){sf.isTouchDevice()?(sf.unBindTouchEvent(this.element,startEvent,this._touchStartHandler),sf.unBindTouchEvent(this.element,endEvent,this._touchStopHandler)):(this.element.unbind(startEvent,this._touchStartHandler),this.element.unbind(endEvent,this._touchStopHandler))},_onTouchStart:function(){var n={element:this.element};this.model.touchStart&&this._trigger("touchStart",n),this.model.renderMode=="normal"?this.element.find(".sf-spaninner").hasClass("sf-state-active")?this.element.find(".sf-spaninner").hasClass("sf-state-default")||(this.element.find(".sf-state-active").removeClass("sf-state-active").addClass("sf-state-default"),this.element.find(".sf-check-image").removeClass("sf-icon"),this.element.find("input").removeAttr("checked")):(this.element.find(".sf-state-default").removeClass("sf-state-default").addClass("sf-state-active"),this.element.find(".sf-check-image").addClass("sf-icon"),this.element.find("input").attr("checked","checked")):this.element.find(".sf-innerspan").hasClass("sf-m-active")?this.element.find(".sf-innerspan").hasClass("sf-m-inactive")||(this.element.find(".sf-m-active").removeClass("sf-m-active").addClass("sf-m-inactive"),this.element.find(".sf-check-image").removeClass("sf-check-icon"),this.element.find("input").removeAttr("checked")):(this.element.find(".sf-m-inactive").removeClass("sf-m-inactive").addClass("sf-m-active"),this.element.find(".sf-check-image").addClass("sf-check-icon"),this.element.find("input").attr("checked","checked"))},_onTouchStop:function(){var n={element:this.element};this.model.touchStop&&this._trigger("touchStop",n)},disable:function(){this.element.hasClass("sf-state-disabled")||this.element.addClass("sf-state-disabled"),this._unWireEvents()},enable:function(){this.element.hasClass("sf-state-disabled")&&this.element.removeClass("sf-state-disabled"),this._wireEvents()},_setModel:function(n){var i=!1,t;for(t in n)(t=="renderMode"||t=="theme")&&(i=!0);i&&this._refresh(),this._trigger("modelChange",{changes:n})},_refresh:function(){this._destroy(),this.element.find("input").addClass("m-checkbox"),this._renderControl()},_clearElement:function(){var t=n("#sf-"+this.model.id);this.element.insertAfter(t),t.remove(),this.element.removeAttr("class")},_destroy:function(){this._unWireEvents(),this._clearElement()}})}(jQuery,Syncfusion),function(n,t,i){t.widget("mDatePicker","m.DatePicker",{_setFirst:!0,defaults:{mode:0,showButton:!0,showHeader:1,dateFormat:"mm/dd/yy",displayDefaultDate:!1,month:i,year:i,startDate:new Date(1899,11,31),endDate:i,showHeader:1,startDate:i,endDate:i,selectWeek:!1,numSelectable:Number.MAX_VALUE,selectMultiple:!1,calStartDay:0,stepMonths:1,showOtherMonths:!0,disableManualInput:!1,renderMode:"auto",minDate:"1/1/2000",maxDate:"12/31/2020",android:{theme:"dark"},renderingEngine:"client"},dataTypes:{showButton:"boolean",displayDefaultDate:"boolean",selectWeek:"boolean",selectMultiple:"boolean",showOtherMonths:"boolean",disableManualInput:"boolean",renderMode:"enum",android:{theme:"enum"},renderingEngine:"enum"},_init:function(){this._setValues(),this.model.renderingEngine=="client"&&this._renderControl(),this._wireEvents()},_setValues:function(){this.model.id=n(this.element).attr("id").split("_")[0],this.model.showButton=sf.getBooleanVal(this.element,"sf-date-showbtn",this.model.showButton),this.model.mode=sf.getAttrVal(this.element,"sf-date-mode",this.model.mode),this.model.mode=this.model.mode=="simple"?0:this.model.mode=="android"?1:2,this.model.showHeader=sf.getAttrVal(this.element,"data-showheader"),this.model.autoFormat=sf.getAttrVal(this.element,"data-autoformat"),this.model.calStartDay=Number(sf.getAttrVal(this.element,"data-calstartday",this.model.calStartDay)),this.model.stepMonths=Number(sf.getAttrVal(this.element,"data-stepmonths",this.model.stepMonths)),this.model.showOtherMonths=sf.getBooleanVal(this.element,"data-showothermonths",this.model.showOtherMonths),this.model.displayDefaultDate=sf.getBooleanVal(this.element,"data-displaydefaultdate",this.model.displayDefaultDate),this.model.disableManualInput=sf.getBooleanVal(this.element,"data-disablemanualinput",this.model.disableManualInput),this.model.minDate=sf.getAttrVal(this.element,"data-mindate",this.model.minDate),this.model.dateFormat=sf.getAttrVal(this.element,"data-dateformat",this.model.dateFormat),this.model.maxDate=sf.getAttrVal(this.element,"data-maxdate",this.model.maxDate),this.model.localization=sf.getAttrVal(this.element,"data-localization"),this.model.localize=sf.getAttrVal(this.element,"data-localize"),this.model.localizationPath=sf.getAttrVal(this.element,"data-localizationpath"),this.model.onDatePickerLoad=sf.getAttrVal(this.element,"data-ondatepickerload"),this.model.onDateSelected=sf.getAttrVal(this.element,"data-ondateselected"),this.model.onMonthChanged=sf.getAttrVal(this.element,"sf-date-onmonthchanged"),this.model.renderMode=sf.getAttrVal(this.element,"data-rendermode",this.model.renderMode),this.model.renderMode=="auto"&&sf.setRenderMode(this),this.model.android.theme=sf.getAttrVal(this.element,"data-android-theme",this.model.android.theme),this.model.renderingEngine=sf.getAttrVal(this.element,"data-mode","client"),this.model.defaultDate=sf.getAttrVal(this.element,"data-defaultdate",new Date),this._dateMoved=!1,this._monthMoved=!1,this._yearMoved=!1,this.model.renderMode=="ios"?(this._displacement=40,this._targetHeight=195):this.model.renderMode=="android"?(this._displacement=45,this._targetHeight=225):this.model.renderMode=="windows"&&(this._displacement=94,this._targetHeight=104),this._input=this.model.renderMode!="normal"?n(this.element):n(this.element).find("input"),this._currentDate=this.model.defaultDate,n(this.element).attr("data-role","none");var t=n(this.element);n(document).bind("pageinit",function(){t.attr("data-role","sf-m-textbox")})},_initialize:function(){this.model.renderMode=="ios"?(this._displacement=40,this._targetHeight=195):this.model.renderMode=="android"?(this._displacement=45,this._targetHeight=225):this.model.renderMode=="windows"&&(this._displacement=94,this._targetHeight=104),this._mode=this.model.mode,this._theDate=this._zeroTime(new Date),this._setStartDate(this.model._startDate),this._setEndDate(this.model._endDate),this._setDisplayedMonth(Number(this.model.month),Number(this.model.year)),this.model.localization==null?(Date.dayNames=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],Date.abbrDayNames=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],Date.monthNames=["January","February","March","April","May","June","July","August","September","October","November","December"],Date.abbrMonthNames=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],Date.format=this.model.dateFormat?this.model.dateFormat:"dd/mm/yy"):(this._localizedstring=JSON.parse(this.model.localization),Date.dayNames=this._localizedstring.dayNames,Date.abbrDayNames=this._localizedstring.dayNamesShort,Date.monthNames=this._localizedstring.monthNames,Date.abbrMonthNames=this._localizedstring.monthNamesShort,Date.format=this._localizedstring.dateformat),Date.firstDayOfWeek=this.model.calStartDay,Date.fullYearStart="20",this._selectedDates={},this._selectMultiple=this.model.selectMultiple,this._numSelectable=this.model.selectMultiple?this.model.numSelectable:1,this._numSelected=0,this.model.renderMode=="normal"&&(this._input=".sf-datepicker-input"),this._dpCalender=n(".sf-show-dp",this.element),this._startEv=sf.isTouchDevice()?"touchstart":"mousedown",this._moveEv=sf.isTouchDevice()?"touchmove":"mousemove",this._endEv=sf.isTouchDevice()?"touchend":"mouseup",this._oriEv=sf.isTouchDevice()?"orientationchange":"resize",this._dayInput=n(this.element).find(".sf-day-input"),this._monthInput=n(this.element).find(".sf-month-input"),this._yearInput=n(this.element).find(".sf-year-input"),this._sfCalendar=n(this.element).find("#"+this.model.id+"_calendar"),this._sfCalTable=".sf-calendar-container table",this._cWrapper=n(".sf-control-wrapper",this._sfCalendar),this._disbleMaualInput(),this._InitializeControl(),n(this._input).val(this._formatDate(new Date(this._currentDate))),this._flag=!0,this._sfHLWeekEnd=!1,this._isShowDp=!0,this.model.renderMode=="windows"&&n(this._wrapper).css("bottom",-window.innerHeight+"px")},_InitializeControl:function(){var t,i;n(".sf-input-wrapper",this.element).show(),t=n(this.element).find("#"+this.model.id+"_calendar"),sf.getCurrentPage().length!=0?sf.getCurrentPage().append(t):n("body").append(t),this._setTop(n(t)),this._mode==0?n(".sf-header-wrapper",this._sfCalendar).addClass("active"):n(".sf-header-wrapper",this._sfCalendar).removeClass("sf-dp-header"),n(".sf-header-text").html(this._formatter(this._theDate,"DD,MM d,yy")),n(this._dayInput).attr("data-role","none").val(this._theDate.getDate()),n(this._monthInput).attr("data-role","none").val(this._theDate.getMonth()+1),n(this._yearInput).attr("data-role","none").val(this._theDate.getFullYear()),this._calenderInitializer(),this.model.renderMode!="normal"&&(this._wrapper=n(this.element).find("#"+this.model.id+"_dp"),this.model.renderMode=="ios"&&sf.isTablet()&&this._wrapper.addClass("sf-m-tablet"),this._month=n("<div id='"+this.model.id+"dpmonth_scrollpanel' data-targetid ='"+this.model.id+"_dpmonth' data-role='sf-m-scrollpanel' data-targetheight='"+this._targetHeight+"' data-rendermode='"+this.model.renderMode+"'><\/div>"),this._wrapper.find("#"+this.model.id+"_dpmonth").append(this._month),this._month.mScrollPanel(),n("#"+this.model.id+"dpmonth_scrollpanel").mScrollPanel("getModel").onScrollEnd=n.proxy(this._onScrollStop,this),n("#"+this.model.id+"dpmonth_scrollpanel").mScrollPanel("getModel").bounce=!1,n("#"+this.model.id+"dpmonth_scrollpanel").mScrollPanel("getModel").onScrollStart=n.proxy(this._onScrollStart,this),n("#"+this.model.id+"dpmonth_scrollpanel").mScrollPanel("model.vScrollbar",!1),n("#"+this.model.id+"dpmonth_scrollpanel").mScrollPanel("resize"),this._date=n("<div id='"+this.model.id+"dpdate_scrollpanel' data-targetid ='"+this.model.id+"_dpdate' data-role='sf-m-scrollpanel' data-targetheight='"+this._targetHeight+"' data-rendermode='"+this.model.renderMode+"'><\/div>"),this._wrapper.find("#"+this.model.id+"_dpdate").append(this._date),this._date.mScrollPanel(),n("#"+this.model.id+"dpdate_scrollpanel").mScrollPanel("getModel").onScrollEnd=n.proxy(this._onScrollStop,this),n("#"+this.model.id+"dpdate_scrollpanel").mScrollPanel("getModel").onScrollStart=n.proxy(this._onScrollStart,this),n("#"+this.model.id+"dpdate_scrollpanel").mScrollPanel("getModel").bounce=!1,n("#"+this.model.id+"dpdate_scrollpanel").mScrollPanel("model.vScrollbar",!1),n("#"+this.model.id+"dpdate_scrollpanel").mScrollPanel("resize"),this._year=n("<div id='"+this.model.id+"dpyear_scrollpanel' data-targetid ='"+this.model.id+"_dpyear' data-role='sf-m-scrollpanel' data-targetheight='"+this._targetHeight+"' data-rendermode='"+this.model.renderMode+"'><\/div>"),this._wrapper.find("#"+this.model.id+"_dpyear").append(this._year),this._year.mScrollPanel(),n("#"+this.model.id+"dpyear_scrollpanel").mScrollPanel("getModel").onScrollEnd=n.proxy(this._onScrollStop,this),n("#"+this.model.id+"dpyear_scrollpanel").mScrollPanel("getModel").onScrollStart=n.proxy(this._onScrollStart,this),n("#"+this.model.id+"dpyear_scrollpanel").mScrollPanel("getModel").bounce=!1,n("#"+this.model.id+"dpyear_scrollpanel").mScrollPanel("model.vScrollbar",!1),n("#"+this.model.id+"dpyear_scrollpanel").mScrollPanel("resize"),sf.getCurrentPage().length!=0?sf.getCurrentPage().append(this._wrapper):n("body").append(this._wrapper)),this.model.renderMode=="android"&&(n(this._wrapper).css("height",this._targetHeight+"px"),n(this._wrapper).find(".sf-imgdown").css("top",this._targetHeight-n(this._wrapper).find(".sf-imgdown").innerHeight()+"px")),this.model.renderMode=="windows"&&(n(this._wrapper).css({"z-index":this._maxZindex()+1}),n(this._wrapper).find(".sf-m-dpwrap .sf-m-dp").css("padding-top",window.innerHeight/2-120+"px")),i=n(this.element).find("input"),n(document).bind("pageinit",function(){i.attr("data-role","sf-m-datepicker")})},_setWidth:function(){this._textBox.width("100%")},_renderControl:function(){var u,o,e,s,h,t;if(this._textBox=n(this.element),n(this.element).wrap("<div id='"+this.model.id+"_Wrapper'><\/div>"),n(this.element).attr("name",this.model.id),n(this.element).attr("readonly",!0),n(this.element).addClass("sf-datepicker-input"),this._textBox[0].style.width==""&&this._setWidth(),n("#"+this.model.id+"_Wrapper").width(sf.getDimension(n(this.element),"width")),this._setWidth(),this.element=n(this.element).parent(),n(this.element).addClass("sf-m-datepicker"),this.model.renderMode=="android"&&n(this.element).append("<span class='sf-textspan'><\/div>"),Date.dayNames=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],Date.abbrDayNames=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],Date.monthNames=["January","February","March","April","May","June","July","August","September","October","November","December"],Date.abbrMonthNames=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],Date.format=this.model.dateFormat?this.model.dateFormat:"dd/mm/yy",n(this.element).addClass("sf-m-datepicker sf-m-"+this.model.renderMode).attr("id",this.model.id+"_wrapper"),u=n('<div id="'+this.model.id+'_dp" class="sf-m-'+this.model.renderMode+' sf-m-dp"><\/div>'),this.model.renderMode=="windows"&&u.append("<div class='sf-dp-header'>Select Date<\/div>"),this.model.renderMode=="ios"&&(u.append("<div class='sf-dp-ptr'><\/div>"),this._header=sf.isTablet()?n('<div id="'+this.model.id+'_header" data-role="sf-m-header" data-showtitle="false" data-rightbuttoncaption="Clear" data-showrightbutton="true"><\/div>'):n('<div id="'+this.model.id+'_header" data-role="sf-m-header" data-showtitle="false" data-showleftbutton="true" data-leftbuttonstyle="header" data-leftbuttoncaption="Clear" data-rightbuttoncaption="Done" data-showrightbutton="true"><\/div>'),u.append(this._header),this._header.mHeader()),o=n('<div class="sf-m-dpinner"><\/div>'),e=n('<div class="sf-m-dpwrap"><\/div>'),this.model.renderMode=="ios")var i=n('<div class="sf-m-dp sf-m-dpdate sf-left"><div class="sf-datewrapper"><div id="'+this.model.id+'_dpdate"><div class="sf-dpouter"><div class="sf-m-text"><\/div><div class="sf-m-text"><\/div><\/div><\/div><\/div><div class="sf-overlay"><\/div><\/div>'),f=n('<div class="sf-m-dp sf-m-dpyear sf-right"><div class="sf-datewrapper"><div id="'+this.model.id+'_dpyear"><div class="sf-dpouter"><div class="sf-m-text"><\/div><div class="sf-m-text"><\/div><\/div><\/div><\/div><div class="sf-overlay"><\/div><\/div>'),r=n('<div class="sf-m-dp sf-m-dpmonth sf-center"><div class="sf-datewrapper"><div id="'+this.model.id+'_dpmonth"><div class="sf-dpouter"><div class="sf-m-text"><\/div><div class="sf-m-text"><\/div><\/div><\/div><\/div><div class="sf-overlay"><\/div><\/div>');else if(this.model.renderMode=="android")var i=n('<div class="sf-m-dp sf-m-dpdate sf-left"><div class="sf-dp-date sf-imgup sf-'+this.model.android.theme+'"><\/div><div class="sf-datewrapper"><div id="'+this.model.id+'_dpdate"><div class="sf-dpouter"><div class="sf-m-text"><\/div><div class="sf-m-text"><\/div><\/div><\/div><\/div><div class="sf-overlay"><\/div><div class="sf-dp-date sf-imgdown sf-'+this.model.android.theme+'"><\/div><\/div>'),f=n('<div class="sf-m-dp sf-m-dpyear sf-right"><div class="sf-dp-year sf-imgup sf-'+this.model.android.theme+'"><\/div><div class="sf-datewrapper"><div id="'+this.model.id+'_dpyear"><div class="sf-dpouter"><div class="sf-m-text"><\/div><div class="sf-m-text"><\/div><\/div><\/div><\/div><div class="sf-overlay"><\/div><div class="sf-dp-year sf-imgdown sf-'+this.model.android.theme+'"><\/div><\/div>'),r=n('<div class="sf-m-dp sf-m-dpmonth sf-center"><div class="sf-dp-month sf-imgup sf-'+this.model.android.theme+'"><\/div><div class="sf-datewrapper"><div id="'+this.model.id+'_dpmonth"><div class="sf-dpouter"><div class="sf-m-text"><\/div><div class="sf-m-text"><\/div><\/div><\/div><\/div><div class="sf-overlay"><\/div><div class="sf-dp-month sf-imgdown sf-'+this.model.android.theme+'"><\/div><\/div>');else var i=n('<div class="sf-m-dp sf-m-dpdate sf-left"><div class="sf-datewrapper"><div id="'+this.model.id+'_dpdate" class="sf-m-dpdate"><div class="sf-dpouter"><\/div><\/div><\/div><div class="sf-overlay"><\/div><\/div>'),f=n('<div class="sf-m-dp sf-m-dpyear sf-right"><div class="sf-datewrapper"><div id="'+this.model.id+'_dpyear" class="sf-m-dpyear"><div class="sf-dpouter"><\/div><\/div><\/div><div class="sf-overlay"><\/div><\/div>'),r=n('<div class="sf-m-dp sf-m-dpmonth sf-center"><div class="sf-datewrapper"><div id="'+this.model.id+'_dpmonth" class="sf-m-dpmonth"><div class="sf-dpouter"><\/div><\/div><\/div><div class="sf-overlay"><\/div><\/div>');for(s=this._getDaysInMonth(new Date(this.model.defaultDate)),t=1;t<=31;t++)h=Date.dayNames[new Date(this.model.defaultDate).getDay()],t<=s?this.model.renderMode=="windows"?i.find(".sf-dpouter").append("<div class=\"sf-m-text\"><div style='display:block;height: 20px;'>"+t+"<\/div><div class='sf-dp-dayweek' style='display:block;font-size:10px;height:15px;'>"+h+"<\/div><\/div>"):i.find(".sf-dpouter").append('<div class="sf-m-text">'+t+"<\/div>"):i.find(".sf-dpouter").append('<div class="sf-m-text sf-text-disabled">'+t+"<\/div>");if(n(e).append(i),this.model.renderMode=="ios"){for(t=0;t<Date.monthNames.length;t++)r.find(".sf-dpouter").append('<div class="sf-m-text">'+Date.monthNames[t]+"<\/div>");i.find(".sf-dpouter").append('<div class="sf-m-texthidden"><\/div><div class="sf-m-text"><\/div><div class="sf-m-text"><\/div>'),r.find(".sf-dpouter").append('<div class="sf-m-texthidden"><\/div><div class="sf-m-text"><\/div><div class="sf-m-text"><\/div>')}else if(this.model.renderMode=="android"){for(t=0;t<Date.monthNames.length;t++)r.find(".sf-dpouter").append('<div class="sf-m-text">'+Date.abbrMonthNames[t]+"<\/div>");i.find(".sf-dpouter").append('<div class="sf-m-texthidden"><\/div><div class="sf-m-text"><\/div><div class="sf-m-text"><\/div>'),r.find(".sf-dpouter").append('<div class="sf-m-texthidden"><\/div><div class="sf-m-text"><\/div><div class="sf-m-text"><\/div>')}else if(this.model.renderMode=="windows"){for(t=0;t<Date.monthNames.length;t++)r.find(".sf-dpouter").append("<div class=\"sf-m-text\"><div style='display:block;height: 20px;'>"+(t+1)+"<\/div><div style='display:block;font-size:10px;height:15px;'>"+Date.monthNames[t]+"<\/div><\/div>");i.find(".sf-dpouter").append('<div class="sf-m-texthidden"><\/div>'),r.find(".sf-dpouter").append('<div class="sf-m-texthidden"><\/div>')}for(n(e).append(r),t=new Date(this.model.minDate).getFullYear();t<=new Date(this.model.maxDate).getFullYear();t++)f.find(".sf-dpouter").append('<div class="sf-m-text">'+t+"<\/div>");this.model.renderMode!="windows"?f.find(".sf-dpouter").append('<div class="sf-m-texthidden"><\/div><div class="sf-m-text"><\/div><div class="sf-m-text"><\/div>'):f.find(".sf-dpouter").append('<div class="sf-m-texthidden"><\/div>'),n(e).append(f),n(o).append(e),n(u).append(o),this.model.renderMode=="ios"||this.model.renderMode=="windows"?(n(this.element).append(u),this.model.renderMode=="windows"&&(this._toolbar=n('<div id="'+this.model.id+'_toolbar"  data-showoverflow="true"  data-role="sf-m-toolbar" data-rendermode="windows"><ul><li id="fg" data-imgtype="check" data-text="Done"><\/li><li data-imgtype="cancel" data-text="Cancel"><\/li><\/ul><\/div>'),n(this._wrapper).append(this._toolbar),this._toolbar.css("display","none"),this._toolbar.mToolbar())):this.model.renderMode=="android"&&(this._dialog=n('<div id="'+this.model.id+'_dialog" data-role="sf-m-dialog" data-android-theme="'+this.model.android.theme+'" data-title="Set Date" data-android-leftbuttontext="Cancel" data-android-rightbuttontext="Set" data-android-dialogmode="confirm" data-rendermode="android"><\/div>'),n(this._dialog).append(u),n(this.element).append(this._dialog),this._dialog.mDialog(),this._dialog.find("#"+this.model.id+"_dpmonth").css("z-index","2"),this._dialog.find("#"+this.model.id+"_dpdate").css("z-index","2"),this._dialog.find("#"+this.model.id+"_dpyear").css("z-index","2")),this._initialize(),this._setInitialDate(new Date(this._currentDate))},_wireEvents:function(){startEvent=sf.isTouchDevice()?"touchstart":"mousedown",moveEvent=sf.isTouchDevice()?"touchmove":"mousemove",endEvent=sf.isTouchDevice()?"touchend":"mouseup",cancelevent=sf.isTouchDevice()?"touchend":"click",this.model.renderMode=="ios"?(sf.isTablet()?(sf.bindTouchEvent(n(document),cancelevent,n.proxy(this._docClick,this)),sf.bindTouchEvent(this._header.find(".sf-header-right"),endEvent,n.proxy(this._clearDate,this))):(sf.bindTouchEvent(this._header.find(".sf-header-left"),endEvent,n.proxy(this._clearDate,this)),sf.bindTouchEvent(this._header.find(".sf-header-right"),endEvent,n.proxy(this._setDateInput,this))),sf.bindTouchEvent(this._input,"focus",n.proxy(this._showCalender,this))):this.model.renderMode=="android"?(sf.bindTouchEvent(this._dialog.find("#"+this.model.id+"_dialog_btnA_btnwrapper"),endEvent,n.proxy(this._hidePicker,this)),sf.bindTouchEvent(this._dialog.find("#"+this.model.id+"_dialog_btnB_btnwrapper"),endEvent,n.proxy(this._setDateInput,this)),sf.bindTouchEvent(n(".sf-m-dpinner .sf-imgup"),startEvent,n.proxy(this._androidUp,this)),sf.bindTouchEvent(n(".sf-m-dpinner .sf-imgdown"),startEvent,n.proxy(this._androidDown,this)),sf.bindTouchEvent(n(".sf-m-dpinner .sf-imgup"),endEvent,n.proxy(this._androidUpClear,this)),sf.bindTouchEvent(n(".sf-m-dpinner .sf-imgdown"),endEvent,n.proxy(this._androidDownClear,this)),sf.bindTouchEvent(n(".sf-m-dpinner .sf-imgup"),moveEvent,n.proxy(this._androidUpClear,this)),sf.bindTouchEvent(n(".sf-m-dpinner .sf-imgdown"),moveEvent,n.proxy(this._androidDownClear,this)),sf.bindTouchEvent(this._input,"focus",n.proxy(this._showCalender,this))):this.model.renderMode=="windows"?(sf.bindTouchEvent(this._toolbar.find("li.sf-tbitem"),endEvent,n.proxy(this._winToolbarItem,this)),sf.bindTouchEvent(n(this._wrapper).find(".sf-m-dpwrap .sf-m-dp"),startEvent,n.proxy(this._outerScroll,this)),sf.bindTouchEvent(this._input,"focus",n.proxy(this._showCalender,this))):(sf.bindTouchEvent(n(this._input,this.element),"keyup",n.proxy(this._showCalender,this)),sf.bindTouchEvent(n(".sf-nav-text",this._sfCalendar),this._startEv,n.proxy(this._forwardNavHandler,this)),n(this._sfwrapper).bind("swipeleft swiperight",n.proxy(this._swipeEventHandler,this)),sf.bindTouchEvent(n(".sf-nav-next,.sf-nav-prev",this._sfCalendar),this._startEv,n.proxy(this._previousNextHandler,this)),this.model.showButton?sf.bindTouchEvent(n(".sf-show-dp",this.element),this._endEv,n.proxy(this._showAndroidHandler,this)):sf.bindTouchEvent(n(".sf-datepicker-input",this.element),"focus",n.proxy(this._showAndroidHandler,this)),sf.bindTouchEvent(n(".sf-icon-plus,.sf-icon-minus",this._sfCalendar),this._startEv,n.proxy(this._onDateNavHandler,this)),sf.bindTouchEvent(n(".sf-icon-plus,.sf-icon-minus",this._sfCalendar),this._endEv,n.proxy(this._onDateNavHandler,this)),this._mode==2&&sf.bindTouchEvent(n(".sf-header-wrapper",this._sfCalendar),this._endEv,n.proxy(this._onCalendarOpenHandler,this)),sf.bindTouchEvent(n(".sf-date-set,.sf-date-cancel",this._sfCalendar),this._endEv,n.proxy(this._onSetCancelDateHandler,this)),n(window).bind(this._oriEv,n.proxy(this._windowResize,this)),n(document).bind("scrollstop",n.proxy(this._positionPage,this)),sf.bindTouchEvent(n(this._input,this.element),"focus",n.proxy(this._showCalender,this)))},_wireHoverEvents:function(){var i=n(".sf-icon-plus,.sf-icon-minus,.sf-date-cancel,.sf-date-set,.sf-header-wrapper",this._sfCalendar),t;n(i).bind("mouseover",n.proxy(this._hOverHandler,this)),n(i).bind("mouseleave",n.proxy(this._hOverOutHandler,this)),t=n(".sf-icon-plus, .sf-icon-minus,.sf-header-wrapper,.sf-date-set,.sf-date-cancel,.sf-calendar-container table td:not(.other-month)",this._sfCalendar),sf.bindTouchEvent(n(t),this._startEv,n.proxy(this._hDownHandler,this)),sf.bindTouchEvent(n(t),this._endEv,n.proxy(this._hUpHandler,this)),sf.bindTouchEvent(n(t),this._moveEv,n.proxy(this._hUpHandler,this))},_unWireEvents:function(){startEvent=sf.isTouchDevice()?"touchstart":"mousedown",moveEvent=sf.isTouchDevice()?"touchmove":"mousemove",endEvent=sf.isTouchDevice()?"touchend":"mouseup",cancelevent=sf.isTouchDevice()?"touchend":"click",this._header?sf.isTablet()?(sf.unBindTouchEvent(n(document),cancelevent,n.proxy(this._docClick,this)),sf.unBindTouchEvent(this._header.find(".sf-header-right"),endEvent,n.proxy(this._clearDate,this))):(sf.unBindTouchEvent(this._header.find(".sf-header-left"),endEvent,n.proxy(this._clearDate,this)),sf.unBindTouchEvent(this._header.find(".sf-header-right"),endEvent,n.proxy(this._setDateInput,this))):this._dialog?(sf.unBindTouchEvent(this._dialog.find("#"+this.model.id+"_dialog_btnA_btnwrapper"),endEvent,n.proxy(this._hidePicker,this)),sf.unBindTouchEvent(this._dialog.find("#"+this.model.id+"_dialog_btnB_btnwrapper"),endEvent,n.proxy(this._setDateInput,this)),sf.unBindTouchEvent(n(".sf-m-dpinner .sf-imgup"),startEvent,n.proxy(this._androidUp,this)),sf.unBindTouchEvent(n(".sf-m-dpinner .sf-imgdown"),startEvent,n.proxy(this._androidDown,this)),sf.unBindTouchEvent(n(".sf-m-dpinner .sf-imgup"),endEvent,n.proxy(this._androidUpClear,this)),sf.unBindTouchEvent(n(".sf-m-dpinner .sf-imgdown"),endEvent,n.proxy(this._androidDownClear,this)),sf.unBindTouchEvent(n(".sf-m-dpinner .sf-imgup"),moveEvent,n.proxy(this._androidUpClear,this)),sf.unBindTouchEvent(n(".sf-m-dpinner .sf-imgdown"),moveEvent,n.proxy(this._androidDownClear,this))):this._toolbar?(sf.unBindTouchEvent(this._toolbar.find("li.sf-tbitem"),endEvent,n.proxy(this._winToolbarItem,this)),sf.unBindTouchEvent(n(this._wrapper).find(".sf-m-dpwrap .sf-m-dp"),startEvent,n.proxy(this._outerScroll,this))):(sf.unBindTouchEvent(n(this._input,this.element),"keyup",n.proxy(this._showCalender,this)),sf.unBindTouchEvent(n(".sf-nav-text",this._sfCalendar),this._startEv,n.proxy(this._forwardNavHandler,this)),n(this._sfwrapper).unbind("swipeleft swiperight",n.proxy(this._swipeEventHandler,this)),sf.unBindTouchEvent(n(".sf-nav-next,.sf-nav-prev",this._sfCalendar),this._startEv,n.proxy(this._previousNextHandler,this)),this.model.showButton?sf.unBindTouchEvent(n(".sf-show-dp",this.element),this._endEv,n.proxy(this._showAndroidHandler,this)):sf.unBindTouchEvent(n(".sf-datepicker-input",this.element),"focus",n.proxy(this._showAndroidHandler,this)),sf.unBindTouchEvent(n(".sf-icon-plus,.sf-icon-minus",this._sfCalendar),this._startEv,n.proxy(this._onDateNavHandler,this)),sf.unBindTouchEvent(n(".sf-icon-plus,.sf-icon-minus",this._sfCalendar),this._endEv,n.proxy(this._onDateNavHandler,this)),this._mode==2&&sf.unBindTouchEvent(n(".sf-header-wrapper",this._sfCalendar),this._endEv,n.proxy(this._onCalendarOpenHandler,this)),sf.unBindTouchEvent(n(".sf-date-set,.sf-date-cancel",this._sfCalendar),this._endEv,n.proxy(this._onSetCancelDateHandler,this)),n(window).unbind(this._oriEv,n.proxy(this._windowResize,this)),n(document).unbind("scrollstop",n.proxy(this._positionPage,this)),sf.unBindTouchEvent(n(this._input,this.element),"focus",n.proxy(this._showCalender,this))),sf.unBindTouchEvent(this._input,"focus",n.proxy(this._showCalender,this))},_disbleMaualInput:function(){this.model.disableManualInput&&n(this._input).attr("readonly",!0)},_setInitialDate:function(t){this._setNativeDate(t),!this.model.renderMode=="windows"&&(n(this._wrapper.find("#"+this.model.id+"_dpdate").find(".sf-dpouter .sf-m-text")[t.getDate()+1]).addClass("sf-text-active"),n(this._wrapper.find("#"+this.model.id+"_dpmonth").find(".sf-dpouter .sf-m-text")[t.getMonth()+2]).addClass("sf-text-active"),n(this._wrapper.find("#"+this.model.id+"_dpyear").find(".sf-dpouter .sf-m-text")[t.getFullYear()-new Date(this.model.minDate).getFullYear()+2]).addClass("sf-text-active")),this._setProperDate(0)},_setNativeDate:function(n){this.model.renderMode=="ios"?(this._date.mScrollPanel("scrollTo",0,-this._displacement*(n.getDate()-1)),this._month.mScrollPanel("scrollTo",0,-this._displacement*n.getMonth()),this._year.mScrollPanel("scrollTo",0,-this._displacement*(n.getFullYear()-new Date(this.model.minDate).getFullYear()))):this.model.renderMode=="windows"?(this._date.mScrollPanel("scrollTo",0,-this._displacement*(n.getDate()-1)),this._month.mScrollPanel("scrollTo",0,-this._displacement*n.getMonth()),this._year.mScrollPanel("scrollTo",0,-this._displacement*(n.getFullYear()-new Date(this.model.minDate).getFullYear()-1))):this.model.renderMode=="android"&&(this._date.mScrollPanel("scrollTo",0,-this._displacement*(n.getDate()-1)),this._month.mScrollPanel("scrollTo",0,-this._displacement*n.getMonth()),this._year.mScrollPanel("scrollTo",0,-this._displacement*(n.getFullYear()-new Date(this.model.minDate).getFullYear())))},_clearDate:function(){this.model.renderMode=="ios"&&(n(this._input).val(""),this._currentDate=this.model.defaultDate)},_onScrollStop:function(){var r,t,i;if(this._setProperDate(500),r=this,this.model.renderMode=="android")setTimeout(function(){n(".sf-imgup").css("display",""),n(".sf-imgdown").css("display","")},500);else if(this.model.renderMode=="windows"){var u=Math.round(this._date.mScrollPanel("getModel").y/this._displacement),f=Math.round(this._month.mScrollPanel("getModel").y/this._displacement),e=Math.round(this._year.mScrollPanel("getModel").y/this._displacement),h=-u+1,o=-f+1,s=-e+new Date(this.model.minDate).getFullYear();for(t=0;t<31;t++)i=Date.dayNames[new Date(o+"/"+(t+1)+"/"+s).getDay()],n(this._wrapper.find("#"+this.model.id+"_dpdate").find(".sf-dpouter .sf-m-text")[t]).find(".sf-dp-dayweek").html(i);this._dateMoved?(this._wrapper.find("#"+this.model.id+"_dpmonth").css("overflow","hidden"),this._wrapper.find("#"+this.model.id+"_dpyear").css("overflow","hidden"),this._dateMoved=!1):this._monthMoved?(this._wrapper.find("#"+this.model.id+"_dpdate").css("overflow","hidden"),this._wrapper.find("#"+this.model.id+"_dpyear").css("overflow","hidden"),this._monthMoved=!1):this._yearMoved&&(this._wrapper.find("#"+this.model.id+"_dpdate").css("overflow","hidden"),this._wrapper.find("#"+this.model.id+"_dpmonth").css("overflow","hidden"),this._yearMoved=!1)}},_onScrollStart:function(t){this.model.renderMode=="android"?t.target==this.model.id+"_dpdate"?(n(".sf-dp-date.sf-imgup").css("display","none"),n(".sf-dp-date.sf-imgdown").css("display","none")):t.target==this.model.id+"_dpmonth"?(n(".sf-dp-month.sf-imgup").css("display","none"),n(".sf-dp-month.sf-imgdown").css("display","none")):t.target==this.model.id+"_dpyear"&&(n(".sf-dp-year.sf-imgup").css("display","none"),n(".sf-dp-year.sf-imgdown").css("display","none")):this.model.renderMode=="windows"&&(t.target==this.model.id+"_dpdate"?(this._yearMoved||this._monthMoved||(this._wrapper.find("#"+this.model.id+"_dpmonth").css("overflow","hidden"),this._wrapper.find("#"+this.model.id+"_dpyear").css("overflow","hidden")),this._dateMoved=!0,this._monthMoved=!1,this._yearMoved=!1,this._wrapper.find("#"+this.model.id+"_dpdate").find(".sf-dpouter .sf-m-text").removeClass("sf-text-active"),this._wrapper.find("#"+this.model.id+"_dpdate").css("overflow","visible")):t.target==this.model.id+"_dpmonth"?(this._dateMoved||this._yearMoved||(this._wrapper.find("#"+this.model.id+"_dpdate").css("overflow","hidden"),this._wrapper.find("#"+this.model.id+"_dpyear").css("overflow","hidden")),this._dateMoved=!1,this._monthMoved=!0,this._yearMoved=!1,this._wrapper.find("#"+this.model.id+"_dpmonth").find(".sf-dpouter .sf-m-text").removeClass("sf-text-active"),this._wrapper.find("#"+this.model.id+"_dpmonth").css("overflow","visible")):t.target==this.model.id+"_dpyear"&&(this._dateMoved||this._monthMoved||(this._wrapper.find("#"+this.model.id+"_dpdate").css("overflow","hidden"),this._wrapper.find("#"+this.model.id+"_dpmonth").css("overflow","hidden")),this._dateMoved=!1,this._monthMoved=!1,this._yearMoved=!0,this._wrapper.find("#"+this.model.id+"_dpyear").find(".sf-dpouter .sf-m-text").removeClass("sf-text-active"),this._wrapper.find("#"+this.model.id+"_dpyear").css("overflow","visible")))},_refreshScroller:function(){this._year.mScrollPanel("resize"),this._month.mScrollPanel("resize"),this._date.mScrollPanel("resize")},_setProperDate:function(t){for(var s=Math.round(this._date.mScrollPanel("getModel").y/this._displacement),h=Math.round(this._month.mScrollPanel("getModel").y/this._displacement),c=Math.round(this._year.mScrollPanel("getModel").y/this._displacement),r=-s+1,u=-h+1,f=-c+new Date(this.model.minDate).getFullYear(),e=this._getDaysInMonth(new Date(u+"/1/"+f)),o,i=28;i<=31;i++)i<=e?n(this._wrapper.find("#"+this.model.id+"_dpdate").find(".sf-dpouter .sf-m-text")[i+1]).removeClass("sf-text-disabled"):n(this._wrapper.find("#"+this.model.id+"_dpdate").find(".sf-dpouter .sf-m-text")[i+1]).addClass("sf-text-disabled");e<r?(this._date.mScrollPanel("scrollTo",0,-(e-1)*this._displacement,t),r=e):this._date.mScrollPanel("scrollTo",0,s*this._displacement,t),this._month.mScrollPanel("scrollTo",0,h*this._displacement,t),this._year.mScrollPanel("scrollTo",0,c*this._displacement,t),this.model.renderMode=="ios"?(o=this,setTimeout(function(){n(o._input).val(o._formatDate(new Date(u+"/"+r+"/"+f))),o._currentDate=u+"/"+r+"/"+f},t)):this.model.renderMode=="windows"&&(this._wrapper.find("#"+this.model.id+"_dpdate").find(".sf-dpouter .sf-m-text").removeClass("sf-text-active"),this._wrapper.find("#"+this.model.id+"_dpmonth").find(".sf-dpouter .sf-m-text").removeClass("sf-text-active"),this._wrapper.find("#"+this.model.id+"_dpyear").find(".sf-dpouter .sf-m-text").removeClass("sf-text-active"),n(this._wrapper.find("#"+this.model.id+"_dpdate").find(".sf-dpouter .sf-m-text")[r-1]).addClass("sf-text-active"),n(this._wrapper.find("#"+this.model.id+"_dpmonth").find(".sf-dpouter .sf-m-text")[u-1]).addClass("sf-text-active"),n(this._wrapper.find("#"+this.model.id+"_dpyear").find(".sf-dpouter .sf-m-text")[f-new Date(this.model.minDate).getFullYear()]).addClass("sf-text-active"))},_setDateInput:function(){if(this.model.renderMode=="android"||this.model.renderMode=="windows"){var u=Math.round(this._date.mScrollPanel("getModel").y/this._displacement),f=Math.round(this._month.mScrollPanel("getModel").y/this._displacement),e=Math.round(this._year.mScrollPanel("getModel").y/this._displacement),t=-u+1,i=-f+1,r=-e+new Date(this.model.minDate).getFullYear();n(this._input).val(this._formatDate(new Date(i+"/"+t+"/"+r))),this._currentDate=i+"/"+t+"/"+r}this._hidePicker(),n(this._input).removeClass("sf-m-selected")},_hidePicker:function(){if(this.model.renderMode=="ios")if(sf.isTablet())n(this._wrapper).css({display:"none"}),n(this._wrapper).find(".sfheader").css({display:"none"}),n(this._input).blur();else{n(this._wrapper).css({bottom:-n(this._wrapper).innerHeight()+"px"});var t=this;setTimeout(function(){n(t._wrapper).css({display:"none"}),n(t._wrapper).find(".sfheader").css({display:"none"}),n(t._input).blur()},500)}else this.model.renderMode=="android"?(this._dialog.mDialog("hide"),n(this._input).blur(),n(this._input).siblings().removeClass("sf-m-selected")):this.model.renderMode=="windows"&&(this._wrapper.find("#"+this.model.id+"_dpdate").find(".sf-dpouter .sf-m-text").removeClass("sf-text-active"),this._wrapper.find("#"+this.model.id+"_dpmonth").find(".sf-dpouter .sf-m-text").removeClass("sf-text-active"),this._wrapper.find("#"+this.model.id+"_dpyear").find(".sf-dpouter .sf-m-text").removeClass("sf-text-active"),n(this._wrapper.find("#"+this.model.id+"_dpdate").find(".sf-dpouter .sf-m-text")[0]).addClass("sf-text-active"),n(this._wrapper.find("#"+this.model.id+"_dpmonth").find(".sf-dpouter .sf-m-text")[0]).addClass("sf-text-active"),n(this._wrapper.find("#"+this.model.id+"_dpyear").find(".sf-dpouter .sf-m-text")[0]).addClass("sf-text-active"),n(this._wrapper).css({top:"",bottom:window.innerHeight+"px",display:"none"}),this._toolbar.css("display","none"))},_onScrollAppend:function(){},_docClick:function(t){t.target.id==this.model.id||n(t.target).hasClass("sf-m-text")||n(t.target).hasClass("sf-m-texthidden")||n(t.target).hasClass("sf-overlay")||n(t.target).hasClass("sf-dpouter")||n(t.target).hasClass("sf-m-dpwrap")||n(t.target).hasClass("sf-m-dpinner")||n(t.target).hasClass("sf-m-dpinner")||t.target.id==this.model.id+"_header"||t.target.id==this.model.id+"_header_LeftButton"||t.target.id==this.model.id+"_header_RightButton"||n(t.target).hasClass("sf-header-content")||this._hidePicker()},_androidUp:function(t){var i=this;n(t.target).hasClass("sf-dp-date")?i._date.mScrollPanel("scrollTo",0,i._date.mScrollPanel("getModel").y-45,200):n(t.target).hasClass("sf-dp-month")?i._month.mScrollPanel("scrollTo",0,i._month.mScrollPanel("getModel").y-45,200):n(t.target).hasClass("sf-dp-year")&&i._year.mScrollPanel("scrollTo",0,i._year.mScrollPanel("getModel").y-45,200),this.androidUpinter=setInterval(function(){n(t.target).hasClass("sf-dp-date")?i._date.mScrollPanel("scrollTo",0,i._date.mScrollPanel("getModel").y-45,200):n(t.target).hasClass("sf-dp-month")?i._month.mScrollPanel("scrollTo",0,i._month.mScrollPanel("getModel").y-45,200):n(t.target).hasClass("sf-dp-year")&&i._year.mScrollPanel("scrollTo",0,i._year.mScrollPanel("getModel").y-45,200)},400)},_androidUpClear:function(){clearInterval(this.androidUpinter)},_androidDown:function(t){var i=this;n(t.target).hasClass("sf-dp-date")?i._date.mScrollPanel("scrollTo",0,i._date.mScrollPanel("getModel").y+45,200):n(t.target).hasClass("sf-dp-month")?i._month.mScrollPanel("scrollTo",0,i._month.mScrollPanel("getModel").y+45,200):n(t.target).hasClass("sf-dp-year")&&i._year.mScrollPanel("scrollTo",0,i._year.mScrollPanel("getModel").y+45,200),this._androidDowninter=setInterval(function(){n(t.target).hasClass("sf-dp-date")?i._date.mScrollPanel("scrollTo",0,i._date.mScrollPanel("getModel").y+45,200):n(t.target).hasClass("sf-dp-month")?i._month.mScrollPanel("scrollTo",0,i._month.mScrollPanel("getModel").y+45,200):n(t.target).hasClass("sf-dp-year")&&i._year.mScrollPanel("scrollTo",0,i._year.mScrollPanel("getModel").y+45,200)},400)},_androidDownClear:function(){clearInterval(this._androidDowninter)},_showCalender:function(t){var i,r;if(t.preventDefault(),i=this,this.model.renderMode=="ios"){if(sf.isTablet()){var u=n(this._wrapper).width(),f=u/2,e=n(this._input).offset().left+n(this._input)[0].offsetWidth/2,o=n(this._input).offset().top+n(this._input)[0].offsetHeight,h=n(window).width(),s=e-f;n(this._wrapper).css({left:s+"px",top:o+"px"})}else n(this._wrapper).css({bottom:"0px"});n(this._wrapper).css({display:""}),n(this._wrapper).find(".sfheader").css({display:""}),this._refreshScroller(),r=setTimeout(function(){i._setNativeDate(new Date(i._currentDate)),clearTimeout(r)},100)}else this.model.renderMode=="android"?this._dialog.mDialog("show"):this.model.renderMode=="windows"?(n(this._wrapper).css({top:"0px",bottom:"",display:""}),this._toolbar.css("display",""),this._wrapper.find("#"+this.model.id+"_dpdate").css("overflow","hidden"),this._wrapper.find("#"+this.model.id+"_dpmonth").css("overflow","hidden"),this._wrapper.find("#"+this.model.id+"_dpyear").css("overflow","hidden")):n(this._wrapper).css({bottom:"0px"});this.model.renderMode=="android"&&n(this._input).siblings().addClass("sf-m-selected"),n(this._input).addClass("sf-m-selected")},_maxZindex:function(){var t=1;return t=Math.max.apply(null,n.map(n("body *"),function(t){if(n(t).css("position")=="absolute")return parseInt(n(t).css("z-index"))||1})),(t==i||t==null)&&(t=1),t},_setDate:function(t){t.preventDefault(),n(this._wrapper).css({bottom:"-165px"}),n(this._input).removeClass("sf-m-selected")},_setAutoHeight:function(t){n(t).css({height:"100%",width:"100%"})},_setTop:function(t){var i=n(window).scrollTop(),e=this._getOffsetTop(t[0]),o=t.css("top")=="auto"?0:parseFloat(t.css("top")),r=window.innerHeight,u=t.outerHeight(),s=t.parents(".ui-page-active:not(.ui-page-fullscreen)").length,f;return f=i+r-u-(e-o),topVal=i+r-u,t.css("top",s?f:parseInt(topVal)<0?0:topVal)},_getOffsetTop:function(n){var t=0,i,r;if(n)for(r=document.body,i=n.offsetParent,t=n.offsetTop;n&&n!=r;)t+=n.scrollTop||0,n==i&&(t+=i.offsetTop,i=n.offsetParent),n=n.parentNode;return t},_winToolbarItem:function(t){n(t.target).parent().attr("data-text")=="Done"||n(t.target).parent().parent().attr("data-text")=="Done"||n(t.target).attr("data-text")=="Done"?this._setDateInput():this._hidePicker()},_outerScroll:function(t){n(t.target).hasClass("sf-m-dpdate")?(this._wrapper.find("#"+this.model.id+"_dpdate").css("overflow","visible"),this._wrapper.find("#"+this.model.id+"_dpmonth").css("overflow","hidden"),this._wrapper.find("#"+this.model.id+"_dpyear").css("overflow","hidden")):n(t.target).hasClass("sf-m-dpmonth")?(this._wrapper.find("#"+this.model.id+"_dpdate").css("overflow","hidden"),this._wrapper.find("#"+this.model.id+"_dpmonth").css("overflow","visible"),this._wrapper.find("#"+this.model.id+"_dpyear").css("overflow","hidden")):n(t.target).hasClass("sf-m-dpyear")&&(this._wrapper.find("#"+this.model.id+"_dpdate").css("overflow","hidden"),this._wrapper.find("#"+this.model.id+"_dpmonth").css("overflow","hidden"),this._wrapper.find("#"+this.model.id+"_dpyear").css("overflow","visible"))},_windowResize:function(){this._isShowDp&&(this._setTop(n(this._sfCalendar)),n(".sf-panel-wrapper",this._sfCalendar).removeAttr("style"),n(".sf-calendar-panel",this._sfCalendar).removeAttr("style"),n(".sf-calendar-panel",this._sfCalendar).css({width:"100%"}),n(".sf-control-wrapper",this._sfCalendar).css({height:window.innerHeight-2+"px",width:window.innerWidth-3+"px"}),n(".sf-calendar-container table",this._sfCalendar).hasClass("sf-dp-viewdays")&&(n(".sf-header-wrapper",this._sfCalendar).hasClass("sf-dp-header")?(n(".sf-header-wrapper",this._sfCalendar).addClass("sf-dp-header"),this._setHeaderTop(n(".sf-header-wrapper",this._sfCalendar))):this._setTop(n(".sf-header-wrapper",this._sfCalendar))))},_positionPage:function(){this._isShowDp&&(this._setTop(n(this._sfCalendar)),n(".sf-control-wrapper",this._sfCalendar).css({height:window.innerHeight-2+"px",width:window.innerWidth-3+"px"}),n(".sf-calendar-container table",this._sfCalendar).hasClass("sf-dp-viewdays")&&(n(".sf-header-wrapper",this._sfCalendar).hasClass("sf-dp-header")?(n(".sf-header-wrapper",this._sfCalendar).addClass("sf-dp-header"),this._setHeaderTop(n(".sf-header-wrapper",this._sfCalendar))):this._setTop(n(".sf-header-wrapper",this._sfCalendar))))},_showAndroidHandler:function(){n(this._cWrapper).show();var t=n(".ui-page-active #"+this.model.id+"_calendar");n(t).show(),n(".sf-control-wrapper",this._sfCalendar).css({height:window.innerHeight-2+"px",width:window.innerWidth-3+"px"}),n(this._cWrapper).css({marginTop:"0px"}),this._setTop(n(t)),this._isShowDp=!0},_hDownHandler:function(t){if(t.preventDefault(),n(t.currentTarget).hasClass("sf-header-wrapper")){n(t.currentTarget).addClass("sf-border-active"),n(".sf-header-text",this._sfCalendar).addClass("sf-header-active");var i=n(".sf-header-icon",this._sfCalendar);i.hasClass("sf-head-active")?i.addClass("sf-active-android"):i.addClass("sf-active-normal")}n(t.currentTarget).addClass("sf-state-active"),n(t.currentTarget).hasClass("sf-icon-plus")?n(t.currentTarget).addClass("sf-next-active"):n(t.currentTarget).hasClass("sf-icon-minus")&&n(t.currentTarget).addClass("sf-prev-active")},_hUpHandler:function(t){if(t.preventDefault(),n(t.currentTarget).hasClass("sf-header-wrapper")){n(".sf-header-text",this._sfCalendar).removeClass("sf-header-active");var i=n(".sf-header-icon",this._sfCalendar);i.hasClass("sf-active-android")?i.removeClass("sf-active-android"):i.removeClass("sf-active-normal")}n(t.currentTarget).removeClass("sf-state-active"),n(t.currentTarget).hasClass("sf-icon-plus")?n(t.currentTarget).removeClass("sf-next-active"):n(t.currentTarget).hasClass("sf-icon-minus")&&n(t.currentTarget).removeClass("sf-prev-active")},_hOverHandler:function(t){t.preventDefault(),n(t.currentTarget).hasClass("sf-header-wrapper")&&n(t.currentTarget).addClass("sf-border-active"),n(t.currentTarget).addClass("sf-state-hover"),n(t.currentTarget).hasClass("sf-state-active")||n(t.currentTarget).removeClass("sf-state-default")},_hOverOutHandler:function(t){t.preventDefault(),n(t.currentTarget).hasClass("sf-header-wrapper")&&n(t.currentTarget).removeClass("sf-border-active"),n(t.currentTarget).removeClass("sf-state-hover"),n(t.currentTarget).hasClass("sf-state-active")||(n(t.currentTarget).hasClass("sf-state-active")?n(t.currentTarget).addClass("sf-state-default").addClass("selected"):n(t.currentTarget).addClass("sf-state-default"))},_onSetCancelDateHandler:function(t){t.preventDefault(),n(t.currentTarget).hasClass("sf-date-set")&&n(".sf-datepicker-input",this.element).val(this._formatter(this._theDate,this.model.dateFormat)),this._sfCalendar.animate({top:document.documentElement.offsetHeight},700,function(){n(this).hide(100)}),n(this._cWrapper).hide(),this._isShowDp=!1},_onCalendarOpenHandler:function(t){t.preventDefault();var i=n(".sf-header-icon",this._sfCalendar),r=n(".sf-simple-calender",this._sfCalendar),u=n(".sf-android-calender",this._sfCalendar),f=n(".sf-header-wrapper",this._sfCalendar);n(".sf-header-wrapper",this._sfCalendar).hasClass("active")?(i.removeClass("sf-head-active"),r.addClass("hide-box"),u.removeClass("hide-box"),f.removeClass("active sf-dp-header")):(i.addClass("sf-head-active"),r.removeClass("hide-box"),u.addClass("hide-box"),f.addClass("active")),n(".sf-date-wrapper",this._sfCalendar).show(),n(".sf-calendar-container",this._sfCalendar).css("height","75%"),this._renderCalendar(this,this._theDate),n(".sf-nav-text",this._sfCalendar).text(this._asString(this._theDate,n.dpText.HEADER_FORMAT))},_onDateNavHandler:function(n){var t=this;if(n.preventDefault(),n.type==this._endEv)return clearTimeout(this._timeout),t._processDate(n),!1;n.type==this._startEv&&(this._timeout=setInterval(function(){t._processDate(n)},150))},_processDate:function(t){var r=t.target.tagName=="DIV"?n(t.target).parent()[0].className:n(t.target).parent().parent()[0].className,i=this._theDate;switch(r){case"sf-day-next":this._theDate=this._addDays(this._theDate,1);break;case"sf-month-next":this._theDate=this._addMonths(this._theDate,1);break;case"sf-year-next":this._theDate=this._addYears(this._theDate,1);break;case"sf-day-prev":this._theDate=this._addDays(this._theDate,-1);break;case"sf-month-prev":this._theDate=this._addMonths(this._theDate,-1);break;case"sf-year-prev":this._theDate=this._addYears(this._theDate,-1)}i=this._theDate,this._update(i)},_closeCalendar:function(t){t&&t!=this.element||(sf.unBindTouchEvent(n(document),"mousedown",this._checkMouse),n(".sf-calender-wrapper",this._sfCalendar).empty().remove())},_load:function(){var n={value:this.model};this.model.onDatePickerLoad&&this._trigger("onDatePickerLoad",n)},_update:function(t){n(this._dayInput).val(this._zeroPad(t.getDate())),n(this._monthInput).val(this._zeroPad(t.getMonth()+1)),n(this._yearInput).val(t.getFullYear()),n(".sf-header-text",this._sfCalendar).html(this._formatter(t,"DD,MM d,yy")),this._theDate=t},_formatter:function(n,t){var r;if(!n)return"";var s=Date.abbrDayNames,h=Date.dayNames,c=Date.abbrMonthNames,l=Date.monthNames,u=function(n){var i=r+1<t.length&&t.charAt(r+1)==n;return i&&r++,i},f=function(n,t,i){var r=""+t;if(u(n))while(r.length<i)r="0"+r;return r},o=function(n,t,i,r){return u(n)?r[t]:i[t]},i="",e=!1;if(n)for(r=0;r<t.length;r++)if(e)t.charAt(r)!="'"||u("'")?i+=t.charAt(r):e=!1;else switch(t.charAt(r)){case"d":i+=f("d",n.getDate(),2);break;case"D":i+=o("D",n.getDay(),s,h);break;case"o":i+=f("o",(n.getTime()-new Date(n.getFullYear(),0,0).getTime())/864e5,3);break;case"m":i+=f("m",n.getMonth()+1,2);break;case"M":i+=o("M",n.getMonth(),c,l);break;case"y":i+=u("y")?n.getFullYear():(n.getYear()%100<10?"0":"")+n.getYear()%100;break;case"@":i+=n.getTime();break;case"!":i+=n.getTime()*1e4+this._ticksTo1970;break;case"'":u("'")?i+="'":e=!0;break;default:i+=t.charAt(r)}return i},_isLeapYear:function(n){return n%4==0&&n%100!=0||n%400==0},_zeroTime:function(n){return n.setMilliseconds(0),n.setSeconds(0),n.setMinutes(0),n.setHours(0),n},_zeroPad:function(n){return(n<10?"0":"")+String(n)},_formatDate:function(n){return this._formatter(n,Date.format)},_getDaysInMonth:function(n){return[31,this._isLeapYear(n)?29:28,31,30,31,30,31,31,30,31,30,31][n.getMonth()]},_addDays:function(n,t){return n.setDate(n.getDate()+t),n},_addYears:function(n,t){return n.setFullYear(n.getFullYear()+t),n},_addMonths:function(n,t){var i=n.getDate();return n.setMonth(n.getMonth()+t),i>n.getDate()&&this._addDays(n,-n.getDate()),n},_isWeekend:function(n){return n.getDay()==0||n.getDay()==6},_asString:function(n,t){var i=t||Date.format;return i.split("yyyy").join(n.getFullYear()).split("yy").join((n.getFullYear()+"").substring(2)).split("mmmm").join(this._getMonthName(!1,n)).split("mmm").join(this._getMonthName(!0,n)).split("mm").join(this._zeroPad(n.getMonth()+1)).split("dd").join(this._zeroPad(n.getDate())).split("hh").join(this._zeroPad(n.getHours())).split("min").join(this._zeroPad(n.getMinutes())).split("ss").join(this._zeroPad(n.getSeconds()))},_getMonthName:function(n,t){return n?Date.abbrMonthNames[t.getMonth()]:Date.monthNames[t.getMonth()]},_displayNewMonth:function(n,t){return this._setDisplayedMonth(this._displayedMonth+n,this._displayedYear+t,!0),!1},_setStartDate:function(n){n&&(this._startDate=n instanceof Date?n:this._formatDate(n)),this._startDate||(this._startDate=this._zeroTime(new Date)),this._setDisplayedMonth(this._displayedMonth,this._displayedYear)},_setEndDate:function(n){n&&(this._endDate=n instanceof Date?n:this._formatDate(n)),this._endDate||(this._endDate=new Date("12/31/2099")),this._endDate.getTime()<this._startDate.getTime()&&(this._endDate=this._startDate),this._setDisplayedMonth(this._displayedMonth,this._displayedYear)},_setDisplayedMonth:function(n,t,r){var f,e,u,s,h,o;this._startDate!=i&&this._endDate!=i&&(f=new Date(this._startDate.getTime()),f.setDate(1),e=new Date(this._endDate.getTime()),e.setDate(1),!n&&!t||isNaN(n)&&isNaN(t)?(u=this._zeroTime(new Date),u.setDate(1)):u=isNaN(n)?new Date(t,this._displayedMonth,1):isNaN(t)?new Date(this._displayedYear,n,1):new Date(t,n,1),u.getTime()<f.getTime()?u=f:u.getTime()>e.getTime()&&(u=e),s=this._displayedMonth,h=this._displayedYear,this._displayedMonth=u.getMonth(),this._displayedYear=u.getFullYear(),o=u,r&&(this._displayedMonth!=s||this._displayedYear!=h)&&(this._renderCalendar(this,o),this._theDate=o,this.model.onMonthChanged&&this._trigger("onMonthChanged",[this._displayedMonth,this._displayedYear])))},_setSelected:function(t){var u=this;if(!(t<this._startDate)&&!(this._zeroTime(t)>this._zeroTime(this._endDate))){var i=n.extend({},n.fn.sfDatePicker.defaults),i=this._isSelected(t),r={Month:this.model.month,Year:this.model.year,Mode:this.model.mode,DateFormat:this.model.dateFormat};this.model.onDateSelected&&this._trigger("onDateSelected",r),this._update(t)}},_isSelected:function(n){return this._selectedDates[this._asString(n)]},_getSelected:function(){var t=[],n;for(n in this._selectedDates)this._selectedDates[n]==!0&&t.push(this._formatDate(n));return t},_clearSelected:function(){this._selectedDates={},this._numSelected=0,n("td.selected",this._sfwrapper).removeClass("selected").parent().removeClass("selectedWeek")},_hideOtherMonths:function(t){n("td.other-month",t).css("visibility","hidden")},_showOtherMonths:function(t){n("td.other-month",t).css({visibility:"visible"})},_calenderInitializer:function(){var t=function(n){return document.createElement(n)},i=n(".sf-simple-calender",this._sfCalendar),r=n(t("div")).addClass("sf-calendar-container"),f=n(t("div")).addClass("sf-panel-wrapper").appendTo(r),o=n(t("div")).addClass("sf-calendar-header").append(n(t("div")).addClass("sf-nav-prev").append(n(t("a")).addClass("sf-icon-prev sf-icon-"+this.model.autoFormat+""))).append(n(t("h4")).addClass("sf-nav-text").text(this._asString(this._theDate,n.dpText.HEADER_FORMAT))).append(n(t("div")).addClass("sf-nav-next").append(n(t("a")).addClass("sf-icon-next sf-icon-"+this.model.autoFormat+""))).appendTo(i),e,u;for(r.append(f),e=n(t("table")).addClass("sf-dp-viewdays").attr("cellspacing",2).data("sf-table","data"),u=0;u<3;u++)n(t("div")).addClass("sf-calendar-panel").append(e.clone(!0)).appendTo(f);i.append(r),i.append(n(".sf-date-wrapper",this._sfCalendar)),this._renderCalendar(this),this._sfwrapper=n(".sf-calendar-container",this._sfCalendar)},_swipeEventHandler:function(n){n.preventDefault();var t=n.type=="swiperight"?!0:!1;this._processNextPrevDate(t),this._slideAnimation(t)},_previousNextHandler:function(t){t.preventDefault();var r=n(t.target).is("a")?n(t.target.parentNode):n(t.target),i=r.hasClass("sf-nav-prev")?!0:!1;this._processNextPrevDate(i),this._slideAnimation(i)},_processNextPrevDate:function(t){var i=n(this._sfCalTable,this._sfCalendar),e=i.get(0).className,f,u,r;switch(e){case"sf-dp-viewdays":if(f=this.model.stepMonths,t){if(this._theDate.getFullYear()==this._startDate.getFullYear())return this._flag=!1,!1}else if(this._theDate.getFullYear()==this._endDate.getFullYear())return this._flag=!1,!1;this._flag=!0,this._addMonths(this._theDate,t?-f:f),this._renderCalendar(this,this._theDate),n(".sf-nav-text",this._sfCalendar).text(this._asString(this._theDate,n.dpText.HEADER_FORMAT));break;case"sf-dp-viewmonths":if(t){if(this._theDate.getFullYear()==this._startDate.getFullYear())return this._flag=!1,!1}else if(this._theDate.getFullYear()==this._endDate.getFullYear())return this._flag=!1,!1;this._flag=!0,this._addYears(this._theDate,t?-1:1),this._renderCalendar(this,this._theDate),n(".sf-nav-text",this._sfCalendar).text(this._theDate.getFullYear()),n("tbody,tr.sf-week-header",i).not(".sf-datepicker-months").hide(),n(n(i).find(".sf-datepicker-months")).show();break;case"sf-dp-viewyears":if(t){if(parseInt(n("td.sf-year-first:first").text())==this._startDate.getFullYear())return this._flag=!1,!1}else if(parseInt(n("td.sf-year-last:first").prev().text())==this._endDate.getFullYear())return this._flag=!1,!1;this._flag=!0,this._theDate.setFullYear(this._theDate.getFullYear()+(t?-10:10)),this._renderCalendar(this,this._theDate),r=parseInt(this._theDate.getFullYear())-(parseInt(this._theDate.getFullYear())%10+1),n(".sf-nav-text").text(r+1+" - "+(r+10)),n("tbody,tr.sf-week-header",i).not(".sf-datepicker-years").hide(),n(n(i).find(".sf-datepicker-years")).show();break;case"sf-dp-viewallyears":if(t){if(u=parseInt(n("td.sf-allyear-first",i.get(0)).text().split("-\n")[1]),u==this._startDate.getFullYear())return this._flag=!1,!1;this._flag=!0}else{if(u=parseInt(n("td.sf-allyear-last",i.get(0)).prev().text().split("-\n")[1]),u==this._endDate.getFullYear())return this._flag=!1,!1;this._flag=!0}this._theDate.setFullYear(u+(t?-10:10)),this._renderCalendar(this,this._theDate),r=parseInt(this._theDate.getFullYear())-(parseInt(this._theDate.getFullYear())%100+1),n(".sf-nav-text",this._sfCalendar).text(r+1+" - "+parseInt(n("td.sf-allyear-last",i.get(0)).prev().text().split("-\n")[1])),n("tbody,tr.sf-week-header",i).not(".sf-datepicker-allyears").hide(),n(n(i).find(".sf-datepicker-allyears")).show()}},_slideAnimation:function(t){var i,u,r;this._flag&&(i=n(".sf-panel-wrapper"),u=n(".sf-calendar-panel")[0].clientWidth,n(".sf-calendar-panel").width(u),i.width(u*3),t?(i.css("margin-left",-u+"px"),i.children(":nth-child(2)").css("margin-left",u+"px"),r=i.children(":nth-child(1)").clone(!0),r.css("margin-left","0px"),r.appendTo(i),i.children(":nth-child(1)").remove()):(i.css("margin-left","0px"),i.children(":nth-child(2)").css("margin-left",-(u*2)+"px"),r=i.children(":nth-child(1)").clone(!0),r.css("margin-left","0px"),i.children(":nth-child(1)").remove(),r.appendTo(i)))},_forwardNavHandler:function(t){var u,f;t.preventDefault(),n(".sf-header-wrapper").css("top",window.innerHeight+"px"),n(".sf-header-wrapper").removeClass("sf-dp-header");var r=n(t.currentTarget),i=n(this._sfCalTable,this._sfCalendar),e=n(this._sfCalTable,this._sfCalendar).get(0).className;switch(e){case"sf-dp-viewdays":i.removeClass("sf-dp-viewdays").addClass("sf-dp-viewmonths"),n("tbody,tr.sf-week-header",i).hide(),n(n(i).find(".sf-datepicker-months")).show(),r.text(this._theDate.getFullYear());break;case"sf-dp-viewmonths":i.removeClass("sf-dp-viewmonths").addClass("sf-dp-viewyears"),n("tbody,tr.sf-week-header",i).not(".sf-datepicker-years").hide(),n(n(i).find(".sf-datepicker-years")).show(),u=parseInt(this._theDate.getFullYear())-(parseInt(this._theDate.getFullYear())%10+1),r.text(u+1+" - "+(u+10));break;case"sf-dp-viewyears":this._renderCalendar(this,this._theDate),i.removeClass("sf-dp-viewyears").addClass("sf-dp-viewallyears"),n("tbody,tr.sf-week-header",i).not(".sf-datepicker-allyears").hide(),n(n(i).find(".sf-datepicker-allyears")).show(),f=parseInt(n("td.sf-allyear-first",i.get(0)).text().split("-")[1])+1+"-"+n("td.sf-allyear-last",i.get(0)).prev().text().split("-\n")[1],r.text(f)}n(".sf-header-wrapper",this._sfCalendar).hasClass("active")&&(n(".sf-date-wrapper",this._sfCalendar).hide(),n(".sf-calendar-container",this._sfCalendar).css("height","90%"))},_backwardNavHandler:function(t){var f,r;t.preventDefault();var u=n(t.target),i=n(this._sfCalTable,this._sfCalendar),e=n(this._sfCalTable,this._sfCalendar).get(0).className;switch(e){case"sf-dp-viewmonths":i.removeClass("sf-dp-viewmonths").addClass("sf-dp-viewdays"),this._theDate=new Date(this._theDate.getFullYear(),parseInt(n(u).attr("index")),1),this._renderCalendar(this,this._theDate),n("tbody",i).not(".sf-datepicker-days,.sf-week-header").hide(),n(".sf-header-wrapper",this._sfCalendar).hasClass("active")&&(n(".sf-calendar-container",this._sfCalendar).css("height","75%"),n(".sf-date-wrapper",this._sfCalendar).show()),n(n(i).find(".sf-datepicker-days,.sf-week-header")).show(),n(".sf-nav-text",this._sfCalendar).text(this._asString(this._theDate,n.dpText.HEADER_FORMAT));break;case"sf-dp-viewyears":i.removeClass("sf-dp-viewyears").addClass("sf-dp-viewmonths"),this._theDate.setFullYear(parseInt(u.text())),this._renderCalendar(this,this._theDate),n("tbody,tr.sf-week-header",i).not(".sf-datepicker-months").hide(),n(".sf-header-wrapper",this._sfCalendar).hasClass("active")&&(n(".sf-date-wrapper",this._sfCalendar).hide(),n(".sf-calendar-container",this._sfCalendar).css("height","90%")),n(n(i).find(".sf-datepicker-months")).show(),n(".sf-nav-text",this._sfCalendar).text(u.text());break;case"sf-dp-viewallyears":f=u.text().split("-"),i.removeClass("sf-dp-viewallyears").addClass("sf-dp-viewyears"),this._renderCalendar(this,new Date(f[0],0,1)),n("tbody,tr.sf-week-header",i).not(".sf-datepicker-years").hide(),n(".sf-header-wrapper",this._sfCalendar).hasClass("active")&&(n(".sf-date-wrapper",this._sfCalendar).hide(),n(".sf-calendar-container",this._sfCalendar).css("height","90%")),n(n(i).find(".sf-datepicker-years")).show(),n(".sf-nav-text",this._sfCalendar).text(f[0]+"-"+f[1]);break;default:this._clearSelected(),u.not("td.other-month").addClass("selected"),this._theDate=new Date(u.attr("title")),this._setSelected(new Date(this._theDate.getTime()),!1,!1,!0),r=n(".sf-header-wrapper",this._sfCalendar),e=="sf-dp-viewdays"&&this._mode!=0&&(r.hasClass("sf-dp-header")&&r.hasClass("active")?(r.removeClass("sf-dp-header"),r.css("top",window.innerHeight+"px")):(this._setHeaderTop(n(r)),r.addClass("sf-dp-header")))}},_setHeaderTop:function(t){n(t).css("top",window.innerHeight-n(t).outerHeight()+"px")},_datepickerMonths:function(t,i){for(var e=function(n){return document.createElement(n)},o=0,u,f,s,r=0;r<3;r++){for(u=n(e("tr")),f=0;f<4;f++)s=n(e("td")).addClass("sf-current-month sf-state-default").attr("index",o).html(Date.abbrMonthNames[o++]),u.append(s);t.append(u)}i.append(t)},_datepickerYears:function(t,i,r){for(var c=function(n){return document.createElement(n)},l=parseInt(r)-(parseInt(r)%10+1),o=[],e,s,h,u,f=0;f<12;f++)o.push(l+f);for(e=0,s=0;s<3;s++){for(h=n(c("tr")),f=0;f<4;f++)u=n(c("td")),e==0?(parseInt(o[e])==this._startDate.getFullYear()?u.css("visibility","hidden"):u.css("visibility","visible"),u.addClass("sf-year-first")):e==11?(parseInt(o[e])-1==this._endDate.getFullYear()?u.css("visibility","hidden"):u.css("visibility","visible"),u.addClass("sf-year-last")):u.addClass("sf-state-default"),u.html(o[e++]),h.append(u);t.append(h)}i.append(t)},_datepickerAllYears:function(t,i,r){for(var l=function(n){return document.createElement(n)},o=parseInt(r)-(parseInt(r)%100+10),a=o,s=[],e,h,c,u,f=0;f<12;f++)s.push(parseInt(o)+"-\n"+parseInt(o+9)),o=o+10;for(e=0,h=0;h<3;h++){for(c=n(l("tr")),f=0;f<4;f++)u=n(l("td")),e==0?(parseInt(s[e].split("-\n")[1])==this._startDate.getFullYear()?u.css("visibility","hidden"):u.css("visibility","visible"),u.addClass("sf-allyear-first")):e==11?(parseInt(s[e].split("-\n")[0]-1)==this._endDate.getFullYear()?u.css("visibility","hidden"):u.css("visibility","visible"),u.addClass("sf-allyear-last")):u.addClass("sf-state-default"),u.html(s[e++]),c.append(u);t.append(c)}i.append(t)},_renderCalendar:function(t,r){var e=function(n){return document.createElement(n)},y=this,h,o,p,w,a,c,l,b,k,it,d,s,g,nt,f;if(t=n.extend({},m.DatePicker.defaults,t),h=r?r:y._zeroTime(new Date),h.setHours(12),o=n(".sf-calendar-container table"),o.empty(),p=n(e("thead")),t.showHeader!=n.dpConst.SHOW_HEADER_NONE)for(w=n(e("tr")).addClass("sf-week-header"),s=Date.firstDayOfWeek;s<Date.firstDayOfWeek+7;s++)a=s%7,c=Date.dayNames[a],w.append(jQuery(e("th")).attr({scope:"col",abbr:c,title:c,"class":a==0||a==6?"weekend":"weekday"}).html(t.showHeader==n.dpConst.SHOW_HEADER_SHORT?c.substr(0,3):c));p.append(w),o.append(p),f=n(e("tbody")).addClass("sf-datepicker-years"),this._datepickerYears(f,o,h.getFullYear()),f=n(e("tbody")).addClass("sf-datepicker-allyears"),this._datepickerAllYears(f,o,h.getFullYear());var tt=t.month==i?h.getMonth():t.month,rt=t.year||h.getFullYear(),u=new Date(rt,tt,1,12,0,0),v=Date.firstDayOfWeek-u.getDay()+1;for(v>1&&(v-=7),l=Math.ceil((-1*v+1+this._getDaysInMonth(u))/7),l=l==5?6:l,this._addDays(u,v-1),b=y._zeroTime(new Date),b.setHours(12),k=y._zeroTime(new Date(n(".sf-header-text").text())),k.setHours(12),f=n(e("tbody")).addClass("sf-datepicker-days"),it=0;it++<l;){for(d=jQuery(e("tr")),s=0;s<7;s++)g=u.getMonth()==tt,nt=n(e("td")).text(u.getDate()+"").attr({title:u.toDateString()}).addClass((g?"current-month sf-state-default ":"other-month ")+(this._isWeekend(u)?this._sfHLWeekEnd?"sf-dp-weekend weekend":"weekend":"weekday ")+(g&&u.getTime()==b.getTime()?"today sf-state-active":"")),k.getTime()==u.getTime()&&nt.addClass("selected"),d.append(nt),u=new Date(u.getFullYear(),u.getMonth(),u.getDate()+1,12,0,0);f.append(d)}o.append(f),f=n(e("tbody")).addClass("sf-datepicker-months"),this._datepickerMonths(f,o),n("td",o).bind("tap",n.proxy(this._backwardNavHandler,this)),this._wireHoverEvents(),this.model.showOtherMonths?this._showOtherMonths(this._sfCalendar):this._hideOtherMonths(this._sfCalendar)},_setModel:function(n){var i=!1,t;for(t in n)(t=="renderMode"||t=="minDate"||t=="maxDate"||t=="android"||t=="dateFormat")&&(i=!0);i&&this._refresh(),this._trigger("modelChange",{changes:n})},_refresh:function(){this._destroy(),this.element.addClass("m-datepicker"),this._renderControl(),this._wireEvents()},_clearElement:function(){var t=n("#"+this.model.id+"_wrapper");this._input.insertAfter(t),t.remove(),this._dialog?(this._dialog.remove(),this._dialog=null):this._toolbar&&(this._toolbar.remove(),this._toolbar=null),this.element=n(this._input),this._wrapper.remove()},_destroy:function(){this._unWireEvents(),this._clearElement()}})}(jQuery,Syncfusion),$.dpConst={SHOW_HEADER_NONE:0,SHOW_HEADER_SHORT:1,SHOW_HEADER_LONG:2},$.dpText={TEXT_PREV_MONTH:"Previous Month",TEXT_NEXT_MONTH:"Next month",HEADER_FORMAT:"mmmm yyyy"},function(n,t,i){t.widget("mDialog","m.Dialog",{_setFirst:!0,defaults:{id:null,showAt:null,autoOpen:!1,title:null,onCreate:i,onBeforeClose:i,onOpen:i,onClose:i,onButtonTap:i,renderMode:"auto",renderingEngine:"client",modal:!1,showHeader:!0,ios:{dialogMode:"alert",headerTitle:"Title",leftButtonCaption:"Cancel",rightButtonCaption:"Send",showButton:!0,leftButtonType:"dialogok",rightButtonType:"dialogcancel"},android:{mode:"dark",dialogMode:"alert",headerTitle:"Title",leftButtonCaption:"Cancel",rightButtonCaption:"Send",showButton:!0,leftButtonType:"dialogok",rightButtonType:"dialogcancel"},windows:{dialogMode:"alert",headerTitle:"Title",leftButtonCaption:"Cancel",rightButtonCaption:"Send",showButton:!0,leftButtonType:"dialogok",rightButtonType:"dialogcancel"}},dataTypes:{autoOpen:"boolean",renderMode:"enum",renderingEngine:"enum",modal:"boolean",showHeader:"boolean",ios:{dialogMode:"enum",showButton:"boolean",leftButtonType:"enum",rightButtonType:"enum"},android:{mode:"enum",dialogMode:"enum",showButton:"boolean",leftButtonType:"enum",rightButtonType:"enum"},windows:{dialogMode:"enum",showButton:"boolean",leftButtonType:"enum",rightButtonType:"enum"}},_init:function(){this._setValues(),this.model.renderingEngine=="client"&&this._renderControl(),this._dialogInit(),this._wireEvents()},_setValues:function(){this._orgEle=n(this.element).clone(),this.model.id=n(this.element).attr("id"),this.model.renderMode=sf.getAttrVal(this.element,"data-rendermode",this.model.renderMode),this.model.renderingEngine=sf.getAttrVal(this.element,"data-mode",this.model.renderingEngine),this.model.renderMode=="auto"&&sf.setRenderMode(this),this.model.showAt=sf.getAttrVal(this.element,"data-showat"),this.model.modal=sf.getBooleanVal(this.element,"data-modal",this.model.modal),this.model.autoOpen=sf.getBooleanVal(this.element,"data-autoopen"),this.model.title=sf.getAttrVal(this.element,"data-title"),this.model.showHeader=sf.getBooleanVal(this.element,"data-ios-showheader",this.model.showHeader),this.model.onCreate=sf.getAttrVal(this.element,"data-oncreate"),this.model.onBeforeClose=sf.getAttrVal(this.element,"data-onbeforeclose"),this.model.onOpen=sf.getAttrVal(this.element,"data-onopen"),this.model.onClose=sf.getAttrVal(this.element,"data-onclose"),this.model.onButtonTap=sf.getAttrVal(this.element,"data-onbuttontap"),this.model.ios.dialogMode=sf.getAttrVal(this.element,"data-ios-dialogmode",this.model.ios.dialogMode),this.model.ios.headerTitle=sf.getAttrVal(this.element,"data-title",this.model.ios.headerTitle),this.model.ios.showButton=sf.getBooleanVal(this.element,"data-ios-showbutton",this.model.ios.showButton),this.model.ios.leftButtonText=sf.getAttrVal(this.element,"data-ios-leftbuttontext",this.model.ios.leftButtonCaption),this.model.ios.leftButtonType=sf.getAttrVal(this.element,"data-ios-leftbuttontype",this.model.ios.leftButtonType),this.model.ios.rightButtonText=sf.getAttrVal(this.element,"data-ios-rightbuttontext",this.model.ios.rightButtonCaption),this.model.ios.rightButtonType=sf.getAttrVal(this.element,"data-ios-rightbuttontype",this.model.ios.rightButtonType),this.model.windows.dialogMode=sf.getAttrVal(this.element,"data-windows-dialogmode",this.model.windows.dialogMode),this.model.windows.headerTitle=sf.getAttrVal(this.element,"data-windows-headertitle",this.model.windows.headerTitle),this.model.windows.showButton=sf.getBooleanVal(this.element,"data-windows-showbutton",this.model.windows.showButton),this.model.windows.leftButtonText=sf.getAttrVal(this.element,"data-windows-leftbuttontext",this.model.windows.leftButtonCaption),this.model.windows.leftButtonType=sf.getAttrVal(this.element,"data-windows-leftbuttontype",this.model.windows.leftButtonType),this.model.windows.rightButtonText=sf.getAttrVal(this.element,"data-windows-rightbuttontext",this.model.windows.rightButtonCaption),this.model.windows.rightButtonType=sf.getAttrVal(this.element,"data-windows-rightbuttontype",this.model.windows.rightButtonType),this.model.android.mode=sf.getAttrVal(this.element,"data-android-theme",this.model.android.mode),this.model.android.showButton=sf.getBooleanVal(this.element,"data-android-showbutton",this.model.android.showButton),this.model.android.leftButtonText=sf.getAttrVal(this.element,"data-android-leftbuttontext"),this.model.android.leftButtonType=sf.getAttrVal(this.element,"data-android-leftbuttontype",this.model.android.leftButtonType),this.model.android.rightButtonText=sf.getAttrVal(this.element,"data-android-rightbuttontext"),this.model.android.rightButtonType=sf.getAttrVal(this.element,"data-android-rightbuttontype",this.model.android.rightButtonType),this.model.android.dialogMode=sf.getAttrVal(this.element,"data-android-dialogmode",this.model.android.dialogMode),this._browser=sf.browserDetect.webkit?"-webkit-":sf.browserDetect.mozilla?"-moz-":sf.browserDetect.opera?"-o-":"-ms-",this._dialogWidth=n(this.element).width(),this._isActiveDialog=!0},_renderControl:function(){var h,e,i,f,t,r,u,s,o;this.model.renderMode=="ios"&&(n(this.element).addClass("sf-m-ios sf-dlg sf-m-"+this.model.ios.dialogMode+" sf-shadow sf-corner-all"),this.model.autoOpen&&n(this.element).addClass("sf-dlg-open"),this.model.ios.dialogMode=="confirm"||this.model.ios.dialogMode=="alert"?(n(this.element).addClass("sf-m-dlg-alert"),e=n("<div class='sf-dlg-content'><\/div>"),this.model.title&&(f=n("<div class = 'sf-dlg-title'><\/div>"),f.html(this.model.title),e.append(f)),i=n("<div class= 'sf-dlg-desc'><\/div>"),i.html(n(this.element).html()),e.append(i),n(this.element).empty(),this.model.ios.showButton&&(t=n("<div class='sf-dlg-btn'><\/div>"),this.model.ios.dialogMode=="alert"&&t.addClass("sf-m-alert"),r=n("<input type='reset'><\/input>"),t.append(r),this._renderButton(r,this.model.ios.leftButtonText,"A",this.model.ios.leftButtonType),this.model.ios.dialogMode=="confirm"&&(u=n("<input type='reset'><\/input>"),t.append(u),this._renderButton(u,this.model.ios.rightButtonText,"B",this.model.ios.rightButtonType)),e.append(t))):this.model.ios.dialogMode=="normal"&&(this.model.autoOpen||n(this.element).css("display","none"),n(this.element).css("bottom",this.model.autoOpen?"0px":"-"+(window.innerHeight+20)+"px"),n(this.element).addClass("sf-dlg-nstyle"),n(this.element).css("position","fixed"),s=n(this.element).html(),n(this.element).empty(),this.model.showHeader&&(this.header=n("<div data-role='sf-m-header' id='"+this.model.id+"_header' data-title = '"+this.model.ios.headerTitle+"' data-leftbuttoncaption ='"+this.model.ios.leftButtonText+"' data-rightbuttoncaption='"+this.model.ios.rightButtonText+"' data-rendermode='ios' data-leftbuttonstyle='header' data-position ='normal' data-mode='client' data-showleftbutton='true' data-showrightbutton='true'><\/div>"),this.model.onButtonTap&&this.header.attr({"data-onleftbuttonclick":this.model.onButtonTap,"data-onrightbuttonclick":this.model.onButtonTap}),n(this.element).append(this.header)),o=n("<div id='dlgcontent' class ='sf-dlg-content'><\/div>"),o.html(s),n(this.element).append(o),n(this.element).height(window.innerHeight),h=n("<div id='"+this.model.Id+"_scroll' data-scrolltype='Vertical' data-role='sf-m-scrollpanel' data-targetid='dlgcontent' data-absolute='false'  data-rendermode='"+this.model.renderMode+"'><\/div>"),n(o).append(h),h.mScrollPanel())),this.model.renderMode=="android"&&(n(this.element).addClass("sf-m-android sf-dlg sf-font-android"),this.model.android.mode=="light"&&n(this.element).addClass("sf-dlg-light"),this.model.autoOpen?n(this.element).addClass("sf-dlg-open"):sf.getAndroidVersion()<=3&&n(this.element).hide(),(this.model.android.dialogMode=="confirm"||this.model.android.dialogMode=="alert")&&(n(this.element).addClass("sf-m-dlg-alert"),e=n("<div class='sf-dlg-content'><\/div>"),this.model.title&&(f=n("<div class = 'sf-dlg-title'><\/div>"),f.html(this.model.title),e.append(f)),i=n("<div class= 'sf-dlg-desc sf-font-normal'><\/div>"),i.html(n(this.element).html()),e.append(i),n(this.element).empty(),this.model.android.showButton&&(t=n("<div class='sf-dlg-btn'><\/div>"),this.model.android.dialogMode=="alert"&&t.addClass("sf-m-alert"),r=n("<input type='reset'><\/input>"),t.append(r),this._renderButton(r,this.model.android.leftButtonText,"A",this.model.android.leftButtonType),r.addClass("sf-m-"+this.model.android.mode),this.model.android.dialogMode=="confirm"&&(u=n("<input type='reset'><\/input>"),t.append(u),this._renderButton(u,this.model.android.rightButtonText,"B",this.model.android.rightButtonType),u.addClass("sf-m-"+this.model.android.mode)),e.append(t)))),this.model.renderMode=="windows"&&(n(this.element).addClass("sf-m-windows sf-dlg"),this.model.autoOpen?n(this.element).addClass("sf-dlg-open"):n(this.element).addClass("sf-dlg-closed"),i=n("<div class= 'sf-dlg-content sf-m-windows'><\/div>"),i.html(n(this.element).html()),n(this.element).empty(),this.model.title&&this.model.showHeader&&(f=n("<div class='sf-dlg-title sf-m-windows'><\/div>"),f.html(this.model.title),n(this.element).append(f)),n(this.element).append(i),this.model.windows.dialogMode=="confirm"||this.model.windows.dialogMode=="alert"?this.model.windows.showButton&&(t=n("<div class='sf-dlg-btns'><\/div>"),this.model.windows.dialogMode=="alert"&&t.addClass("sf-m-alert"),r=n("<input type='reset'><\/input>"),t.append(r),this._renderButton(r,this.model.windows.leftButtonText,"A",this.model.windows.leftButtonType),this.model.windows.dialogMode=="confirm"&&(u=n("<input type='reset'><\/input>"),t.append(u),this._renderButton(u,this.model.windows.rightButtonText,"B",this.model.windows.rightButtonType)),i.append(t)):this.model.ios.dialogMode=="normal"&&(n(this.element).addClass("sf-dlg-norstyle"),s=n(this.element).html(),n(this.element).empty(),o=n("<div class ='sf-dlg-content sf-font-small'><\/div>"),o.html(s),n(this.element).append(o))),n(this.element).append(e),sf.evalSfScripts(n(this.element))},_renderButton:function(n,t,i,r){n.attr({"data-role":"sf-m-button","data-label":t,id:this.model.id+"_btn"+i,"data-ios-buttonstyle":r,"data-buttoncolor":"white","data-rendermode":this.model.renderMode,"data-mode":"client","data-ontouchend":this.model.onButtonTap})},_dialogInit:function(){this._dialog=n(this.element),this._dialog.parents("form").length>0?this._dialog.appendTo(this._dialog.parents("form")):this._dialog.appendTo(n(sf.getCurrentPage())),this.model.modal&&this._setModalDialog(),this._setDialogPosition(),n(this._dialog).css({"z-index":this._max_zindex()+1})},_wireEvents:function(){var i,t;startEvent=sf.isTouchDevice()?"touchstart":"mousedown",moveEvent=sf.isTouchDevice()?"touchmove":"mousemove",endEvent=sf.isTouchDevice()?"touchend":"mouseup",n(window).bind("resize",n.proxy(this._onResize,this)),n(window).bind("orientationchange",n.proxy(this._onOrientationChange,this)),this.model.renderMode=="ios"||this.model.renderMode=="android"||this.model.renderMode=="windows"?(this._dshow=!1,this.model.autoOpen&&(this._dshow=!0),(this.model.renderMode=="ios"||this.model.renderMode=="android")&&(i=this._dialog.find(".sf-m-btn input"),t=this,n.each(i,function(i,r){n(r).mButton("model").touchEnd=n.proxy(t._onBtnClickHandler,t)}))):this.model.renderMode=="normal"&&(this._documentClickHanlder=n.proxy(this._onDocumentClick,this),this._clickHanlder=n.proxy(this._onDialogClickHandler,this),this._mouseDownHanlder=n.proxy(this._onMouseDownHandler,this),this._mouseMoveHanlder=n.proxy(this._onMouseMoveHandler,this),this._mouseUpHanlder=n.proxy(this._onMouseUpHandler,this),sf.isTouchDevice()?(sf.bindTouchEvent(n(this.element),"click",this._clickHanlder),sf.bindTouchEvent(document,"click",this._documentClickHanlder),sf.bindTouchEvent(n(this.element),startEvent,this._mouseDownHanlder),sf.bindTouchEvent(n(this.element),moveEvent,this._mouseMoveHanlder),sf.bindTouchEvent(n(this.element),endEvent,this._mouseUpHanlder)):(this._dialog.find("#"+this.model.id+"-header").bind(startEvent,this._mouseDownHanlder),this._dialog.bind(startEvent,this._mouseDownHanlder).bind(moveEvent,this._mouseMoveHanlder).bind(endEvent,this._mouseUpHanlder).bind("click",this._clickHanlder),n(document).bind("click",this._documentClickHanlder)))},_unWireEvents:function(){this._dialog.unbind("click",this._clickHanlder).unbind(moveEvent,this._mouseMoveHanlder).unbind(startEvent,this._mouseDownHanlder).unbind(endEvent,this._mouseUpHanlder)},_onResize:function(){this._setDialogPosition()},_onOrientationChange:function(){var n=this;window.setTimeout(function(){n._setDialogPosition()},500)},_aDocClick:function(t){this._dshow&&n(t.originalTarget).parents("#"+this.model.id).length==0&&this.hide()},_onDocumentClick:function(t){n(t.target).parents().hasClass("sf-dlg")||this._setDialogActive(!1)},_onDialogClickHandler:function(t){this._setDialogActive(!0),(n(t.target).hasClass("sf-dialog-close")||n(t.target).parent().hasClass("sf-dialog-close"))&&this.hide()},_onMouseMoveHandler:function(t){n(t.target).hasClass("sf-dialog-close")&&n(t.target).addClass("sf-state-hover"),n(t.target).parent().hasClass("sf-dialog-close")?n(t.target).parent().addClass("sf-state-hover"):this._dialog.find(".sf-dialog-close").removeClass("sf-state-hover")},_onMouseDownHandler:function(t){this._setDialogActive(!0),n(t.target).hasClass("sf-dialog-close")&&n(t.target).addClass("sf-state-active"),n(t.target).parent().hasClass("sf-dialog-close")?n(t.target).parent().addClass("sf-state-active"):this._dialog.find(".sf-dialog-close").removeClass("sf-state-active")},_onMouseUpHandler:function(){this._dialog.find(".sf-dialog-close").removeClass("sf-state-active")},_setDialogActive:function(t){var i=this._dialog.find(".sf-dialog-header-wrapper");t?n(i).addClass("sf-state-active"):n(i).removeClass("sf-state-active")},_load:function(){var n={element:this.element};this.model.onCreate&&this._trigger(this.model.onCreate,n)},_onBtnClickHandler:function(n){var t={element:this.element,ButtonText:n.Text};this.model.onButtonTap&&this._trigger("onButtonTap",n)},_setDialogPosition:function(){var t=(window.innerHeight-sf.getDimension(this._dialog,"outerHeight"))/2;this.model.renderMode=="ios"&&(t=t<30?30:t),(!sf.isAndroid()||sf.isPortrait())&&(!sf.isAndroid()||sf.isMobile())&&sf.isAndroid()?sf.isAndroid()&&sf.isPortrait()&&sf.isMobile()&&this._dialog.css("left",0):this._dialog.css("left",(window.innerWidth-sf.getDimension(this._dialog,"outerWidth"))/2+"px"),this.model.renderMode=="ios"&&this.model.ios.dialogMode=="normal"?(this._dialog.hasClass("sf-dlg-open")?this._dialog.css("height",window.innerHeight+"px"):this._dialog.css("bottom",-(sf.getDimension(this._dialog,"outerHeight")+10)+"px"),sf.isPortrait()?(this._dialog.css("left","0px"),this._dialog.css("width","100%"),n(this._dialog.find("#dlgcontent")).css("width","100%")):(this._dialog.width(""),n(this._dialog.find("#dlgcontent")).width(""))):this._dialog.css("top",t),this.model.showAt!=null&&this.model.renderMode!="ios"&&(this._dialog.css("position","absolute"),this._dialog.css("left",this.model.showAt.X+"px"),this._dialog.css("top",this.model.showAt.Y+"px")),this.model.renderMode=="windows"&&this._dialog.css({position:"absolute",left:"0px",top:"0px"})},_setModalDialog:function(){var t=this._dialog.find(".sf-m-dlg.sf-modal-overlay");(t==null||t.length<=0)&&(t=document.createElement("div"),n(t).addClass("sf-m-"+this.model.renderMode+" sf-m-dlg sf-modal-overlay"),this.model.android.mode=="light"&&n(t).addClass("sf-dlg-light")),this.model.autoOpen||n(t).css("display","none"),n(document.body).append(t),this.model.renderMode=="ios"?n(t).css("height",window.innerHeight+"px"):n(t).css("height","100%")},_getElementPosition:function(n){if(n!=null&&n.length>0)return{left:n[0].offsetLeft,top:n[0].offsetTop,height:n[0].offsetHeight,width:n[0].offsetWidth}},_max_zindex:function(){var t=1;return t=Math.max.apply(null,n.map(n("body *"),function(t){if(n(t).css("position")=="absolute")return parseInt(n(t).css("z-index"))||1})),(t==i||t==null)&&(t=1),t},disable:function(){this._dialog.attr("disabled","disabled"),this._dialog.find(".sf-dialog-container").hasClass("sf-state-disabled")||this._dialog.find(".sf-dialog-container").addClass("sf-state-disabled"),this._unWireEvents()},enable:function(){this._dialog.removeAttr("disabled"),this._dialog.find(".sf-dialog-container").hasClass("sf-state-disabled")&&this._dialog.find(".sf-dialog-container").removeClass("sf-state-disabled"),this._wireEvents()},show:function(){var r,t,u,i,f,e;this.model.modal&&n("body").find(".sf-modal-overlay").length<=0&&(r=document.createElement("div"),n(r).addClass("sf-modal-overlay"),n("body").append(r)),this.model.renderMode=="ios"||this.model.renderMode=="android"||this.model.renderMode=="windows"?(this._dshow=!0,this.model.modal&&n("body").find(".sf-modal-overlay").show(),t=sf.browserDetect.webkit?"-webkit-transform":sf.browserDetect.mozilla?"-moz-transform":sf.browserDetect.opera?"-o-transform":"-ms-transform",this.model.renderMode=="android"?sf.getAndroidVersion()<=3?(this._dialog.show(),this._dialog.css(t,"scale(1)")):this._dialog.css(t,"scale(1)"):this.model.renderMode=="windows"?(this._dshow=!0,u=this._browser,i=this._dialog,this._dialog.removeClass("sf-dlg-closed").addClass("sf-dlg-open"),i.css(u+"transition","none"),i.css(t,"rotateX(90deg)"),setTimeout(function(){i.css(u+"transition","all 0.1s"),i.css(t,"rotateX(0deg)")},100)):this.model.ios.dialogMode!="normal"?(this._dialog.css(t,"scale(1.1)"),f=this,setTimeout(function(){f._dialog.css(t,"scale(1)")},250)):(this._dialog.css("display","block"),this._dialog.css("bottom","0px"))):this.model.renderMode=="normal"&&(this._dialog.css("display","none"),this._dialog.show(this.model.ShowAnim,null,500,this.callback)),e={element:this.element,Title:this.model.title},this.model.onOpen&&this._trigger("onOpen",e)},hide:function(){var r={element:this.element,Title:this.model.title},t,u;if(this.model.onBeforeClose&&this._trigger("onBeforeClose",r),this.model.renderMode=="ios"||this.model.renderMode=="android")this._dshow=!1,this.model.modal&&n("body").find(".sf-modal-overlay").hide(),t=sf.browserDetect.webkit?"-webkit-transform":sf.browserDetect.mozilla?"-moz-transform":sf.browserDetect.opera?"-o-transform":"-ms-transform",this.model.ios.dialogMode!="normal"?(this._dialog.hide(),this._dialog.css(t,"scale(0)")):this._dialog.css("bottom","-"+(window.innerHeight+50)+"px"),u=this,(this.model.renderMode=="ios"||this.model.renderMode=="android"&&sf.getAndroidVersion()>=3)&&setTimeout(function(){u._dialog.show()},250);else if(this.model.renderMode=="windows"){var f=this._browser,i=this._dialog,t=sf.browserDetect.webkit?"-webkit-transform":sf.browserDetect.mozilla?"-moz-transform":sf.browserDetect.opera?"-o-transform":"-ms-transform";setTimeout(function(){i.css(f+"transition","all 0.1s"),i.css(t,"rotateX(90deg)")},100),setTimeout(function(){i.addClass("sf-dlg-closed").removeClass("sf-dlg-open")},500),this.model.modal&&n("body").find(".sf-modal-overlay").hide()}else this.model.renderMode=="normal"&&(this._dialog.hide(),this.model.modal&&n("body").find(".sf-modal-overlay").remove());this.model.onClose&&this._trigger("onClose",r)},_isOpen:function(){return this._dialog.css("display")=="none"?!1:!0},_setModel:function(n){var i=!1,t;for(t in n)(t=="renderMode"||t=="modal"||t=="showHeader"||t=="ios"||t=="android"||t=="windows")&&(i=!0);i&&this._refresh(),this._trigger("modelChange",{changes:n})},_refresh:function(){this._destroy(),this.element.addClass("m-dialog"),this._renderControl(),this._dialogInit(),this._wireEvents()},_clearElement:function(){this.element.removeAttr("class"),this.element.html(this._orgEle.html())},_destroy:function(){this._unWireEvents(),this._clearElement()}})}(jQuery,Syncfusion),function(n,t,i){t.widget("mFooter","m.Footer",{_setFirst:!0,defaults:{id:null,targetId:null,leftNavigationUrl:null,leftClickAction:null,leftButtonClick:i,rightNavigationUrl:null,rightClickAction:null,rightButtonClick:i,autoFormat:"darknight",title:"Title",showTitle:!0,position:"normal",leftButtonCaption:"left",leftButtonStyle:"back",rightButtonCaption:"right",rightButtonStyle:"header",renderMode:"auto",renderingEngine:"client",renderNative:!0,onCreate:i,customCss:null,android:{mode:"dark",androidImage:null,androidNavigation:!1}},dataTypes:{showTitle:"boolean",position:"enum",leftButtonStyle:"enum",rightButtonStyle:"enum",renderMode:"enum",renderingEngine:"enum",renderNative:"boolean",android:{mode:"enum",androidNavigation:"boolean"}},_init:function(){var n;typeof Orubase!="undefined"?Orubase&&Orubase.Utility.getDeviceName()=="windows_phone"&&sf.browser()=="ms"&&navigator.userAgent[navigator.userAgent.indexOf("MSIE")+5]<=9&&sf.getBooleanVal(this.element,"data-rendernative",this.model.renderNative)?(Orubase.Utility.getDeviceName(),Orubase.WindowsPhone.setFooterVisibility("true"),Orubase.WindowsPhone.setFooterText(sf.getAttrVal(this.element,"data-title",this.model.title))):(this._setValues(),this._footerInit(),this._isTouchMove=!1,n={element:this._footer},this.model.onCreate&&this._trigger("onCreate",n),this._wireEvents()):(this._setValues(),this._footerInit(),this._isTouchMove=!1,n={element:this._footer},this.model.onCreate&&this._trigger("onCreate",n),this._wireEvents())},_setValues:function(){this._orgEle=n(this.element).clone(),this.model.id=n(this.element).attr("id"),this.model.targetId=sf.getAttrVal(this.element,"data-targetid"),this.model.showAt=sf.getAttrVal(this.element,"data-showat"),this.model.renderNative=sf.getBooleanVal(this.element,"data-rendernative",this.model.renderNative),this.model.position=sf.getAttrVal(this.element,"data-footer-position",this.model.position),this.model.renderingEngine=sf.getAttrVal(this.element,"data-mode",this.model.renderingEngine),this.model.showLeftButton=sf.getBooleanVal(this.element,"data-showleftbutton"),this.model.showLeftButton&&(this.model.leftButtonCaption=sf.getAttrVal(this.element,"data-leftbuttoncaption",this.model.leftButtonCaption),this.model.leftStyle=sf.getAttrVal(this.element,"data-leftstyle",this.model.leftStyle),this.model.leftNavigationUrl=sf.getAttrVal(this.element,"data-leftbuttonurl"),this.model.leftClickAction=sf.getAttrVal(this.element,"data-leftbuttonaction")),this.model.showRightButton=sf.getBooleanVal(this.element,"data-showrightbutton"),this.model.showRightButton&&(this.model.rightButtonCaption=sf.getAttrVal(this.element,"data-rightbuttoncaption",this.model.rightButtonCaption),this.model.rightStyle=sf.getAttrVal(this.element,"data-rightstyle",this.model.rightStyle),this.model.rightNavigationUrl=sf.getAttrVal(this.element,"data-rightbuttonurl"),this.model.rightClickAction=sf.getAttrVal(this.element,"data-rightbuttonaction")),this.model.showTitle=sf.getBooleanVal(this.element,"data-showtitle",this.model.showTitle),this.model.showTitle&&(this.model.title=sf.getAttrVal(this.element,"data-title",this.model.title)),this.model.onCreate=sf.getAttrVal(this.element,"data-oncreate"),this.model.onLeftClick=sf.getAttrVal(this.element,"data-onleftclick"),this.model.onRightClick=sf.getAttrVal(this.element,"data-onrightclick"),this.model.renderMode=sf.getAttrVal(this.element,"data-rendermode",this.model.renderMode),this.model.renderMode=="auto"&&sf.setRenderMode(this),this.model.width=Number(sf.getAttrVal(this.element,"data-width")),this.model.height=Number(sf.getAttrVal(this.element,"data-height")),this.model.renderMode=="normal"?this.model.autoFormat=sf.getAttrVal(this.element,"data-autoformat",this.model.autoFormat):this.model.renderMode=="android"&&(this.model.android.mode=sf.getAttrVal(this.element,"data-android-mode",this.model.android.mode),this.model.android.androidNavigation=sf.getAttrVal(this.element,"data-navigationurl",this.model.android.androidNavigation),this.model.android.androidImage=sf.getAttrVal(this.element,"data-navigationimage")),this.model.renderingEngine=="client"&&(this.model.customCss=sf.getAttrVal(this.element,"data-customcss"),this._renderControl())},_renderControl:function(){var i,t,r;n(n(this.element)).attr("id",this.model.id),this.model.customCss!=null?n(n(this.element)).addClass("sffooter "+this.model.customCss+" sf"+this.model.position):n(n(this.element)).addClass("sffooter sf"+this.model.position),n(n(this.element)).addClass("sf-m-"+this.model.renderMode+" sf-select-none"),this.model.renderMode=="normal"&&n(n(this.element)).addClass("sf-m-"+this.model.autoFormat),this.model.position=="fixed"&&n(n(this.element)).addClass("sf-fixed-mobui"),this.model.renderMode=="android"&&n(n(this.element)).addClass("sf-m-"+this.model.mode),n(n(this.element)).addClass("sf-state-default"),this.model.height>0&&n(n(this.element)).css({height:this.model.height>0?this.model.height+"px":"100%"}),this.model.width>0&&n(n(this.element)).css({width:this.model.width>0?this.model.width+"px":"100%"}),i=n(this.element).find("#"+this.model.id+"templatediv"),i.length==0&&(i=n("<div><\/div>"),n(this.element).append(i)),n(i).addClass("sf-footer-content"),this.model.showTitle&&(titleDiv=document.createElement("div"),n(titleDiv).addClass("sf-footer-title sf-font-"+this.model.renderMode+" sf-font-normal"),span=document.createElement("span"),span.innerHTML=this.model.title,n(titleDiv).append(span),n(i).append(titleDiv)),this.model.renderMode!="android"&&(this.model.showLeftButton&&(leftDiv=document.createElement("div"),n(leftDiv).addClass("sf-footer-left"),t=n("<a>"+this.model.leftButtonCaption+"<\/a>"),t.attr({id:this.model.id+"_LeftButton","data-role":"sf-m-actionlink","data-rendermode":this.model.renderMode,"data-mode":"client","data-ios-buttonstyle":this.model.leftStyle}),r=this.model.leftNavigationUrl!=null?this.model.leftNavigationUrl:this.model.leftClickAction,r&&t.attr("href",r),n(leftDiv).append(t),n(i).append(leftDiv),t.mButton()),this.model.showRightButton&&(rightDiv=document.createElement("div"),n(rightDiv).addClass("sf-footer-right"),t=n("<a>"+this.model.rightButtonCaption+"<\/a>"),t.attr({id:this.model.id+"_RightButton","data-role":"sf-m-actionlink","data-rendermode":this.model.renderMode,"data-mode":"client","data-ios-buttonstyle":this.model.rightStyle}),r=this.model.rightNavigationUrl!=null?this.model.rightNavigationUrl:this.model.rightClickAction,r&&t.attr("href",r),n(rightDiv).append(t),n(i).append(rightDiv),t.mButton())),this.model.targetId!=null&&n("#"+this.model.targetId).append(n(this.element))},_footerInit:function(){this._footer=n(this.element);var t=this._footer.find(".sf-footer-left"),i=this._footer.find(".sf-footer-right");this._setFooterPosition(),this._document=n(document),this.model.position=="fixed"&&this._footer.css("z-index","9999"),this._footer.css("visibility","visible")},_wireEvents:function(){startEvent=sf.isTouchDevice()?"touchstart":"mousedown",moveEvent=sf.isTouchDevice()?"touchmove":"mousemove",endEvent=sf.isTouchDevice()?"touchend":"mouseup",this._leftClickHanlder=n.proxy(this._onLeftClickHandler,this),this._footer.find(".sf-footer-left").bind("click",this._leftClickHanlder),this._rightClickHanlder=n.proxy(this._onRightClickHandler,this),this._footer.find(".sf-footer-right").bind("click",this._rightClickHanlder),this._mouseHoverHanlder=n.proxy(this._onMouseHover,this),this._footer.find(".sf-btn-pr").bind("mousemove",this._mouseHoverHanlder),this._mouseOutHanlder=n.proxy(this._onMouseOut,this),this._footer.find(".sf-btn-pr").bind("mouseout",this._mouseOutHanlder),this._mouseDownHanlder=n.proxy(this._onMouseDown,this),this._footer.find(".sf-btn-pr").bind("mousedown",this._mouseDownHanlder),this._mouseUpHanlder=n.proxy(this._onMouseUp,this),this._footer.find(".sf-btn-pr").bind("mouseup",this._mouseUpHanlder),this.model.position=="fixed"&&this.model.renderMode=="normal"&&(this._resizeHandler=n.proxy(this._resize,this),n(window).bind("resize",this._resizeHandler),this._scrollStartHandler=n.proxy(this._scrollStart,this),sf.isTouchDevice()?(sf.bindTouchEvent(n("body >*:not(#"+this.model.id+")"),startEvent,n.proxy(this._scrollStartHandler,this)),sf.bindTouchEvent(n("body >*:not(#"+this.model.id+")"),moveEvent,n.proxy(this._scrollStartHandler,this)),sf.bindTouchEvent(document,endEvent,n.proxy(this._showFooter,this))):n(document).bind("scrollstart",this._scrollStartHandler),this._scrollStopHandler=n.proxy(this._scrollStop,this),n(document).bind("scrollstop",this._scrollStopHandler))},_showFooter:function(){this._isTouchMove||this._footer.fadeIn(),this._isTouchMove=!1},_unWireEvents:function(){this._footer.unbind("click",this._leftClickHanlder)},_scrollStart:function(n){n.type=="touchmove"&&(this._isTouchMove=!0),this._footer.css("display","none")},_updateTop:function(){var i=n("body").find(".sf-fixed-mobui:not(#"+this.model.id+")"),t=0;n.each(i,function(i,r){t=t+n(r).outerHeight()}),this._footer.css({top:parseFloat(this._footer.css("top"))-t+"px"})},_onLeftClickHandler:function(){var n={element:this._footer};this.model.onLeftClick&&this._trigger("onLeftClick",n)},_onRightClickHandler:function(){var n={element:this._footer};this.model.onRightClick&&this._trigger("onRightClick",n)},_onMouseHover:function(t){n(t.currentTarget).addClass("sf-state-hover")},_onMouseOut:function(t){n(t.currentTarget).removeClass("sf-state-hover")},_onMouseDown:function(t){n(t.currentTarget).removeClass("sf-state-hover").addClass("sf-state-active")},_onMouseUp:function(t){n(t.currentTarget).removeClass("sf-state-active")},_setFooterPosition:function(){var t=null,i=n("#FooterLink_"+this.model.id);t=this.model.targetId!=null&&this.model.targetId!=null?sf.getCurrentPage().find("#"+this.model.targetId):this._footer.parents("form").length>0?this._footer.parents("form"):document.body,i.appendTo(n(t)),this.model.position!="fixed"||this.model.targetId?this.model.targetId&&t.html(n(this._footer)):this._footer.appendTo(sf.getCurrentPage()),this.model.showAt!=null&&(this._footer.parents("form").length>0?this._footer.appendTo(this._footer.parents("form")):this.model.position=="fixed"?this._footer.appendTo("body"):this._footer.appendTo(sf.getCurrentPage()),this.model.position!="fixed"&&this._footer.css("position","absolute"))},disable:function(){this._footer.attr("disabled","disabled"),this._footer.find(".sf-footer-container").hasClass("sf-state-disabled")||this._footer.find(".sf-footer-container").addClass("sf-state-disabled"),this._unWireEvents()},enable:function(){this._footer.removeAttr("disabled"),this._footer.find(".sf-footer-container").hasClass("sf-state-disabled")&&this._footer.find(".sf-footer-container").removeClass("sf-state-disabled"),this._wireEvents()},show:function(){this._footer.css("display","")},hide:function(){this._footer.css("display","none")},showLeftButton:function(n){n?this._footer.find(".sf-footer-left").css("display",""):this._footer.find(".sf-footer-left").css("display","none")},showRightButton:function(n){n?this._footer.find(".sf-footer-right").css("display",""):this._footer.find(".sf-footer-right").css("display","none")},showFooterTitle:function(n){n?this._footer.find(".sf-footer-title span").css("display",""):this._footer.find(".sf-footer-title span").css("display","none")},setTitle:function(n){this._footer.find(".sf-footer-title span").html(n)},setLeftButtonCaption:function(n){this._footer.find(".sf-footer-left span.sf-header-button a").html(n)},setRightButtonCaption:function(n){this._footer.find(".sf-footer-right span.sf-header-button a").html(n)},showAt:function(n){n!=null&&(this.model.showAt==null&&(this.model.showAt={X:0,Y:0}),this.model.showAt.X=n.X!=null?n.X:this.model.showAt.X,this.model.showAt.Y=n.Y!=null?n.Y:this.model.showAt.Y,this._setFooterPosition())},dispose:function(){},_setModel:function(n){var i=!1,t;for(t in n)(t=="renderMode"||t=="renderNative"||t=="position"||t=="leftButtonCaption"||t=="leftStyle"||t=="rightStyle"||t=="rightButtonCaption"||t=="mode")&&(i=!0);i&&this._refresh(),this._trigger("modelChange",{changes:n})},_refresh:function(){this._destroy(),this.element.addClass("m-footer"),this._renderControl(),this._footerInit(),this._wireEvents()},_clearElement:function(){this.element.removeAttr("class"),this.element.html(this._orgEle.html())},_destroy:function(){this._unWireEvents(),this._clearElement()}})}(jQuery,Syncfusion),function(n,t){t.widget("mGroupButton","m.GroupButton",{_setFirst:!0,defaults:{renderMode:"auto",style:"dark",position:"normal",renderingengine:"client",targetid:!1,renderstyle:"text",ios:{mode:"iphoneblue"},android:{theme:"dark"},windows:{mode:"dark"}},dataTypes:{renderMode:"enum",position:"enum",renderstyle:"enum",ios:{mode:"enum"},android:{theme:"enum"},windows:{mode:"enum"}},_init:function(){this._setValues(),this.model.renderingengine=="client"&&this._renderControl(),this._setElement(),this._wireEvents()},_setValues:function(){this.model.id=n(this.element).attr("data-id"),this._orgEle=n(this.element).clone(),this.model.ios.mode=sf.getAttrVal(this.element,"data-theme",this.model.ios.mode),this.model.style=sf.getAttrVal(this.element,"data-style",this.model.style),this.model.position=sf.getAttrVal(this.element,"data-button-position",this.model.position).toLowerCase(),this.model.renderMode=sf.getAttrVal(this.element,"data-rendermode",this.model.renderMode).toLowerCase(),this.model.renderingengine=sf.getAttrVal(this.element,"data-mode",this.model.renderingengine).toLowerCase(),this.model.renderMode=="auto"&&sf.setRenderMode(this),this.model.renderMode=="android"&&(this.model.targetid=sf.getAttrVal(this.element,"data-target",this.model.targetid),this.model.android.theme=sf.getAttrVal(this.element,"data-android-theme",this.model.android.theme)),this.model.renderMode=="windows"&&(this.model.windows.mode="dark"),this.model.length=Number(sf.getAttrVal(this.element,"data-length",n(this.element).children().length)),this.model.ontouchstart=sf.getAttrVal(this.element,"data-ontouchstart"),this.model.ontouchend=sf.getAttrVal(this.element,"data-ontouchend"),this._count=this.model.length},_renderControl:function(){var r,f,e,i,t,u;for(this.model.renderstyle=sf.getAttrVal(this.element,"data-renderstyle",this.model.renderstyle),r=this,n(this.element).attr("id",this.model.id),n(this.element).addClass("sf-sync-grpbtn sf-m-"+this.model.renderMode),n(this.element).addClass("sf-font-"+this.model.renderMode+" sf-font-small"),(this.model.renderMode=="android"||this.model.renderMode=="windows")&&n(this.element).addClass("sf-"+this.model.position),this.model.renderMode=="ios"?(n(this.element).addClass("sf-"+this.model.ios.mode),this.model.ios.mode=="iphonegray"?n(this.element).addClass("sf-outer-border sf-corner-all"):this.model.ios.mode=="iphoneblue"&&n(this.element).addClass("sf-outer-blue-border sf-corner-all")):this.model.renderMode=="android"?n(this.element).addClass("sf-"+this.model.android.theme):this.model.renderMode=="windows"&&n(this.element).addClass("sf-"+this.model.windows.mode),this._cflag=!1,this._flag=!1,(this.model.renderMode=="android"||this.model.renderMode=="windows")&&(parentDiv=document.createElement("div"),n(parentDiv).addClass("sf-sync-grpbtn sf-m-"+this.model.renderMode+" sf-btn-inner")),i=this.model.renderMode=="ios"?this.model.ios.mode:this.model.renderMode=="android"?this.model.android.theme:this.model.windows.mode,t=0;t<this._count;t++)u=sf.getAttrVal(n(n(r.element).children()[0]),"data-active")=="true"?!0:!1,div=document.createElement("div"),n(div).attr("id",sf.getAttrVal(n(n(r.element).children()[0]),"data-id")),n(div).addClass("sf-m-"+i+"-grpbtn"),input=document.createElement("input"),n(input).attr("type","radio").addClass("sf-m-"+i+"-input").attr("data-role","none"),span=document.createElement("span"),n(span).addClass("sf-m-"+i+"-span"),(this.model.renderMode=="android"||this.model.renderMode=="windows")&&this.model.position=="normal"&&n(span).addClass("sf-normalleft"),innerspan=document.createElement("span"),n(innerspan).addClass("sf-m-"+i+"-innerspan"),this.model.renderstyle=="text"?innerspan.innerHTML=sf.getAttrVal(n(n(r.element).children()[0]),"data-text",""):(img=document.createElement("img"),n(img).addClass("sf-imagebtn"),n(img).attr("src",sf.getAttrVal(n(n(r.element).children()[0]),"data-img")),n(innerspan).append(img)),this._flag&&(n(div).addClass("sf-left-color"),this._flag=!1),u&&(f=n(div),e=n(input),this._cflag=!0,this._flag=!0),n(div).addClass("sf-default"),(i!="ipod"||this.model.renderMode!="android")&&(i=="iphonegray"&&n(div).addClass("sf-grp-border"),t==0&&this._count==0?n(div).addClass("sf-left sf-right"):t==this._count-1?n(div).addClass("sf-left sf-right"):n(div).addClass("sf-left")),this.model.renderMode=="ios"&&(t==0&&this._count==1?(n(div).addClass("sf-corner-all"),n(span).addClass("sf-corner-all"),n(innerspan).addClass("sf-corner-all")):t==0?(n(div).addClass("sf-corner-left"),n(span).addClass("sf-corner-left"),n(innerspan).addClass("sf-corner-left")):t==this._count-1?(n(div).addClass("sf-corner-right"),n(span).addClass("sf-corner-right"),n(innerspan).addClass("sf-corner-right")):(n(div).addClass("sf-corner-none"),i=="ipod"&&(n(span).addClass("sf-corner-none"),n(innerspan).addClass("sf-corner-none"))),t==this._count-1&&u&&n(div).addClass("sf-right-color")),n(n(this.element).children()[0]).remove(),n(div).append(span).append(input),n(span).append(innerspan),this.model.renderMode=="android"||this.model.renderMode=="windows"?n(parentDiv).append(div):n(this.element).append(div);n(f).addClass("sf-active").removeClass("sf-default"),n(e).attr("checked","checked"),this._cflag||(this.model.renderMode=="ios"?(n(n(this.element).children()[0]).addClass("sf-active"),n(n(this.element).children()[1]).addClass("sf-left-color"),n(n(n(this.element).children()[0]).children()[1]).attr("checked","checked")):(n(n(parentDiv).children()[0]).addClass("sf-active"),n(n(n(parentDiv).children()[0]).children()[1]).attr("checked","checked"))),(this.model.renderMode=="android"||this.model.renderMode=="windows")&&n(this.element).append(parentDiv)},_setElement:function(){(this.model.renderMode=="android"||this.model.renderMode=="windows")&&this.model.targetid&&this.model.position=="fixed"&&sf.getCurrentPage().find("#"+this.model.targetid).html(n(this.element));var u=Number(this.model.length),t=0,i,r=0;this.model.renderMode=="ios"?(i=n(this.element).find(".sf-m-"+this.model.ios.mode+"-grpbtn"),r=1):this.model.position=="normal"&&(i=n(this.element).find(".sf-m-"+this.model.mode+"-innerspan"),r=1),r==1&&(n.each(i,function(i,r){t=t>sf.getDimension(n(r),"outerWidth")?t:sf.getDimension(n(r),"outerWidth")}),n(i).css({width:t+"px"})),n(this.element).css({visibility:"visible"})},_wireEvents:function(){startEvent=sf.isTouchDevice()?"touchstart":"mousedown",endEvent=sf.isTouchDevice()?"touchend":"mouseup",this._touchStartHandler=n.proxy(this._onTouchStartHandler,this),this._touchEndHandler=n.proxy(this._onTouchEndHandler,this),sf.isTouchDevice()?(sf.bindTouchEvent(this.element,startEvent,this._touchStartHandler),sf.bindTouchEvent(this.element,endEvent,this._touchEndHandler)):n(this.element).bind(startEvent,this._touchStartHandler).bind(endEvent,this._touchEndHandler)},_unWireEvents:function(){sf.isTouchDevice()?(sf.unBindTouchEvent(this.element,startEvent,this._touchStartHandler),sf.unBindTouchEvent(this.element,endEvent,this._touchEndHandler)):n(this.element).unbind(startEvent,this._touchStartHandler).unbind(endEvent,this._touchEndHandler)},_onTouchStartHandler:function(t){this.currentText=n(t.target).text(),this.data={CurrentText:this.currentText},this.model.ontouchstart&&this._trigger("ontouchstart",this.data)},_onTouchEndHandler:function(t){var i=n(t.target),u=this.model.renderMode=="ios"?this.model.ios.mode:this.model.renderMode=="android"?this.model.android.theme:this.model.windows.mode,r=i.hasClass("sf-m-"+u+"-grpbtn")?i:i.hasClass("sf-m-"+u+"-innerspan")?i.parent().parent():i.hasClass("sf-m-"+u+"-span")||i.hasClass("sf-imagebtn")?i.parent():null,e,f;r&&(e=n(this.element).find(".sf-right"),f=n(this.element).find(".sf-left-color"),r.hasClass("sf-right")?(f.removeClass("sf-left-color"),r.addClass("sf-right-color")):(e.hasClass("sf-right-color")?n(this.element).find(".sf-right").removeClass("sf-right-color"):f.removeClass("sf-left-color"),r.next().addClass("sf-left-color")),n(this.element).find(".sf-active").removeClass("sf-active").addClass("sf-default"),n(this.element).find("input[checked]").removeAttr("checked"),r.removeClass("sf-default").addClass("sf-active"),r.find(".sf-m-"+u+"-input").attr("checked",!0),this.model.ontouchend&&this._trigger("ontouchend",this.data))},_setModel:function(n){var i=!1,t;for(t in n)(t=="renderMode"||t=="theme"||t=="style"||t=="position"||t=="ios"||t=="android"||t=="windows"||t=="android-theme")&&(i=!0);i&&this._refresh(),this._trigger("modelChange",{changes:n})},_refresh:function(){this._destroy(),this.element.addClass("m-groupbutton"),this._renderControl(),this._setElement(),this._wireEvents()},_clearElement:function(){this.element.removeAttr("class"),this.element.html(this._orgEle.html())},_destroy:function(){this._unWireEvents(),this._clearElement()}}),m.GroupButton.position={Fixed:"fixed",Normal:"normal"},m.GroupButton.renderstyle={Fixed:"text",Normal:"image"},m.GroupButton.ios={mode:{IphoneBlue:"iphoneblue",Ipod:"ipod",IphoneGray:"iphonegray"}}}(jQuery,Syncfusion),function(n,t,i){t.widget("mHeader","m.Header",{_setFirst:!0,defaults:{id:null,targetId:null,leftNavigationUrl:null,leftClickAction:null,leftButtonClick:i,rightNavigationUrl:null,rightClickAction:null,rightButtonClick:i,autoFormat:"darknight",title:"Title",showTitle:!0,position:"normal",leftButtonCaption:"left",leftButtonStyle:"back",rightButtonCaption:"right",rightButtonStyle:"header",renderMode:"auto",renderingEngine:"client",renderNative:!0,bindBack:!0,onCreate:i,customCss:null,ios:{mode:"auto"},android:{mode:"dark",androidImage:null,androidNavigation:!1}},dataTypes:{showTitle:"boolean",position:"enum",bindBack:"boolean",leftButtonStyle:"enum",rightButtonStyle:"enum",renderMode:"enum",renderingEngine:"enum",renderNative:"boolean",ios:{mode:"enum"},android:{mode:"enum",androidNavigation:"boolean"}},_init:function(){var n;typeof Orubase!="undefined"?Orubase.Utility.getDeviceName()=="windows_phone"&&sf.browser()=="ms"&&navigator.userAgent[navigator.userAgent.indexOf("MSIE")+5]<=9&&sf.getBooleanVal(this.element,"data-rendernative",this.model.renderNative)?(Orubase.Utility.getDeviceName(),Orubase.WindowsPhone.setHeaderVisibility("true"),Orubase.WindowsPhone.setHeaderText(sf.getAttrVal(this.element,"data-title",this.model.title))):(this._setValues(),this._headerInit(),n={element:this._header},this.model.onCreate&&this._trigger("onCreate",n),this._wireEvents()):(this._setValues(),this._headerInit(),n={element:this._header},this.model.onCreate&&this._trigger("onCreate",n),this._wireEvents())},_setValues:function(){this._orgEle=n(this.element).clone(),this.model.id=n(this.element).attr("id"),this.model.renderNative=sf.getBooleanVal(this.element,"data-rendernative",this.model.renderNative),this.model.targetId=sf.getAttrVal(this.element,"data-targetid"),this.model.showAt=sf.getAttrVal(this.element,"data-showat"),this.model.position=sf.getAttrVal(this.element,"data-header-position",this.model.position),this.model.showLeftButton=sf.getBooleanVal(this.element,"data-showleftbutton",this.model.showLeftButton),this.model.renderingEngine=sf.getAttrVal(this.element,"data-mode",this.model.renderingEngine),this.model.bindBack=sf.getAttrVal(this.element,"data-bindback",this.model.bindBack),this.model.ios.mode=sf.getAttrVal(this.element,"data-ios-mode",this.model.ios.mode),this.model.showLeftButton&&(this.model.leftButtonCaption=sf.getAttrVal(this.element,"data-leftbuttoncaption",this.model.leftButtonCaption),this.model.leftButtonStyle=sf.getAttrVal(this.element,"data-leftbuttonstyle",this.model.leftButtonStyle),this.model.leftNavigationUrl=sf.getAttrVal(this.element,"data-leftbuttonurl"),this.model.leftClickAction=sf.getAttrVal(this.element,"data-onleftbuttonaction"),this.model.leftButtonClick=sf.getAttrVal(this.element,"data-onleftbuttonclick")),this.model.showRightButton=sf.getBooleanVal(this.element,"data-showrightbutton",this.model.showRightButton),this.model.showRightButton&&(this.model.rightButtonCaption=sf.getAttrVal(this.element,"data-rightbuttoncaption",this.model.rightButtonCaption),this.model.rightButtonStyle=sf.getAttrVal(this.element,"data-rightbuttonstyle",this.model.rightButtonStyle),this.model.rightNavigationUrl=sf.getAttrVal(this.element,"data-rightbuttonurl"),this.model.rightClickAction=sf.getAttrVal(this.element,"data-onrightbuttonaction"),this.model.rightButtonClick=sf.getAttrVal(this.element,"data-onrightbuttonclick")),this.model.showTitle=sf.getBooleanVal(this.element,"data-showtitle",this.model.showTitle),this.model.showTitle&&(this.model.title=sf.getAttrVal(this.element,"data-title",this.model.title)),this.model.onCreate=sf.getAttrVal(this.element,"data-oncreate"),this.model.renderMode=sf.getAttrVal(this.element,"data-rendermode",this.model.renderMode),this.model.renderMode=="auto"&&sf.setRenderMode(this),this.model.width=Number(sf.getAttrVal(this.element,"data-width")),this.model.height=Number(sf.getAttrVal(this.element,"data-height")),this.model.renderMode=="normal"?this.model.autoFormat=sf.getAttrVal(this.element,"data-autoformat",this.model.autoFormat):this.model.renderMode=="android"&&(this.model.android.mode=sf.getAttrVal(this.element,"data-android-theme",this.model.android.mode),this.model.android.androidNavigation=sf.getBooleanVal(this.element,"data-shownavigation",this.model.android.androidNavigation),this.model.android.androidImage=sf.getAttrVal(this.element,"data-navigationimage")),this.model.renderingEngine=="client"&&(this.model.customCss=sf.getAttrVal(this.element,"data-customCss"),this._renderControl())},_renderControl:function(){var i,t,r;this.model.ios.mode!="tablet"&&(this.model.ios.mode!="auto"||sf.isMobile())||n(this.element).addClass("sf-tablet"),n(this.element).attr("id",this.model.id),n(this.element).attr("data-role","sf-m-header"),this.model.customCss?n(this.element).addClass("sfheader "+this.model.customCss+" sf"+this.model.position):n(this.element).addClass("sfheader sf"+this.model.position),this.model.renderMode=="normal"&&n(this.element).addClass("sf-m-"+this.model.autoFormat),n(this.element).addClass("sf-state-default sf-m-"+this.model.renderMode+" sf-select-none"),this.model.renderMode=="android"&&n(this.element).addClass("sf-m-"+this.model.android.mode),this.model.height>0&&n(this.element).css({height:this.model.height>0?this.model.height+"px":"100%"}),this.model.width>0&&n(this.element).css({width:this.model.width>0?this.model.width+"px":"100%"}),i=n(this.element).find("div[data-template]"),i.length==0&&(i=n("<div><\/div>"),n(this.element).append(i)),i.addClass("sf-header-content"),this.model.showTitle&&(titleDiv=document.createElement("div"),n(titleDiv).addClass("sf-header-title sf-font-"+this.model.renderMode+" sf-font-normal"),span=document.createElement("span"),n(span).addClass("sf-header-span"),span.innerHTML=this.model.title,n(titleDiv).append(span),i.append(titleDiv)),this.model.renderMode!="android"&&(this.model.showLeftButton&&(leftDiv=document.createElement("div"),n(leftDiv).addClass("sf-header-left"),t=n("<a>"+this.model.leftButtonCaption+"<\/a>"),t.attr("data-bindback",this.model.bindBack),t.attr({id:this.model.id+"_LeftButton","data-role":"sf-m-actionlink","data-rendermode":this.model.renderMode,"data-mode":"client"}),this.model.leftButtonClick&&t.attr("data-ontouchend",this.model.leftButtonClick),this.model.leftButtonStyle=="back"?t.attr("data-ios-buttonstyle","back"):t.attr("data-ios-buttonstyle","header"),r=this.model.leftNavigationUrl!=null?this.model.leftNavigationUrl:this.model.leftClickAction,r&&t.attr("href",r),n(leftDiv).append(t),n(i).append(leftDiv),t.mButton()),this.model.showRightButton&&(rightDiv=document.createElement("div"),n(rightDiv).addClass("sf-header-right"),t=n("<a>"+this.model.rightButtonCaption+"<\/a>"),t.attr({id:this.model.id+"_RightButton","data-role":"sf-m-actionlink","data-rendermode":this.model.renderMode,"data-mode":"client","data-ios-buttonstyle":this.model.rightButtonStyle}),this.model.rightButtonClick&&t.attr("data-ontouchend",this.model.rightButtonClick),r=this.model.rightNavigationUrl!=null?this.model.rightNavigationUrl:this.model.rightClickAction,r&&t.attr("href",r),n(rightDiv).append(t),n(i).append(rightDiv),t.mButton())),this.model.android.androidNavigation&&(leftDiv=n("<div><\/div>"),n(leftDiv).addClass("sf-header-left"),spanTag=n("<span><\/span"),n(spanTag).addClass("sf-header-button"),n(leftDiv).append(spanTag),this.model.android.androidImage!=null&&(img=n("<img><\/img>"),img.attr("src",this.model.android.androidImage),n(leftDiv).append(img)),n(i).append(leftDiv)),this.model.targetId!=null&&n("#"+this.model.targetId).append(n(this.element))},_headerInit:function(){this._header=n(this.element),this._rightButton=this._header.find(".sf-header-right"),this._title=this._header.find(".sf-header-title  span"),this._navigateLeft=this._header.find(".sf-header-left"),this._setHeaderPosition();var t=this;this.model.position=="fixed"&&this.model.renderMode=="normal"&&(this._header.addClass("sf-top-fixed"),sf.setTop(t._header)),this._header.css("visibility","visible")},_wireEvents:function(){startEvent=sf.isTouchDevice()?"touchstart":"mousedown",moveEvent=sf.isTouchDevice()?"touchmove":"mousemove",endEvent=sf.isTouchDevice()?"touchend":"mouseup",this._clickHanlder=n.proxy(this._onButtonClick,this),this._header.find(".sf-header-button").bind("click",this._clickHanlder),this._touchHandler=n.proxy(this._onNavigateClick,this),sf.bindTouchEvent(this._navigateLeft,startEvent,this._touchHandler),this._touchEndHandler=n.proxy(this._onNavigateEnd,this),sf.bindTouchEvent(this._navigateLeft,endEvent,this._touchEndHandler),this.model.position=="fixed"&&this.model.renderMode=="normal"&&(this._resizeHandler=n.proxy(this._resize,this),n(window).bind("resize",this._resizeHandler),this._scrollStartHandler=n.proxy(this._scrollStart,this),n(window).bind("scrollstart",this._scrollStartHandler),sf.isTouchDevice()&&sf.bindTouchEvent(n(document),moveEvent,this._scrollStartHandler),this._scrollStopHandler=n.proxy(this._scrollStop,this),n(window).bind("scrollstop",this._scrollStopHandler))},_onNavigateClick:function(){this._navigateLeft.addClass("active")},_onNavigateEnd:function(){this._navigateLeft.removeClass("active")},_unWireEvents:function(){this._header.find(".sf-header-button").unbind("click",this._clickHanlder),sf.unBindTouchEvent(this._navigateLeft,startEvent,this._touchHandler),sf.unBindTouchEvent(this._navigateLeft,endEvent,this._touchEndHandler),this.model.position=="fixed"&&n(this.element).hasClass("sf-m-normal")&&(n(window).unbind("resize",this._resizeHandler),n(window).unbind("scrollstart",this._scrollStartHandler),sf.isTouchDevice()&&sf.unBindTouchEvent(n(document),moveEvent,this._scrollStartHandler),n(window).unbind("scrollstop",this._scrollStopHandler))},_resize:function(){var n=this;sf.setTop(n._header)},_scrollStart:function(){this._header.hide()},_scrollStop:function(){var n=this;sf.setTop(n._header),this._header.fadeIn()},_onButtonClick:function(t){var i;n(t.target).parents().hasClass("sf-header-left")?(i={element:this._header,text:n(t.currentTarget).find("a").html()},this.model.leftButtonClick?this._trigger("leftButtonClick",i):this.model.renderMode=="android"&&history.back()):(i={element:this._header,text:n(t.currentTarget).find("a").html()},this.model.rightButtonClick&&this._trigger("rightButtonClick",i))},_setHeaderPosition:function(){var t=null,i=n("#HeaderLink_"+this.model.id);t=this.model.targetId!=null&&this.model.targetId!=null?sf.getCurrentPage().find("#"+this.model.targetId):this._header.parents("form").length>0?this._header.parents("form"):sf.getCurrentPage(),i.prependTo(n(t)),this.model.position!="fixed"||this.model.targetId?this.model.targetId&&n(t).html(this._header):this._header.prependTo(sf.getCurrentPage()),this.model.showAt!=null&&(this._header.parents("form").length>0?this._header.appendTo(this._header.parents("form")):this.model.position=="fixed"?this._header.prependTo(sf.getCurrentPage()):this._header.prependTo(n(document.body)),this._header.css("position","absolute"),this._header.css("left",this.model.showAt.X+"px"),this._header.css("top",this.model.showAt.Y+"px"))},disable:function(){this._header.attr("disabled","disabled"),this._header.find(".sf-header-container").hasClass("sf-state-disabled")||this._header.find(".sf-header-container").addClass("sf-state-disabled"),this._unWireEvents()},enable:function(){this._header.removeAttr("disabled"),this._header.find(".sf-header-container").hasClass("sf-state-disabled")&&this._header.find(".sf-header-container").removeClass("sf-state-disabled"),this._wireEvents()},show:function(){this._header.css("display","")},hide:function(){this._header.css("display","none")},showLeftButton:function(n){n?this._header.find(".sf-header-left").css("display",""):this._header.find(".sf-header-left").css("display","none")},showRightButton:function(n){n?this._header.find(".sf-header-right").css("display",""):this._header.find(".sf-header-right").css("display","none")},showHeaderTitle:function(n){n?this._header.find(".sf-header-title span").css("display",""):this._header.find(".sf-header-title span").css("display","none")},setTitle:function(n){this._header.find(".sf-header-title span").html(n)},getTitle:function(){return this._header.find(".sf-header-title span").html()},setLeftButtonCaption:function(n){this._header.find(".sf-header-left .sf-header-button a").html(n)},setRightButtonCaption:function(n){this._header.find(".sf-header-right .sf-header-button a").html(n)},showAt:function(n){n!=null&&(this.model.showAt==null&&(this.model.showAt={X:0,Y:0}),this.model.showAt.X=n.X!=null?n.X:this.model.showAt.X,this.model.showAt.Y=n.Y!=null?n.Y:this.model.showAt.Y,this._setHeaderPosition())},_setModel:function(n){var i=!1,t;for(t in n)(t=="renderMode"||t=="position"||t=="leftButtonCaption"||t=="leftButtonStyle"||t=="rightButtonCaption"||t=="rightButtonStyle"||t=="mode"||t=="renderNative")&&(i=!0);i&&this._refresh(),this._trigger("modelChange",{changes:n})},_refresh:function(){this._destroy(),this.element.addClass("m-header"),this._renderControl(),this._wireEvents()},_clearElement:function(){this.element.removeAttr("class"),this.element.html(this._orgEle.html())},_destroy:function(){this._unWireEvents(),this._clearElement()}}),m.Header.ios={mode:{Auto:"auto",Tablet:"tablet",Mobile:"mobile"}}}(jQuery,Syncfusion),function($,ej,undefined){ej.widget("mListBox","m.ListBox",{_setFirst:!0,defaults:{listItemStyle:"normal",selectable:!0,showCorners:!1,autoFormat:"darknight",renderMode:"auto",renderingEngine:"client",listItemStyle:"normal",listStyle:"normal",userSelect:!1,enableFiltering:!1,enableSorting:!1,collectionSize:null,collectionCount:null,listType:"normal",actionMode:"server",renderingEngine:"client",requestMapper:null,allowScrolling:!1,subPageNavigation:!0,title:null,loadOnDemand:!1,customCss:null,transition:null,windows:{showCheckmark:!0,checkmarkPosition:"topright",theme:"auto"},bindingMode:"itemcollection",android:{theme:"dark"}},dataTypes:{listItemStyle:"enum",selectable:"boolean",showCorners:"boolean",userSelect:"boolean",autoFormat:"enum",renderMode:"enum",renderingEngine:"enum",listStyle:"enum",enableFiltering:"boolean",enableSorting:"boolean",listType:"enum",actionMode:"enum",allowScrolling:"boolean",subPageNavigation:"boolean",loadOnDemand:"boolean",windows:{showCheck:"boolean",checkPosition:"enum"},bindingMode:"enum",android:{theme:"enum"}},_init:function(){this._setValues(),this.model.renderingEngine=="client"&&this._renderControl(),this._wireEvents(),this._load()},_setValues:function(){this.model.id=$(this.element).attr("id"),this._orgEle=$(this.element).clone(),this.model.listItemStyle=sf.getAttrVal(this.element,"data-itemstyle",this.model.listItemStyle),this.model.listStyle=sf.getAttrVal(this.element,"data-liststyle",this.model.listStyle).toLowerCase(),this.model.enableFiltering=sf.getBooleanVal(this.element,"data-filtering",this.model.enableFiltering),this.model.enableSorting=sf.getBooleanVal(this.element,"data-sorting",this.model.enableSorting),this.model.collectionSize=Number(sf.getAttrVal(this.element,"data-collectionsize",this.model.collectionSize)),this.model.collectionCount=Number(sf.getAttrVal(this.element,"data-collectioncount",this.model.collectionCount)),this.model.listType=sf.getAttrVal(this.element,"data-listtype","normal").toLowerCase(),this.model.actionMode=sf.getAttrVal(this.element,"data-actionmode","server").toLowerCase(),this.model.renderingEngine=sf.getAttrVal(this.element,"data-mode","client").toLowerCase(),this.model.requestMapper=sf.getAttrVal(this.element,"data-request",this.model.actionMode),this.model.allowScrolling=sf.getBooleanVal(this.element,"data-scrolling",this.model.allowScrolling),this.model.subPageNavigation=sf.getBooleanVal(this.element,"data-subpagenavigation",this.model.subPageNavigation),this.model.title=sf.getAttrVal(this.element,"data-title",this.model.title),this.model.loadOnDemand=sf.getBooleanVal(this.element,"data-loadondemand",this.model.loadOnDemand),this.model.userSelect=sf.getBooleanVal(this.element,"data-userselect",this.model.userSelect),this.model.subPage=$(this.element).closest(":jqmData(role='subpage')").length>0,this.model.customCss=sf.getAttrVal(this.element,"data-customcss",this.model.customCss),this.model.actionMode=="webservice"?this.model.webServiceUrl=sf.getAttrVal(this.element,"data-weberviceurl"):this.model.url=sf.getAttrVal(this.element,"data-url");var n=sf.getAttrVal(this.element,"data-transition",this.model.transition);this.model.autoFormat=sf.getAttrVal(this.element,"data-autoformat",this.model.autoFormat),this.model.level=Number(sf.getAttrVal(this.element,"data-level")),sf.getAttrVal(this.element,"data-relationkey")!=null&&(this.model.relationKeyCollection=JSON.parse(sf.getAttrVal(this.element,"data-relationkey"))),this.model.onListLoad=sf.getAttrVal(this.element,"data-onload"),this.model.onItemSelect=sf.getAttrVal(this.element,"data-onitemselect"),this.model.onItemTapHold=sf.getAttrVal(this.element,"data-onitemtaphold"),this.model.onItemUnSelect=sf.getAttrVal(this.element,"data-onitemunselect"),this.model.onBackClick=sf.getAttrVal(this.element,"data-onbackclick"),this.model.showCorners=sf.getBooleanVal(this.element,"data-showcorners",this.model.showCorners),this.model.selectable=sf.getBooleanVal(this.element,"data-selectable",this.model.selectable),this.model.renderMode=sf.getAttrVal(this.element,"data-rendermode",this.model.renderMode).toLowerCase(),this.model.windows.onBackClick=sf.getAttrVal(this.element,"data-windows-onbackclick"),this.model.windows.showCheckmark=sf.getBooleanVal(this.element,"data-showcheckmark",this.model.windows.showCheckmark),this.model.windows.checkmarkPosition=sf.getAttrVal(this.element,"data-checkmarkposition",this.model.windows.checkmarkPosition),this.model.windows.theme=sf.getAttrVal(this.element,"data-windows-theme",this.model.windows.theme),this.model.windows.theme=="auto"&&(this.model.windows.theme=sf.isMobile()?"black":"gray"),this.model.renderMode=="auto"&&sf.setRenderMode(this),this.model.android.theme=sf.getAttrVal(this.element,"data-android-theme","dark").toLowerCase(),this.model.renderingEngine=="client"&&(this.model.bindingMode=sf.getAttrVal(this.element,"data-bindingmode","itemcollection").toLowerCase())},_initialize:function(){var r,f,t,n,i,u;if(this._transform="-"+sf.browser()+"-transform",this._transition="-"+sf.browser()+"-transition",r=this,this.model.allowScrolling&&(this._groupList?(this._scrollWrapperId=this.model.id,$("#"+this._scrollWrapperId+"_scrollWrapper").remove(),f=$(this.element).find(">*"),t=$("<div id ="+this._scrollWrapperId+" ><\/div>"),$(this.element).append(t),t.append(f)):(this._scrollWrapperId=this.model.id+"_scrollWrapper",$("#"+this._scrollWrapperId+"_scrollWrapper").remove(),t=$("<div id ="+this._scrollWrapperId+" ><\/div>"),$(this.element).find("div:first").append(t),t.append($(this.element).find("div:first").find("ul")))),this.model.enableSorting&&(this._sortDetails="",this._sortdirection="nil",this._incValue=0,this._previousSort="",this._clicks=0,this._clickedItem="1",this._allowSorting=!1,this._sortedColumn="Text"),this._httpRequestType="post",$(this.element).find(".sf-lb-link").removeClass("ui-link"),this._listBoxRequestParams="ListBoxRequestParams",this._rItemParent=$(this.element).find(".sf-lb")[0],this._parentPage=null,this._mouseMove=!1,this._startEv=sf.isTouchDevice()?"touchstart":"mousedown",this._moveEv=sf.isTouchDevice()?"touchmove":"mousemove",this._endEv=sf.isTouchDevice()?"touchend":"mouseup",this._filterItems=null,this._records=null,this._iState="Selection",this._pPage=sf.getCurrentPage(),this._iCollection=[],this._selNameCollection=[],this.model.enableFiltering&&(this._filterBarEl=$(this.element).find(".sf-lb-filter input.sf-input-search:visible")),this.model.actionMode=="server")this._listItems=$(this.element).find(".sf-lb-item"),n=$(this.element).find(".sf-lb-child"),this.model.subPage&&$(this.element).find("li[data-child-id]").length>0?(this._childDiv=$("<div class='childlist'><\/div>"),$(this.element).append(this._childDiv),n.appendTo(this._childDiv),(this.model.renderMode=="ios"||this.model.renderMode=="windows")&&this._setTransition(),r.model.allowScrolling&&$(this.element).closest(":jqmData(role='page')").bind("pageshow",function(){}),this._wireBackEvent(this._childDiv)):this.model.subPage||($(n).appendTo("body"),$(r.element).find("#"+r.model.id+"_header").remove(),n.attr("data-role","page")),this._sortBtn=$("#"+this.model.id+"_btnSort"),this.model.enableSorting&&(sf.bindTouchEvent(this._sortBtn,this._startEv,$.proxy(this._onSort,this)),sf.bindTouchEvent($("#"+this.model.id+"_btnClear"),this._startEv,$.proxy(this._onClearSort,this)));else if(this.model.actionMode=="json"||this.model.actionMode=="webservice"){for(this._jTemplate=[],this._clonedParent=$("#"+this.model.id+"_parent").clone(),i=0;i<this.model.level;i++)this._jTemplate.push($("#"+this.model.id+"_JSONTemplate_Level"+(i+1))),$(this._jTemplate[i]).appendTo("body");this.sendRefreshRequest()}!n||this.model.loadOnDemand||this.model.subPage||(this._btn=this.model.renderMode=="android"?n.find(".sfheader .sf-header-left"):n.find(".sfheader a.sf-m-actionlink"),(this.model.renderMode=="android"||this.model.renderMode=="normal")&&(this._btn=n.find(".sf-header-left")),this._bDownHandler=$.proxy(this._onBtnMDownHandler,this),this._bDowUpHandler=$.proxy(this._onBtnMUpHandler,this),sf.bindTouchEvent(this._btn,this._startEv,this._bDownHandler),sf.bindTouchEvent(this._btn,this._endEv,this._bDowUpHandler)),this.model.allowScrolling&&(u=$("<div id='"+this.model.id+"_scroll' data-scrolltype='Vertical' data-role='sf-m-scrollpanel' data-targetid='"+this._scrollWrapperId+"' data-absolute='false'  data-rendermode='"+this.model.renderMode+"'><\/div>"),$(this.element).append(u),u.mScrollPanel())},_renderControl:function(){var r=this,u,n,t,i;$(this.element).addClass("sf-m-lb sf-m-"+this.model.renderMode),this.model.userSelect||$(this.element).addClass("sf-select-none"),this.model.renderMode=="windows"&&($(this.element).addClass("sf-m-"+this.model.windows.theme),sf.isMobile()||$(this.element).addClass("sf-lb-tablet sf-tablet")),this.model.renderMode=="android"&&$(this.element).addClass("sf-m-"+this.model.android.theme),this.model.listType=="grouplist"?(this._groupList=!0,this._renderGroupList($(this.element).find(">ul"))):(n=$(this.element).find(">ul"),n.remove(),curUl=this._renderDefaultValues(n,$(this.element)),t=n.find(">li"),t.each(function(n,i){u=r._renderListitem(n,i,t,curUl)}),this.model.bindingMode=="datasource"&&(curUl.attr("id",this.model.id+"_container"),i=$("<script id ='"+this.model.id+"_Template' type ='text/x-jsrender'><\/script>"),curUl[0].innerHTML&&(i[0].text=curUl[0].innerHTML.replace(/&gt;/g,">")),$(u).remove(),sf.getCurrentPage().append(i))),this.model.subPage&&(this.model.renderMode=="ios"||this.model.renderMode=="windows"&&!sf.isMobile())&&(this.windowsdiv=$("<div id='"+r.model.id+"_header' data-title = '"+this.model.title+"' data-bindback='false' data-shownavigation='true' data-showleftbutton='false' data-leftbuttonstyle='back' data-rendermode='"+this.model.renderMode+"' data-role ='sf-m-header'><\/div>"),this.model.renderMode=="windows"&&(this.windowsdiv=$("<div id ='sfchild' class='sflistheader'><span class ='title'>"+this.model.title+"<\/span><input id='sfchildbutton' data-rendermode='windows'  data-windows-buttonstyle='back' data-role='sf-m-button'><\/div>")),$(this.element).find("div.sf-m-lb:first").prepend(this.windowsdiv)),this.model.bindingMode!="datasource"&&$(this.element).find("ul:empty").remove(),sf.evalSfScripts($(this.element)),this.model.renderMode=="windows"&&this.model.subPage&&!sf.isMobile()&&sf.bindTouchEvent(this.windowsdiv.find(">div"),sf.isTouchDevice()?"touchend":"mouseup",$.proxy(this._onHomeClick,this)),this._initialize()},_onHomeClick:function(){Orubase.Windows.showOrubaseClientHome()},_wireEvents:function(){this._bindEvents(this._listItems),this._bindFiltering(this.element)},_unWireEvents:function(){this._unBindEvents(this._listItems)},_setTransition:function(){this._prEl=$(this.element).find(">div:first"),this._prEl.css(this._transition,"-"+sf.browser()+"-transform ease-in 250ms"),$(this._childDiv).find(".sf-lb-child").css(this._transition,"-"+sf.browser()+"-transform ease-in 250ms"),$(this._childDiv).find(".sf-lb-child").css(this._transform,"translateX("+sf.getDimension(this.element,"width")+"px)")},_renderDefaultValues:function(n,t){var n=$("<ul><\/ul>"),i;return this.model.listStyle=="numbered"&&(n=$("<ol><\/ol>")),i=$("<div class='sf-m-"+this.model.renderMode+" sf-m-core sf-m-lb sf-m-lb-rPar'><\/div>"),this._groupList&&(i.addClass("sf-m-lbgroup"),$(this.element).addClass("sf-m-grouplist")),this.model.renderMode=="ios"&&this.model.showCorners&&(i.addClass("sf-btn-corner-all"),i.addClass("sf-corner"),n.addClass("sf-btn-corner-all")),n.addClass("sf-lb sf-state-default"),i.append(n),$(t).append(i),this.model.enableSorting&&this._renderSortBar(i),this.model.enableFiltering&&this._renderFilterBar(i),n},_renderGroupList:function(n){var t=this,i=n.find(">li");i.each(function(r,u){$(u).attr("data-role")=="data-group-title"?(t._groupList=!0,$(t.element).append($("<div class ='sf-lb-headertext sf-font-"+t.model.renderMode+" sf-font-small'>"+$(u).html()+"<\/div>")),$(u).remove(),n=t._renderDefaultValues(n,t.element)):$(u).attr("data-role")=="data-group-footer"?(t._groupList=!0,$(t.element).append($("<div class ='sf-lb-footertext sf-font-"+t.model.renderMode+" sf-font-small'>"+$(u).html()+"<\/div>")),$(u).remove()):curElement=t._renderListitem(r,u,i,n)}),this.model.renderMode=="ios"&&this.model.showCorners&&($(this.element).find(".sf-m-lb-rPar ul >li:first-child").addClass("sf-btn-corner-top"),$(this.element).find(".sf-m-lb-rPar ul >li:last-child").addClass("sf-btn-corner-bottom"))},_renderChildList:function(n,t){var i=this,u,r,f,e,o;this._groupList=!1,u=sf.getAttrVal(t,"data-primarykey",""),r=$("<div id ='child_"+u+"' class='sf-lb-child sf-m-"+this.model.renderMode+" sf-m-core sf-m-lb sf-m-lb-rPar' data-url='/&child_"+u+"'><\/div>"),this.model.renderMode=="android"&&r.addClass("sf-m-"+this.model.android.theme),this._groupList&&r.addClass("sf-m-grouplist"),this.model.renderMode=="android"&&this.model.subPage&&this.model.subPageNavigation||this.model.renderMode=="ios"||this.model.renderMode=="android"&&!this.model.subPage?(f=$("<div id ='sfchild_"+u+"' data-role='sf-m-header' data-bindback='false' data-shownavigation='true' data-leftbuttonstyle='back' data-mode='client' data-title='"+(sf.getAttrVal(t,"data-childpagetitle")?sf.getAttrVal(t,"data-childpagetitle"):"Title")+"' data-showleftbutton='true' data-leftbuttoncaption ='Back' data-rendermode='"+this.model.renderMode+"'><\/div>"),this.model.renderMode=="android"&&f.attr("data-android-theme",this.model.android.theme)):!sf.isMobile()&&this.model.renderMode=="windows"&&this.model.subPage&&(f=$("<div id ='sfchild_"+u+"' class='sflistheader'><input id='sfchild_"+u+"button' data-rendermode='windows' data-windows-buttonstyle='back' data-role='sf-m-button'><\/div>")),e=$("<div id ='child_"+u+"_wrapper'><\/div>"),$(this.element).append(r),r.append(f),r.append(e),n.addClass("sf-lb sf-state-default"),this.model.enableSorting&&this._renderSortBar(e),this.model.enableFiltering&&this._renderFilterBar(e),e.append(n),o=n.find(">li"),o.each(function(t,u){$(u).attr("data-role")=="data-group-title"?(i._groupList=!0,$(r).append($("<div class ='sf-lb-headertext sf-font-"+i.model.renderMode+" sf-font-small'>"+$(u).html()+"<\/div>")),$(u).remove(),ul=i._renderDefaultValues(n,r)):$(u).attr("data-role")=="data-group-footer"?(i._groupList=!0,$(i.element).append($("<div class ='sf-lb-footertext sf-font-"+i.model.renderMode+" sf-font-small'>"+$(u).html()+"<\/div>")),$(u).remove()):curElement=i._groupList?i._renderListitem(t,u,o,ul):i._renderListitem(t,u,o,n)})},_renderListitem:function(n,t,i,r){var h=$(t).find(">ul"),c,p,w,l,b,a,f,v,s;h.length>0&&(h.remove(),$(t).attr("data-child-id","child_"+sf.getAttrVal(t,"data-primarykey")),this._renderChildList(h,t)),$(t).addClass("sf-lb-cor-none sf-lb-item sf-state-default"),this.model.renderMode=="ios"&&this.model.showCorners&&(n==0&&$(t).addClass("sf-btn-corner-top"),n==i.length-1&&$(t).addClass("sf-btn-corner-bottom"));var e=$("<div class='sf-item-inner'><\/div>"),y=$("<div class='sf-item-text'><\/div>"),u=$(t).find("a"),g=u.text(),o=$(t).find("img");if(u.addClass("sf-lb-link sf-font-"+this.model.renderMode+" sf-font-normal"),u.find("*").length==0&&u.empty(),o.length>0&&(o.addClass("sf-image"),u.append(o)),c=$("<span class='sf-lb-text'><\/span>"),c.html(g),(u.find("*").length==0||o.length>0)&&u.append(c),this.model.renderMode=="windows"&&this.model.windows.showCheckmark&&(p=$("<div class='sf-lbitem-check sf-pos-"+this.model.windows.checkmarkPosition+"'><\/div>"),$(u).append(p)),w=$(t).html(),$(t).empty(),y.append(w),this.model.listItemStyle=="option"&&(l=$("<div class='sf-lb-optdiv sf-state-default'><\/div>"),b=$("<div class='sf-lb-optdiv-inner sf-state-default'><\/div>"),l.append(b),e.append(l)),this.model.listItemStyle=="checkbox"){a=$("<div class='sf-lb-cBoxdiv sf-state-default'><\/div>"),f=$("<div id ='"+this.model.id+"_cBox' class ='sf-checkbox sf-checkboxmedium'><\/div>"),this.model.renderMode=="normal"&&f.addClass("sf-m-"+this.model.autoFormat),v=$("<div class='sf-div'><\/div>"),s=$("<span class='sf-spanicon sf-checkboxmedium sf-state-default'><\/span>"),this.model.renderMode=="normal"&&s.addClass("sf-m-"+this.model.autoFormat);var k=$("<span class='sf-spaninner sf-state-default'><\/span>"),nt=$("<span class='sf-check-image'><\/span>"),d=$("<div style='display:none'>"),tt=$("<input data-role='none' class='sf-input'><\/input>");d.append(tt),f.append(d),k.append(nt),s.append(k),v.append(s),f.append(v),a.append(f),e.append(a)}return e.append(y),$(t).append(e),(this.model.renderMode=="ios"||this.model.renderMode=="windows")&&sf.getAttrVal(t,"data-primarykey")&&$(t).append($("<div class='sf-item-arrow sf-state-default'><\/div>").append($("<span class='sf-item-hasChild'><\/span>"))),this.model.renderMode=="android"&&sf.getAttrVal(t,"data-primarykey")&&$(t).append($("<div class='sf-lb-arrow'><\/div>")),r.append(t),t},renderDataSource:function(data){$("#"+this.model.id+"_container").html($("#"+this.model.id+"_Template").render(eval(data))),this._listItems=$(this.element).find(".sf-lb-item"),this.model.showCorners&&($(this._listItems[0]).addClass("sf-corner-top"),$(this._listItems[this._listItems.length-1]).addClass("sf-corner-bottom")),$(this._listItems[this._listItems.length-1]).addClass("sf-lb-last-child"),this._wireEvents(),this._curRecords=data},_renderFilterBar:function(n){var t=$('<div class="sf-lb-filter sf-btn-corner-all sf-state-default sf-shadow"><\/div>'),u=$("<input class='sf-input-search'><\/input>"),i=$("<a class='sf-input-clear sf-lb-hide'><\/a>"),r;$(i).attr({Title:"Clear text","data-role":"none"}),r=$("<span class='sf-input-btn'><\/span"),$(i).append(r),$(t).append(u),$(t).append(i),$(n).prepend(t)},_renderSortBar:function(n){var i=$('<div class="sf-btn-corner-all sf-state-default sf-lb-bk-btnPr"><\/div>'),r,t;$(i).attr("style","height:30px;"),r=$("<div class='sf-sort-Clear sf-icon'><\/div"),$(r).attr("id",this.model.id+"_btnClear"),t=$("<div><\/div"),$(t).attr("id",this.model.id+"_btnSort"),this._sortdirection=="descending"?$(t).addClass("sf-sort-linkDesc sf-icon"):$(t).addClass("sf-sort-linkAsc sf-icon"),$(i).append(r),$(i).append(t),$(n).prepend(i)},_onMDownHandler:function(n){var u,f,e,o;this._isMouseMove=!1,this._mMoverHandler=$.proxy(this._onMMoveHandler,this),this.model.selectable&&$(this._listItems).bind(this._moveEv,this._mMoverHandler),this._incValue=1;var r=n.currentTarget,i=$(this._getParent()).find(".sf-lb-item.sf-state-active"),t=this;this.model.listItemStyle=="option"?(u=$(i).find(".sf-lb-optdiv-inner"),f=$(r).find(".sf-lb-optdiv-inner")):this.model.listItemStyle=="checkbox"&&(this._iState=$(r).hasClass("sf-state-active")?"Removal":"Selection"),this.model.listItemStyle!="checkbox"&&i.length!=0&&($(i)[0]!=$(r)[0]&&(this._arrRemoveByValue(this._iCollection,i[0]),this._arrRemoveByValue(this._selNameCollection,e)),e=i.find(".sf-lb-link .sf-lb-text").html(),o={removedItem:i[0],removedItemIndex:$(i).index(),hasChild:$(i).attr("data-child-id")!=null,Text:e},this.model.onItemUnSelect&&this._trigger("onItemUnSelect",o)),window.setTimeout(function(){if(t.model.selectable&&!t._isMouseMove&&(t.model.listItemStyle!="checkbox"&&i.length!=0&&$(r).closest(".sf-lb").find("li").removeClass("sf-state-active").addClass("sf-state-default"),$(t.element).find(".sf-m-lbgroup").length>0&&t._listItems.removeClass("sf-state-active").addClass("sf-state-default"),t.model.renderMode!="windows"||t.model.listItemStyle=="checkbox")){if(t._iState=="Selection"){var n=$(r).find(".sf-lb-cBoxdiv .sf-spaninner"),e=$(r).find(".sf-lb-cBoxdiv");$(n).addClass("sf-state-active").removeClass("sf-state-default"),$(e).addClass("sf-state-active").removeClass("sf-state-default"),$(n).find(".sf-check-image").addClass("sf-icon")}$(r).addClass("sf-state-active").removeClass("sf-state-default"),t.model.listItemStyle=="option"&&($(u).removeClass("sf-state-active").addClass("sf-state-default"),$(f).addClass("sf-state-active").removeClass("sf-state-default"))}t.model.listItemStyle=="option"&&($(u).removeClass("sf-state-active").addClass("sf-state-default"),$(f).addClass("sf-state-active").removeClass("sf-state-default"))},50)},_pageshowHandler:function(){this._bindFiltering(this._citem)},_ontHoldHandler:function(n){var t=this._setEventData($(n.currentTarget));this.model.onItemTapHold&&this._trigger("onItemTapHold",t)},_removePage:function(n,t){var r=t.nextPage,i;t.nextPage&&(i=r.jqmData("url"),parentUrl=this._parentPage.jqmData("url"),i.indexOf(parentUrl+"&child")!=-1&&parentUrl.indexOf("&child")!=-1&&(this._childPages().remove(),this._parentPage.remove()))},_childPages:function(){var n=this._parentPage.jqmData("url");return $(":jqmData(url^='"+n+"&child')")},_onMUpHandler:function(n){var i,r,t;(!this._isMouseMove||sf.isWindowsPhone())&&(this._target=$(n.currentTarget),$(this._listItems).unbind(this._moveEv,this._mMoverHandler),this.model.renderMode=="windows"&&this.model.selectable&&(i=$("body").find("li.sf-lb-item.sf-state-active"),$(i).removeClass("sf-state-active").addClass("sf-state-default"),this._target.addClass("sf-state-active").removeClass("sf-state-default")),this._triggerSelectRemoveEvents($(this._target)),r=this,t=this._target.attr("data-child-id"),t&&sf.blockDefaultActions(n),this._citem=$("body").find("#"+t),this._btn&&$(this._btn).removeClass("sf-state-active"),this._citem.length>0&&!this.model.subPage?(this._parentPage=sf.getCurrentPage(),sf.getCurrentPage().unbind("pagehide.remove"),sf.getCurrentPage().bind("pagehide.remove",$.proxy(this._removePage,this)),this.model.actionMode=="server"?this._handleServerAction(this._target,t):this._handleJSONAction(this._target,t)):t&&this.model.subPage?this._renderChildItem(t):$("#"+t).length>0&&$.mobile.changePage("#"+t,{transition:this.model.transition}))},_handleServerAction:function(n,t){var u=$(n).attr("data-child-id"),f,i,r;u&&(this.model.enableSorting&&this._handleSortingProcess(n),$(this._citem).find(".sf-input-search").val(""),$(this._citem).find(".sf-lb-item").removeClass("sf-state-hide"),$(document).delegate($(this._citem),"pageshow",$.proxy(this._pageshowHandler,this)),this.model.enableSorting&&(this._sortBtn.addClass("sf-sort-linkAsc"),this._sortBtn.removeClass("sf-sort-linkDesc"),this._incValue==1&&(this._sortdirection="descending",this._clicks=this._clicks+1),this._incValue=this._incValue+1,this._innerSort!="nil"&&(this._sortdirection=this._innerSort,this._sortdirection=="descending"?(this._sortBtn.addClass("sf-sort-linkAsc"),this._sortBtn.removeClass("sf-sort-linkDesc")):(this._sortBtn.addClass("sf-sort-linkDesc"),this._sortBtn.removeClass("sf-sort-linkAsc")))),f="/&"+n.attr("data-child-id"),i=this._citem,$.mobile.changePage(i,{transition:this.model.transition}),this.model.allowScrolling&&($("#"+t+"_scroll").remove(),r=$("<div id='"+t+"_scroll' data-sfscroll ='content' data-targetid='"+t+"_wrapper' data-scrolltype='Vertical' data-role='sf-m-scrollpanel' data-absolute='false'  data-rendermode='"+this.model.renderMode+"'><\/div>"),$(i).append(r),r.mScrollPanel()),this.model.enableSorting&&(this._sortBtn.die(),$(document).delegate(this._sortBtn,this._startEv,$.proxy(this._onSort,this)),$(document).delegate($("#"+this.model.id+"_btnClear"),this._startEv,$.proxy(this._onClearSort,this))))},_getPrevChild:function(){var n=location.href,t="";return n.indexOf("&")!=-1&&(t=n.substr(n.indexOf("&"),n.length)),t},_handleJSONAction:function(n,t){var o=n.attr("data-level"),r,i,u,f,e;$("#"+t)?(r=$(n).index(),n.parent().parent().attr("id")==this.model.id+"_parent"&&(this._curRecords=this._records),this._curRecords=this._curRecords[r].Children,this._curRecords&&(i=this._clonedParent.clone(),i.attr("id",t),i.attr("data-url",location.pathname+"&"+t).removeClass("ui-page ui-body-c ui-page-active").attr("data-role","page"),$(i).appendTo("body"),this._citem=i,u=parseInt(o.replace("Level","")),$(i).find(".sf-lb").append("#"+this.model.id+"_JSONTemplate_Level"+(u+1),this._curRecords),this._listItems=$(i).find(".sf-lb-item"),this.model.showCorners&&($(this._listItems[0]).addClass("sf-corner-top"),$(this._listItems[this._listItems.length-1]).addClass("sf-corner-bottom")),$(this._listItems[this._listItems.length-1]).addClass("sf-lb-last-child"),$(this._citem).find(".sf-input-search").val(""),$(this._citem).find(".sf-lb-item").removeClass("sf-state-hide"),f=this._citem.find(".sf-lb-item"),$.mobile.changePage(location.href.replace(/\/#/g,"").replace(this._getPrevChild(),"")+"&"+t,{transition:this.model.transition}),this.model.allowScrolling&&($("#"+t+"_scroll").remove(),e=$("<div id ='"+t+"_scroll' class ='sf-m-sp sf-clear-all sf-m-"+this.model.renderMode+"'><\/div>"),e.mScrollPanel({ID:t+"_scroll",AbsolutePosition:!1,ScrollType:"Vertical",TargetId:t+"_wrapper",RenderMode:this.model.renderMode,TargetWidth:sf.getDimension(this.element,"outerWidth")})),this._bindEvents(f),this._bindFiltering(this._citem))):$.mobile.changePage(location.href.replace(/\/#/g,"").replace(this._getPrevChild(),"")+"&"+t,{transition:this.model.transition})},_currentPage:function(){return $(":jqmData(role='page').ui-page-active, :jqmData(role='dialog').ui-page-active")},_getParent:function(){return $(this._pPage)[0]==this._currentPage()[0]?this.element:this._currentPage()},_handleSortingProcess:function(n){this._clicks==0&&(this._isSort==!0&&(this._sortDetails=""),this._clickedItem="1");var t=$(this._getParent()).find(".sf-lb-item");this._clickedItem=this._clickedItem!="1"?this._clickedItem+t.index(n)+"_":t.index(n)+"_",this._isSort==!0?this._sortDetails=this._sortDetails!="N"?this._sortDetails+this._sortdirection+"_":this._sortdirection+"_":this._clicks==0?this._sortDetails=this._sortDetails!=""?this._sortDetails+"_":this._sortDetails+"N_":(this._sortDetails=this._previousSort!=""?this._sortDetails+this._previousSort+"_":this._sortDetails+"N_",this._previousSort="")},_triggerSelectRemoveEvents:function(n){var t=this._setEventData(n);this._iState=="Selection"?this.model.onItemSelect&&this._trigger("onItemSelect",t):this._iState=="Removal"&&this.model.onItemUnSelect&&this._trigger("onItemUnSelect",t),this._isMouseMove=!1},_setEventData:function(n){var i=n.find(".sf-lb-link .sf-lb-text").html(),r=this,t={selectedItem:n[0],selectedItemIndex:$(n).index(),hasChild:$(n).attr("data-child-id")!=null,Text:i};return this._iState=="Selection"?(this._iCollection.push(n[0]),this._selNameCollection.push(i),t.itemCollection=this._iCollection,t.selectedItemNames=this._selNameCollection):this.model.listItemStyle!="checkbox"||this._iState!="Removal"||this._isMouseMove||this._iCollection.indexOf(n[0])!=-1&&(setTimeout(function(){var t=$(n).find(".sf-lb-cBoxdiv .sf-spaninner"),u=$(n).find(".sf-lb-cBoxdiv");$(n).removeClass("sf-state-active").addClass("sf-state-default"),$(t).removeClass("sf-state-active").addClass("sf-state-default"),$(u).removeClass("sf-state-active").addClass("sf-state-default"),$(t).find(".sf-check-image").removeClass("sf-icon"),r._arrRemoveByValue(r._iCollection,n[0]),r._arrRemoveByValue(r._selNameCollection,i)},100),t=[],t={removedItem:n[0],removedItemIndex:$(n).index(),hasChild:$(n).attr("data-child-id")!=null,Text:i,itemCollection:this._iCollection,selectedItemNames:this._selNameCollection}),t},_removeSelectedItems:function(){if($(this.element).find(".sf-state-active").removeClass("sf-state-active").addClass("sf-state-default"),this.model.listItemStyle=="option")$(this.element).find(".sf-lb-optdiv-inner").removeClass("sf-state-active").addClass("sf-state-default");else if(this.model.listItemStyle=="checkbox"){var n=$(this.element).find(".sf-lb-cBoxdiv .sf-spaninner"),t=$(this.element).find(".sf-lb-cBoxdiv");$(n).removeClass("sf-state-active").addClass("sf-state-default"),$(t).removeClass("sf-state-active").addClass("sf-state-default"),$(n).find(".sf-check-image").removeClass("sf-icon"),this._iCollection=[],this._selNameCollection=[]}},removeSelectionByItem:function(n){var t=this;$.each(n,function(n,i){if($(i).removeClass("sf-state-active").addClass("sf-state-default"),t.model.listItemStyle=="option")$(i).find(".sf-lb-optdiv-inner").removeClass("sf-state-active").addClass("sf-state-default");else if(t.model.listItemStyle=="checkbox"){var r=$(i).find(".sf-lb-cBoxdiv .sf-spaninner"),u=$(i).find(".sf-lb-cBoxdiv");$(r).removeClass("sf-state-active").addClass("sf-state-default"),$(u).removeClass("sf-state-active").addClass("sf-state-default"),$(r).find(".sf-check-image").removeClass("sf-icon"),t._arrRemoveByValue(t._iCollection,i),t._arrRemoveByValue(t._selNameCollection,$(i).find(".sf-lb-link .sf-lb-text").html())}})},addSelectionByItem:function(n){var t=this;$.each(n,function(n,i){if($(i).removeClass("sf-state-default").addClass("sf-state-active"),t.model.listItemStyle=="option")$(i).find(".sf-lb-optdiv-inner").removeClass("sf-state-default").addClass("sf-state-active");else if(t.model.listItemStyle=="checkbox"){var r=$(i).find(".sf-lb-cBoxdiv .sf-spaninner"),u=$(i).find(".sf-lb-cBoxdiv");$(r).addClass("sf-state-active").removeClass("sf-state-default"),$(u).addClass("sf-state-active").removeClass("sf-state-default"),$(r).find(".sf-check-image").addClass("sf-icon"),t._iCollection.push(i),t._selNameCollection.push($(i).find(".sf-lb-link .sf-lb-text").html())}})},_arrRemoveByValue:function(n,t){for(var i=0;i<n.length;i++)if(n[i]==t){n.splice(i,1);break}},_onBtnMDownHandler:function(){var n=$("body").find("li.sf-lb-item.sf-state-active");$(n).removeClass("sf-state-active").addClass("sf-state-default"),this._btn=$(this._citem).find(".sf-lb-bk-btnPr .sf-lb-bk-btn:visible"),this._btn.addClass("sf-state-active")},_onBtnMUpHandler:function(){var f,e,t,r,u,i,n;if(this.model.enableSorting&&(this._clicks=this._clicks-1,this._sortBtn.die(),this._clicks!=0&&$(document).delegate(this._sortBtn,this._startEv,$.proxy(this._onSort,this))),this._citem=$("body").find("div[data-role='page'].sf-m-lb:visible"),f={Model:this.model},this.model.onBackClick&&this._trigger("onBackClick",f),e=this._citem.attr("id"),history.back(),this.model.enableSorting){if(this._sortdirection=="descending"||this._sortdirection=="nil"?(this._sortBtn.addClass("sf-sort-linkAsc"),this._sortBtn.removeClass("sf-sort-linkDesc")):(this._sortBtn.addClass("sf-sort-linkDesc"),this._sortBtn.removeClass("sf-sort-linkAsc")),this._isSort=!1,t=this._clickedItem.substring(0,this._clickedItem.length-1),r=t.split("_"),r.length>1)for(n=0;n<r.length-1;n++)t=r[n]+"_";if(t==""&&(t="1"),u=this._sortDetails.substring(0,this._sortDetails.length-1),i=u.split("_"),i.length>1)for(n=0;n<i.length-1;n++)u=i[n]+"_";this._previousSort=i[i.length-1],this._sortDetails=u,this._clickedItem=t}},_searchCompleteHandler:function(){var n=$(this.element).find(".sf-lb-divider");$.each(n,function(n,t){$(t).next().is(":visible")?$(t).removeClass("sf-state-hide"):$(t).addClass("sf-state-hide")})},_hoverHandler:function(n){var i=n.currentTarget,t;$(i).addClass("sf-state-hover"),this.model.listItemStyle=="option"&&(t=$(i).find(".sf-lb-optdiv-inner:visible"),t.length==1&&$(t).addClass("sf-state-hover").removeClass("sf-state-default"))},_hoverOutHandler:function(n){var t=n.currentTarget,i;$(t).removeClass("sf-state-hover"),this.model.listItemStyle=="option"&&(i=$(t).find(".sf-lb-optdiv-inner"),$(t).hasClass("sf-state-default")?$(i).removeClass("sf-state-hover").addClass("sf-state-default"):$(t).hasClass("sf-state-active")&&$(i).removeClass("sf-state-hover").addClass("sf-state-active"))},_onBtnHoverHandler:function(){$(this._btn).addClass("sf-state-hover")},_onBtnUnhoverHandler:function(){$(this._btn).removeClass("sf-state-hover"),$(this._btn).removeClass("sf-state-active")},_load:function(){var n={value:this.model};this.model.onListLoad&&this._trigger("onListLoad",n)},_onSort:function(n){var t=n.currentTarget;this._isSort=!0,this._sortdirection=="ascending"?($(t).addClass("sf-sort-linkAsc"),$(t).removeClass("sf-sort-linkDesc"),this._sortdirection="descending"):($(t).addClass("sf-sort-linkDesc"),$(t).removeClass("sf-sort-linkAsc"),this._sortdirection="ascending"),this._doSort(this._sortdirection)},_onClearSort:function(n){var t=n.currentTarget;$(t).parent().find("#"+this.model.id+"_btnSort").addClass("sf-sort-linkAsc"),$(t).parent().find("#"+this.model.id+"_btnSort").removeClass("sf-sort-linkDesc"),this._sortdirection="nil",this._doSort("clear")},_doSort:function(n){var t=this,i={CollectionCount:this.model.collectionCount,CollectionSize:this.model.collectionSize,RequestType:1,ID:this.model.id,EnableSorting:this.model.enableSorting},r=JSON.stringify(i);i={ListBoxRequestParams:r,ClientObject:this._getClientObject(n),RequestType:1,ID:this.model.id},$.ajax({url:this.model.url,type:"POST",data:i,success:function(n){$(t._getParent()).find(".sf-lb").html(n),t.model.actionMode=="Server"&&(t._listItems=$(t._getParent()).find(".sf-lb-item"),t._wireEvents())}})},addItems:function(n){$(this._rItemParent).append("#"+this.model.id+"_JSONTemplate_Level1",n),this._listItems=$(this.element).find(".sf-lb-item"),this.model.showCorners&&($(this._listItems[0]).addClass("sf-corner-top"),$(this._listItems[this._listItems.length-1]).addClass("sf-corner-bottom")),$(this._listItems[this._listItems.length-1]).addClass("sf-lb-last-child"),this._wireEvents(),this._curRecords=n},_getClientObject:function(n){var t={AllowSorting:this._allowSorting,HttpRequestType:this._httpRequestType,SortColumn:this._sortedColumn,SortDirection:n,ClickedItem:this._clickedItem,ListItemStyle:this.model.listItemStyle,sortDetails:this._sortDetails};return JSON.stringify(t)},_onMMoveHandler:function(){this._isMouseMove=!0},_bindEvents:function(n){this._mDownHandler=$.proxy(this._onMDownHandler,this),this._mUpHandler=$.proxy(this._onMUpHandler,this),this._tHldHandler=$.proxy(this._ontHoldHandler,this),sf.bindTouchEvent(n,this._startEv,this._mDownHandler),sf.isTouchDevice()&&sf.isWindowsPhone()?sf.bindTouchEvent(n,"tap",this._mUpHandler):$(n).bind("tap",this._mUpHandler),$(n).bind("taphold",this._tHldHandler),sf.isIOS()&&sf.isMobile()&&$(this.element).find("li[data-child-id]").length>0&&$(window).bind("orientationchange",$.proxy(this._orientationChange,this)),this.model.renderMode=="windows"&&sf.isMobile()&&$(window).bind($.support.pushState?"popstate":"hashchange",$.proxy(this._onPopState,this))},_orientationChange:function(){var n=this,t;this.element.css({width:window.innerWidth+"px"}),this._childDiv.find("div.sf-lb-child.sf-m-ios").each(function(){$(this).hasClass("sf-child-active")?$(n.element.find(">div")[0]).css({transition:"-webkit-transform 0ms",transform:"translateX(-"+window.innerWidth+"px)"}):$(this).css({transition:"-webkit-transform 0ms",transform:"translateX("+window.innerWidth+"px)"})}),t=setTimeout(function(){$(n.element.find(">div")[0]).css({transition:"-webkit-transform 250ms ease-in 0s"}),n._childDiv.find("div.sf-lb-child.sf-m-ios").css({transition:"-webkit-transform 250ms ease-in 0s"}),clearTimeout(t)},250)},_bindFiltering:function(n){this.model.enableFiltering&&(this._filterBarEl=$(n).find(".sf-lb-filter input.sf-input-search"),this._filterItems=$(n).find(".sf-lb-item"),$(this._filterBarEl).quicksearch($(this._filterItems),{selector:"a",onAfter:$.proxy(this._searchCompleteHandler,this)}))},_unBindEvents:function(n){sf.unBindTouchEvent(n,this._startEv,this._mDownHandler),$(n).unbind("tap",this._mUpHandler),sf.isTouchDevice()||$(n).unbind("mouseover mouseleave"),this.model.enableFiltering&&$(this._filterBarEl).unbind()},_renderChildItem:function(n){var t=this;this._isChildClick=this._target.closest(".sf-lb-child").length>0?!0:!1,this._key=parseInt(n.replace(/child_/,"")),this.model.loadOnDemand?$(this._childDiv).find("#child_"+this._key).length==0?(ListBoxParams=this._setPostData(n),$.ajax({type:"POST",url:this.model.requestMapper,data:ListBoxParams,dataType:"html",success:function(n){t.model.renderMode=="ios"&&(n=$(n).css(t._transition,"all ease-in 250ms"),n=$(n).css(t._transform,"translateX("+sf.getDimension(t.element,"width")+"px)")),$(t._childDiv).find("#child_"+t._key).remove(),t._childDiv.append($(n)),sf.evalSfScripts(n),t._wireBackEvent(t._childDiv),t._listItems=$(t.element).find(".sf-lb-item");var i=$(t._childDiv).find("li");t._bindEvents(i),t._moveForward()}})):this._moveForward():this._moveForward()},_setPostData:function(n){var r=this,t={CollectionCount:this.model.collectionCount,CollectionSize:this.model.collectionSize,CurrentItem:n,RenderMode:sf.sfRenderMode()[this.model.renderMode],ShowCorners:this.model.showCorners,Title:this.model.title?this.model.title:"Back",SubPage:this.model.subPage,SubNavigation:this.model.subPageNavigation,LoadOnDemand:this.model.loadOnDemand,EnableFiltering:this.model.enableFiltering,ListItemStyle:this.model.listItemStyle,CustomCss:this.model.customCss,PrimaryKey:this._key,RequestType:3,EnableSorting:this.model.enableSorting,ID:this.model.id},i=JSON.stringify(t);return{ListBoxRequestParams:i,RequestType:3,ID:this.model.id}},_onPopState:function(){this._childUrl==location.href&&this._moveBackward()},_moveForward:function(){var i,r;if(!this._isMouseMove){var n=this,u=this._target.find(".sf-lb-text").html(),t=this._target.closest(".sf-lb-child").length>0?this._childDiv.find("#sf"+this._target.closest(".sf-lb-child").attr("id")).mHeader("getTitle"):$(this.element).find("#"+this.model.id+"_header").mHeader("getTitle");t==""&&(t="Back"),this.model.renderMode=="ios"?(this._childDiv.find("#sf"+this._target.attr("data-child-id")).mHeader("setTitle",u),this._childDiv.find("#sf"+this._target.attr("data-child-id")).mHeader("setLeftButtonCaption",t),this._target.closest("div.sf-m-lb").css(this._transform,"translateX("+-$(this.element).width()+"px)"),$(this.element).find("#"+this._target.attr("data-child-id")).css(this._transform,"translateX(0px)"),$(this.element).find("#"+this._target.attr("data-child-id")).addClass("sf-child-active")):(this.model.renderMode=="windows"&&sf.isMobile()&&(this._childUrl=location.href,$.support.pushState?window.history.pushState(null,this._target.attr("data-child-id"),this._target.attr("data-child-id")):location.hash=this._target.attr("data-child-id")),this.model.renderMode=="windows"?(this._target.closest("div.sf-m-lb").css(this._transform,"translateX("+-$(this.element).width()+"px)"),$(this.element).find("#"+this._target.attr("data-child-id")).css(this._transform,"translateX(0px)"),$(this.element).find("#"+this._target.attr("data-child-id")).addClass("sf-child-active")):this._target.closest("div.sf-m-lb").fadeOut(function(){$(n.element).find("#"+n._target.attr("data-child-id")).fadeIn(),$("#"+n._target.attr("data-child-id")+"_scroll").mScrollPanel("refresh")})),this.model.allowScrolling&&(this._childDiv.find("#"+this._target.attr("data-child-id")+"_scroll").length>0?this._childDiv.find("#"+this._target.attr("data-child-id")+"_scroll").mScrollPanel("refresh"):($("#"+this._target.attr("data-child-id")+"_scroll").remove(),i=$("<div id ='"+this._target.attr("data-child-id")+"_scroll' data-scrolltype='Vertical' data-role='sf-m-scrollpanel' data-targetid='"+this._target.attr("data-child-id")+"_wrapper' data-absolute='false'  data-rendermode='"+this.model.renderMode+"'><\/div>"),$(this._childDiv).append(i),i.mScrollPanel())),r={value:this.model,itemCollection:this._listItems,currentChild:this._childDiv.find("#"+this._target.attr("data-child-id"))},this.model.onListLoad&&this._trigger("onListLoad",r)}},_moveBackward:function(){var n=this;this.model.renderMode=="ios"||this.model.renderMode=="windows"?$(this._target).closest(".sf-lb-child")[0]||this.model.renderMode=="ios"?($(this.element).find("li[data-child-id = "+this._target.closest(".sf-lb-child").attr("id")+"]").closest("div.sf-m-lb").css(this._transform,"translateX(0px)"),this._target.closest(".sf-lb-child").css(this._transform,"translateX("+$(this.element).width()+"px)"),this._target.closest(".sf-lb-child").removeClass("sf-child-active")):($(this._target).closest("div.sf-m-lb").css(this._transform,"translateX(0px)"),sf.getCurrentPage().find("#"+$(this._target).attr("data-child-id")).css(this._transform,"translateX("+$(this.element).width()+"px)"),sf.getCurrentPage().find("#"+$(this._target).attr("data-child-id")).removeClass("sf-child-active")):this._target.closest(".sf-lb-child").fadeOut(function(){$(n.element).find("li[data-child-id = "+n._target.closest(".sf-lb-child").attr("id")+"]").closest("div.sf-m-lb").fadeIn()})},_OnBackClick:function(n){this._target=$(n.currentTarget);var t={Model:this.model,text:$(n.currentTarget).html()};this.model.onBackClick&&this._trigger("onBackClick",t),this._moveBackward()},_wireBackEvent:function(n){var t;this.model.renderMode=="android"?t=$(n).find(".sfheader .sf-header-left"):this.model.renderMode=="ios"?t=$(n).find(".sfheader a.sf-m-actionlink"):this.model.renderMode!="windows"||sf.isMobile()||(t=$(n).find(".sflistheader div.sf-windows-back")),sf.isMobile()&&this.model.renderMode=="windows"||(this._backHandler=$.proxy(this._OnBackClick,this),sf.bindTouchEvent(t,this._endEv,this._backHandler))},sendRefreshRequest:function(){var t={CollectionCount:this.model.collectionCount,CollectionSize:this.model.collectionSize,RequestType:2,ID:this.model.id,EnableSorting:this.model.enableSorting},u=JSON.stringify(t),r,i,n,f;t={ListBoxRequestParams:u,RequestType:2,ID:this.model.id},r="application/x-www-form-urlencoded",i="",this.model.actionMode=="json"?i=this.model.url:this.model.actionMode=="webservice"&&(i=this.model.webServiceUrl,r="application/json; charset=utf-8",t=this._stringify(t,"webParams")),n=this,f=$.ajax({type:"POST",url:i,data:t,contentType:r,dataType:"JSON",success:function(t){var i,r,u,f;n.model.renderMode=="normal"?(n.model.actionMode=="json"?n._records=t.JSONdata:n.model.actionMode=="webservice"&&(n._records=t.d.Data),n._records.length>0?($(n._rItemParent).append("#"+n.model.id+"_JSONTemplate_Level1",n._records),n._listItems=$(n.element).find(".sf-lb-item"),n._wireEvents(),n.model.showCorners&&($(n._listItems[0]).addClass("sf-corner-top"),$(n._listItems[n._listItems.length-1]).addClass("sf-corner-bottom")),$(n._listItems[n._listItems.length-1]).addClass("sf-lb-last-child"),n._curRecords=n._records):(i=document.createElement("li"),$(i).addClass("sf-lb-item"),r=document.createElement("div"),$(r).addClass("sf-item-inner"),u=document.createElement("a"),$(u).addClass("sf-lb-link"),f=document.createElement("span"),$(f).addClass("sf-lb-text").html("No Items to display"),$(u).append(f),$(r).append(u),$(i).append(r),$(n._rItemParent).append(i))):n.renderDataSource(t.JSONdata)}})},_stringify:function(n,t){var i=[];return i=this._stringifyObject(n),'{"'+t+'":{'+i.join(",")+"}}"},_stringifyObject:function(n){var r=[],t,i;for(t in n)i=n[t],typeof i=="string"?r.push('"'+t+'":"'+i.replace(/"/g,'\\"')+'"'):r.push('"'+t+'":'+i);return r},_setModel:function(n){var i=!1,t;for(t in n)t=="text"?this._setText():(t=="renderMode"||t=="showCorners"||t=="listType"||t=="allowScrolling"||t=="windows"||t=="android"||t=="showCheck"||t=="selectable"||t=="enableSorting"||t=="enableFiltering"||t=="listItemStyle")&&(i=!0);i&&this._refresh(),this._trigger("modelChange",{changes:n})},_refresh:function(){this._destroy(),this.element.addClass("m-listbox"),this._renderControl(),this._wireEvents()},_clearElement:function(){this.element.removeAttr("class"),this.element.removeAttr("style"),$("[id^=child_]").remove(),this.element.html(this._orgEle.html())},_destroy:function(){this._unWireEvents(),this._clearElement()}}),m.ListBox.listItemStyle={Checkbox:"checkbox",Normal:"normal",Option:"option"},m.ListBox.listStyle={Numbered:"numbered",Normal:"normal"},m.ListBox.listType={GroupList:"grouplist",Normal:"normal"},m.ListBox.actionMode={Json:"json",Server:"server",WebService:"webservice"},m.ListBox.windows={checkPosition:{BottomLeft:"bottomleft",BottomRight:"bottomright",TopLeft:"topleft",TopRight:"topright",CenterLeft:"CenterLeft",CenterRight:"centerright"}}}(jQuery,Syncfusion),function(n,t,i){t.widget("mMaskEdit","m.MaskEdit",{_setFirst:!0,defaults:{autoFormat:"darknight",renderMode:"auto",renderingEngine:"client",android:{theme:"dark"},indicateError:!1,value:""},dataTypes:{error:"boolean",renderMode:"enum"},_init:function(){this._setValues(),this.model.renderingEngine=="client"&&this._renderControl(),this._wireEvents()},_setValues:function(){this.model.renderMode=sf.getAttrVal(this.element,"data-renderMode","ios"),this.model.renderMode!="normal"?(this.model.id=sf.getAttrVal(this.element,"id"),this.model.id||(this.model.id=sf.getAttrVal(this.element,"name")),n(this.element).attr("id",this.model.id)):this.model.id=n(this.element).attr("id"),this.model.android.theme=sf.getAttrVal(this.element,"data-android-theme",this.model.android.theme),this.model.mask=sf.getAttrVal(this.element,"data-mask"),this.model.value=sf.getAttrVal(this.element,"data-value",this.model.value),this.model.cssClass=sf.getAttrVal(this.element,"data-csscls",this.model.cssClass),this.model.indicateError=sf.getBooleanVal(this.element,"data-error",this.model.indicateError),this.model.waterMarkText=sf.getAttrVal(this.element,"data-watermarktext"),this.model.bindingMode=sf.getAttrVal(this.element,"data-bindingmode")=="strippedvalue"?0:1,this.model.autoFormat=sf.getAttrVal(this.element,"data-autoformat",this.model.autoFormat),this.model.renderingEngine=sf.getAttrVal(this.element,"data-mode",this.model.renderingEngine),this._bindingMode=this.model.bindingMode,n(this.element).attr("data-role","none");var t=n(this.element);n(document).bind("pageinit",function(){t.attr("data-role","sf-m-maskedit")}),this._id=this.model.id,this._mask=this.model.mask,this._value=this.model.value,this._cssClass=this.model.cssClass,this._waterMarkText=this.model.waterMarkText,this._error=this.model.indicateError,this._isInitialRendered=!0,this._eventColl=null,this._textBox=n(this.element),this._hiddenField=n(this.element).parent().find("#"+this.model.id+"_maskedithiddenField")[0],this._charMap={"9":"[0-9]",a:"[A-Za-z]","*":"[A-Za-z0-9]"}},_renderControl:function(){var t=n('<div id="'+this.model.id+'_maskedittextbox" class="sf-m-'+this.model.renderMode+' sf-m-maskedit"><\/div>'),i;this.model.renderMode=="ios"&&n(this.element).addClass("sf-corner-all"),n(this.element).addClass("sf-m-input"),this._textBox[0].style.width==""&&this._setWidth(),n(t).width(this._textBox[0].style.width),this._setWidth(),n(this.element).wrap(t),i=n(this.element).parent(),this.model.renderMode=="android"&&n(i).addClass("sf-m-"+this.model.android.theme).append(n('<span class="sf-maskeditspan"><\/span>')),n(this._textBox).addClass("sfinputtext sf-font"),this._isInitialRendered||(n(this._textBox).addClass("sfinputtext sf-font"),n(this._textBox.parentNode).append("<input id='"+this._id+"_maskedithiddenField' type='hidden' name='"+this._id+"' />")),this._keypressFlag=0,this._selectedTextKeyDown=0,this._keydownFlag=0,this._mask=this.model.mask,this._maskLength=this._mask.length,this._maskModel=this._mask.replace(/[9a*]/g,"_"),this._validatedValue=this._maskModel,this._validateValue(),this._setWaterMark(),this._error&&n("#"+this._textBox.attr("id")).addClass("error")},_setWidth:function(){this._textBox.width("100%")},_wireEvents:function(){sf.isTouchDevice()?(sf.bindTouchEvent(this._textBox,"focus",n.proxy(this._focusIn,this)),sf.bindTouchEvent(this._textBox,"blur",n.proxy(this._focusOut,this)),sf.bindTouchEvent(this._textBox,"keydown",n.proxy(this._keyDown,this)),sf.bindTouchEvent(this._textBox,"keypress",n.proxy(this._keyPress,this))):(this._textBox.bind("focus",n.proxy(this._focusIn,this)),this._textBox.bind("blur",n.proxy(this._focusOut,this)),this._textBox.bind("keydown",n.proxy(this._keyDown,this)),this._textBox.bind("keypress",n.proxy(this._keyPress,this)))},_unWireEvents:function(){this._textBox.unbind("focus",this._focusIn),this._textBox.unbind("blur",this._focusOut),this._textBox.unbind("keydown",this._keyDown),this._textBox.unbind("keypress",this._keyPress)},getValue:function(){return this._value},setValue:function(n){this._value=n},_setWaterMark:function(){this._waterMarkText&&(this._value==""||this._value==this._maskModel)?(this._textBox.val(this._waterMarkText),n(this._textBox).addClass("MaskWaterMark")):this._value==""&&this._textBox.val(this._maskModel)},_removeWaterMark:function(){n(this._textBox).hasClass("MaskWaterMark")&&(this._textBox.val(this._maskModel),n(this._textBox).removeClass("MaskWaterMark"))},_showAlert:function(){var t=this;n(this._textBox).addClass("ShowInvalidateText").animate({zoom:1},700,null,function(){n(t._textBox).removeClass("ShowInvalidateText").removeAttr("style")})},_validateValue:function(){var t=this._value,i=this._maskModel,o=t?t.length:0,r=-1,n,f,e,u;if(this._maskLength==0)return!0;for(n=0;n<this._maskLength;n++)this._charMap[this._mask.charAt(n)]&&(r++,f=t.charCodeAt(r),this._validateChars(f,n)&&(e=i.substring(0,n),u=i.substring(n),i=e+t.charAt(r)+u.substr(1,u.length)));this._textBox.val(i),this._updateHiddenField()},_updateHiddenField:function(){this.getUnstrippedValue()==this._WaterMarkText?n(this._hiddenField).val(""):this._bindingMode==0?n(this._hiddenField).val(this.getStrippedValue()):n(this._hiddenField).val(this.getUnstrippedValue())},_selectionText:function(n,t){var i=this._maskModel.substring(n,t);return(this._textBox.val(this._textBox.val().substring(0,n)+i+this._textBox.val().substring(t)),this._keydownFlag==1)?(this._setCaretPosition(n),n):this._keydownFlag==2?(this._setCaretPosition(t),t):n},_caretPosition:function(n){var t=0,i,r;return document.selection?(i=document.selection.createRange(),r=i.text.length,i.moveStart("character",-n.value.length),t=i.text.length-r,r!=0&&(t=this._selectionText(t,i.text.length),this._selectedTextKeyDown=1)):(n.selectionStart||n.selectionStart=="0")&&(t=n.selectionStart,n.selectionStart!=n.selectionEnd&&(t=this._selectionText(n.selectionStart,n.selectionEnd),this._selectedTextKeyDown=1)),t},_setCaretPosition:function(n){var t=this._textBox[0],i;sf.browserDetect.msie?t.createTextRange&&(i=t.createTextRange(),i.move("character",n),i.select()):t.selectionStart||t.selectionStart=="0"?(t.focus(),t.setSelectionRange(n,n)):t.focus()},_validateChars:function(n,t){return this._mask.charAt(t)=="9"&&n>=48&&n<=57?!0:this._mask.charAt(t)=="a"&&(n>=65&&n<=90||n>=97&&n<=122)?!0:this._mask.charAt(t)=="*"&&(n>=65&&n<=90||n>=97&&n<=122||n>=48&&n<=57)?!0:!1},_seekNext:function(){for(var n=this._caretPosition(this._textBox[0]),t=n,i=!0;i;){if(n>=0&&n<this._maskLength&&(this._charMap[this._mask.charAt(n)]||(this._setCaretPosition(n+1),n++),n!=t)){t=n;continue}i=!1}return n},_seekBefore:function(){var n=this._caretPosition(this._textBox[0]),i=--n,t=!0;for(this._selectedTextKeyDown==1&&(t=!1);t;){if(n>=0&&n<this._maskLength&&(this._charMap[this._mask.charAt(n)]||this._setCaretPosition(--n),n!=i)){i=n;continue}t=!1}return n},_writeBuffer:function(n,t){if(t<=this._maskLength){var i=this._textBox.val(),u=i.substring(0,t),r=i.substring(t);this._textBox.val(u+n+r.substr(1,r.length)),this._setCaretPosition(t+1)}},getStrippedValue:function(){var n=this._textBox.val(),t="";return n!=i&&(t=n.replace(/[^a-zA-Z0-9]/g,"")),t},getUnstrippedValue:function(){var n=this._textBox.val(),t="";return n!=i&&(t=n.replace(/[_]/g," ")),t},getWaterMarkText:function(){return this._waterMarkText},setWaterMarkText:function(n){this._waterMarkText=n},_keyPress:function(n){if(this._maskLength==0)return!0;var t=n.keyCode?n.keyCode:n.charCode,i=String.fromCharCode(t);if((t>=48&&t<=57||t>=65&&t<=90||t>=97&&t<=122)&&(currentPos=this._seekNext(),this._validateChars(t,currentPos)?this._writeBuffer(i,currentPos):this._showAlert()),!this._keypressFlag&&t!=9)return this._keypressFlag=0,n.preventDefault(),!1;this._keypressFlag=0,this._updateHiddenField()},_keyDown:function(t){if(n("#"+this._textBox.attr("id")).removeClass("error"),this._maskLength==0)return!0;var i=t.keyCode?t.keyCode:t.charCode,r=String.fromCharCode(i);if(i>=35&&i<=41)(sf.browserDetect.mozilla||sf.browserDetect.opera)&&(this._keypressFlag=1);else{if(i==8)return this._keydownFlag=1,currentPos=this._seekBefore(),this._selectedTextKeyDown||(currentPos>=0&&currentPos<this._maskLength&&this._writeBuffer("_",currentPos),this._setCaretPosition(currentPos)),this._keydownFlag=0,this._selectedTextKeyDown=0,t.preventDefault(),!1;if(i==46)return this._keydownFlag=2,currentPos=this._seekNext(),this._selectedTextKeyDown||currentPos>=0&&currentPos<this._maskLength&&this._writeBuffer("_",currentPos),this._keydownFlag=0,this._selectedTextKeyDown=0,t.preventDefault(),!1}this._updateHiddenField()},_cancelEvent:function(n){return n.cancelBubble=!0,n.returnValue=!1,n.stopPropagation(),n.preventDefault(),!1},_focusIn:function(){n(this._textBox).addClass("sfinputtext_focus"),n(this._textBox).parent().find(".sf-maskeditspan").addClass("sf-active"),this._removeWaterMark(),this._updateHiddenField();var t=this._textBox[0];n.fn.selectRange=function(n,i){return this.each(function(){if(t.setSelectionRange)t.focus(),t.setSelectionRange(n,i);else if(this.createTextRange){var r=t.createTextRange();r.collapse(!0),r.moveEnd("character",i),r.moveStart("character",n),r.select()}})},this.model.mask&&n(this._textBox[0]).selectRange(0,0)},_focusOut:function(){n(this._textBox).removeClass("sfinputtext_focus"),n(this._textBox).parent().find(".sf-maskeditspan").removeClass("sf-active"),this._value=this._textBox.val(),this._setWaterMark(),this._updateHiddenField()},_setModel:function(n){var i=!1,t;for(t in n)t=="text"?this._setText():(t=="renderMode"||t=="android"||t=="mask")&&(i=!0);i&&this._refresh(),this._trigger("modelChange",{changes:n})},_refresh:function(){this._destroy(),this.element.addClass("m-maskedit"),this._renderControl(),this._wireEvents()},_clearElement:function(){var t=n("#"+this.model.id+"_maskedittextbox");this.element.insertAfter(t),t.remove(),this.element.removeAttr("class")},_destroy:function(){this._unWireEvents(),this._clearElement()}})}(jQuery,Syncfusion),function(n,t,r){t.widget("mMenu","m.Menu",{_setFirst:!0,defaults:{targetId:null,renderMode:"auto",showAt:null,renderingEngine:"client",itemCount:0,height:0,width:0,onCreate:r,onClick:r,onMouseDown:r,onMouseUp:r,openMenu:"ontap",ios:{menuMode:"auto"},android:{menuType:"optionsmenu",theme:"dark"},windows:{menuType:"optionsmenu"}},dataTypes:{renderMode:"enum",renderingEngine:"enum",openMenu:"enum",ios:{menuMode:"enum"},android:{menuType:"enum",theme:"enum"},windows:{menuType:"enum"}},_init:function(){this._setValues(),this.model.renderingEngine=="client"&&this._renderControl(),this._menuInit(),this._wireEvents()},_setValues:function(){this._orgEle=n(this.element).clone(),this.model.targetId=sf.getAttrVal(this.element,"data-targetid"),this.model.id=sf.getAttrVal(this.element,"data-targetid")+"_menuwrapper",this.model.renderingEngine=sf.getAttrVal(this.element,"data-mode",this.model.renderingEngine),this.model.renderMode=sf.getAttrVal(this.element,"data-rendermode",this.model.renderMode),this.model.renderMode=="auto"&&sf.setRenderMode(this),this.model.itemCount=Number(sf.getAttrVal(this.element,"data-itemcount")),this.model.ios.menuMode=sf.getAttrVal(this.element,"data-menumode",this.model.ios.menuMode),this.model.android.menuType=sf.getAttrVal(this.element,"data-menutype",this.model.android.menuType),this.model.android.theme=sf.getAttrVal(this.element,"data-android-theme",this.model.android.theme),this.model.showAt=sf.getAttrVal(this.element,"data-showat"),this.model.openMenu=sf.getAttrVal(this.element,"data-openMenu",this.model.openMenu),this.model.width=Number(sf.getAttrVal(this.element,"data-width")),this.model.height=Number(sf.getAttrVal(this.element,"data-height")),this.model.onCreate=sf.getAttrVal(this.element,"data-oncreate"),this.model.onClick=sf.getAttrVal(this.element,"data-ontouch"),this.model.onMouseDown=sf.getAttrVal(this.element,"data-ontouchstart"),this.model.onMouseUp=sf.getAttrVal(this.element,"data-ontouchend"),this.model.windows.menuType=sf.getAttrVal(this.element,"data-menutype",this.model.windows.menuType),this._moved=!1,this._ellipsisClicked=!1,this._windowsMenuOpen=!1},_renderControl:function(){var i,r,t;this.element.attr("id",this.model.id),this.model.renderMode=="ios"?(this.element.addClass("sf-m-ios sf-menu"),this.model.ios.menuMode=="animate"||this.model.ios.menuMode=="auto"&&sf.isMobile()?(this.element.addClass("sf-menu-animate"),this.element.css("visibility","hidden"),i=n("<div><\/div>"),i.addClass("sf-menu-animate sf-modal-overlay").css("display","none"),this.element.append(i)):(this.element.addClass("sf-corner-all"),r=n("<div class='sf-menu-ptr'><\/div>"),this.element.append(r)),this._renderIosMenu()):this.model.renderMode=="windows"?(this.element.addClass("sf-m-windows sf-menu").attr("data-menutype",this.model.windows.menuType),this.element.css({visibility:"hidden"}),this.element.addClass(this.model.windows.menuType=="contextual"?"sf-menu-contextual":"sf-menu-options"),this.model.windows.menuType=="optionsmenu"?(scrolldiv=n("<div><\/div>"),scrolldiv.append(this._renderWindowsMenu()),n(scrolldiv).attr("id",this.model.targetId+"_scroller").addClass("sf-scroller"),this.element.append(scrolldiv)):this.element.append(this._renderWindowsMenu())):(this.element.addClass("sf-menu-container sf-menu sf-select-none sf-m-android sf-m-"+this.model.android.theme+" sf-m-"+this.model.android.menuType+""),t=n("<div class='sf-menuitem-container'><\/div>"),this.model.android.menuType=="optionsmenu"?t.append(this._renderOptionMenuContent()):t.append(this._renderMenuContent()),this.element.append(t)),sf.evalSfScripts(n(this.element))},_renderMenuContent:function(){var i=this,t=n("<ul class='sf-menubar sf-selectnone sf-clearall'><\/ul>"),r=this.element.find("ul");return this._menuLiItems=this.element.find("li"),this.element.find("ul").remove(),this._menuLiItems.each(function(n,r){t.append(i._renderMenuItems(r))}),t},_renderOptionMenuContent:function(){var t=this,i=n("<ul class='sf-menubar sf-selectnone sf-clearall'><\/ul>"),u=n("<div class='sf-menu-container sf-m-overflowmenu sf-menu sf-select-none sf-m-optionslist sf-m-android' id='"+this.model.targetId+"_menu'><\/div>"),f;u.addClass("sf-m-"+this.model.android.theme);var e=n("<div class = 'sf-menuitem-container' style='opacity:0;height:auto;'><\/div>"),r=n("<ul class= 'sf-menubar sf-select-none sf-clearall'><\/div>"),o=n("<ul class='sf-menu-hdr'><\/ul>"),s=this.element.find("ul");return this._menuLiItems=this.element.find("li"),this.element.find("ul").remove(),f=this,this._menuLiItems.each(function(u,f){if(t._menuLiItems.length>6)if(u<4)i.append(t._renderMenuItems(f));else if(u==4){var e=n("<li><\/li>");e.html("More"),i.append(t._renderMenuItems(e)),r.append(t._renderMenuItems(f)),n(n(n(i).find("li:last-child")).find("a")).prepend("<div class='moreicon'><\/div>")}else r.append(t._renderMenuItems(f));else i.append(t._renderMenuItems(f))}),i},_renderMenuItems:function(t){var r=n("<li class='sf-menuitem'><\/li>"),f,u,e,o,h,s;if(t.attributes)for(attributes=t.attributes,i=0;i<attributes.length;i++)r.attr(attributes[i].name,attributes[i].value);return n(r).attr("data-ontouchstart",n(t).attr("data-ontouchstart")),n(r).attr("data-ontouchend",n(t).attr("data-ontouchend")),f=sf.getAttrVal(t,"data-value"),f&&r.attr("id",f),u=n("<a class= 'sf-menuitem-anchor sf-font-android sf-font-normal'><\/a>"),e=n(t).attr("data-navigateurl")!=null?n(t).attr("data-navigateurl"):n(t).attr("data-buttonaction"),e&&u.attr("href",e),this.model.android.menuType=="optionsmenu"&&u.addClass("sf-font-small"),o=sf.getAttrVal(t,"data-imageurl"),o&&(h=n("<img src = "+o+" class= 'menuimg'><\/img>"),u.append(h)),s=n("<span class= 'sf-menuitem-span'><\/span>"),s.html(n(t).html()),u.append(s),r.append(u),r},_renderIosMenu:function(){var r=this,t=n("<div class ='sf-menu-container'><\/div>"),i,u;this.model.ios.menuMode!="normal"&&(this.model.ios.menuMode!="auto"||sf.isMobile())||t.addClass("sf-corner-all"),i=n("<ul class='sf-menu-hdr'><\/ul>"),u=this.element.find("ul"),this._menuLiItems=this.element.find("li"),this.element.find("ul").remove(),this._menuLiItems.each(function(n,t){i.append(r._renderIosMenuItem(n,t))}),t.append(i),this.element.append(t)},_renderIosMenuItem:function(t,i){var u=sf.getAttrVal(i,"id"),r=n("<li class = 'sf-menu-item'><\/li>");return u&&r.attr("value",u),t==this._menuLiItems.length-1&&r.addClass("sf-menu-last-item"),n(r).attr("data-ontouchstart",n(i).attr("data-ontouchstart")),n(r).attr("data-ontouchend",n(i).attr("data-ontouchend")),r.append(this._renderIosButton(i)),r},_renderIosButton:function(t){var i=n("<a><\/a>"),r;return i.attr("data-role","sf-m-actionlink"),i.html(n(t).html()),i.attr({"data-rendermode":this.model.renderMode,"data-mode":"client",href:sf.getAttrVal(t,"data-href","#")}),r=n(t).attr("data-navigateurl")!=null?n(t).attr("data-navigateurl"):n(t).attr("data-buttonaction"),r&&i.attr("href",r),i.attr("data-buttoncolor",sf.getAttrVal(t,"data-buttoncolor","gray")),i},_renderWindowsMenu:function(){var i=this,t=n("<ul class='sf-menu-hdr sf-m-windows'><\/ul>"),r=this.element.find("ul");return this._menuLiItems=this.element.find("li"),this.element.find("ul").remove(),this._menuLiItems.each(function(r,u){n(t).append(i._renderWindowsMenuItem(r,u))}),t},_renderWindowsMenuItem:function(t,i){var u=sf.getAttrVal(i,"id"),r=n("<li class = 'sf-menu-item sf-m-windows'><\/li>");return u&&r.attr("value",u),this.model.windows.menuType=="optionsmenu"&&n(r).addClass("sf-_option"),t==this._menuLiItems.length-1&&n(r).addClass("sf-menu-last-item"),n(r).attr("data-ontouchstart",n(i).attr("data-ontouchstart")),n(r).attr("data-ontouchend",n(i).attr("data-ontouchend")),n(r).append(this._renderWindowsButton(i,n(i).html(),n(i).attr("data-navigateurl")!=null?n(i).attr("data-navigateurl"):n(i).attr("data-buttonaction"))),r},_renderWindowsButton:function(t,i,r){var f=n("<div><\/div>"),u;return n(f).addClass("sf-btn-wrapper"),u=n("<a><\/a>"),n(u).attr("href",""),r!=null&&n(u).attr("href",r),u.html(i),n(u).innerHTML=t.innerHTML,n(f).append(u),f},_menuInit:function(){var t;if(this._browser=/webkit/i.test(navigator.appVersion)?"webkit":/firefox/i.test(navigator.userAgent)?"Moz":/trident/i.test(navigator.userAgent)?"ms":"opera"in window?"O":"",this._menu=n(this.element),sf.isMobile()||this._menu.addClass("sf-tablet"),this._deviceWidth=sf.getDimension(n('[data-role="page"]').first(),"width"),this._overFlowMenu=sf.getCurrentPage().find("#"+this.model.targetId+"_menu"),this._overFlowMenuBar=this._overFlowMenu.find(".sf-menuitem-container"),this.model.renderMode=="android"&&this.model.android.menuType=="optionsmenu"&&(this.model.itemCount>6&&sf.getCurrentPage().append(n(this.element).find(".sf-menu")),this.model.itemCount<6&&this._menu.find("li").width(this._deviceWidth/this.model.itemCount-this.model.itemCount-1),this.model.itemCount==4&&this._menu.find("li").width((this._deviceWidth-1)/2),this.model.itemCount>=6&&this._menu.find("li").width((this._deviceWidth-2)/3),this._refreshOverFlowMenu()),this._targetWrapper=sf.getCurrentPage().find("#"+this.model.targetId),this._menuBar=n(this.element).find(".sf-menuitem-container"),this.model.onCreate&&this._trigger("onCreate",t),sf.getCurrentPage().append(this._menu),(this.model.renderMode=="normal"||this.model.renderMode=="android")&&(this._menuRefresh(),this._setMenuPosition(),t={element:this._menu,value:this._menu.attr("id"),text:""}),this.model.renderMode=="android"&&this.model.android.menuType=="contextual"?(this._centerMenu(),this._createOverlayDiv()):this.model.renderMode=="ios"&&this.model.ios.menuMode=="animate"||this.model.ios.menuMode=="auto"&&sf.isMobile()?(this._isTarget=n("#"+this.model.targetId).length==0?0:1,this._m_oLay=n(this._menu).find(".sf-modal-overlay"),this._m_oLay.appendTo(sf.getCurrentPage()),n(this._menu).css({bottom:-n(this._menu).height()+"px"})):n(this._menu).width()>285&&n(this._menu).css({width:n(this._menu).width()+100+"px"}),this.model.renderMode=="windows")if(this.model.windows.menuType=="contextual")n("body").append("<div id='"+this.model.targetId+"_animator' class='sf-m-windows sf-menu-animator'><hr class='sf-lt' /><hr class='sf-rt' /><div class='sf-top'><\/div><div class='sf-bottom'><\/div><\/div>");else{var i=this.model.targetId+"_panel",r=this.model.targetId+"_scroller",u=n(window).height()-n(window).height()*.4,f=n("<div id='"+i+"' data-scrolltype='Vertical' data-role='sf-m-scrollpanel' data-targetid='"+r+"' data-absolute='false' data-targetheight='"+u+"' data-rendermode='windows' class ='sf-m-sp sf-clear-all sf-m-windows'><\/div>");n("#"+this.model.targetId+"_scroller").append(f),sf.evalSfScripts(n(this.element))}this.hideMenu()},_initOverflowMenu:function(){var t=this;window.setTimeout(function(){t.model.renderMode=="android"&&t.model.android.menuType=="optionsmenu"&&(t._deviceHeight=sf.getDimension(n('[data-role="page"]').first(),"height"),t._deviceWidth=sf.getDimension(n('[data-role="page"]').first(),"width"),t.model.itemCount<6&&t._menu.find("li").width(t._deviceWidth/t.model.itemCount-t.model.itemCount-1),t.model.itemCount==4&&t._menu.find("li").width((t._deviceWidth-1)/2),t.model.itemCount>=6&&t._menu.find("li").width((t._deviceWidth-2)/3),t._refreshOverFlowMenu())},500)},_centerMenu:function(){var t=this;window.setTimeout(function(){t._deviceHeight=sf.getDimension(n('[data-role="page"]').first(),"height"),t._deviceWidth=sf.getDimension(n('[data-role="page"]').first(),"width");var i=t._deviceHeight-sf.getDimension(t._menuBar,"height"),r=t._deviceWidth-sf.getDimension(t._menuBar,"width");t._menuBar.css("top",i/2),t._menuBar.css("left",r/2)},500)},_createOverlayDiv:function(){this._overlay=n("<div class ='sf-menuoverlay'><\/div>"),this._setOverlayDimension(),sf.getCurrentPage().append(this._overlay)},_setOverlayDimension:function(){var t=this;window.setTimeout(function(){t._deviceHeight=sf.getDimension(n('[data-role="page"]').first(),"height"),t._deviceWidth=sf.getDimension(n('[data-role="page"]').first(),"width"),t._overlay.height(t._deviceHeight),t._overlay.width(t._deviceWidth)},500)},_menuRefresh:function(){var t=this;window.setTimeout(function(){t._deviceHeight=sf.getDimension(n('[data-role="page"]').first(),"height"),sf.getDimension(t._menuBar,"height")>t._deviceHeight-32?(t._menuBar.height(t._deviceHeight-32),t._scrollWrapper=n("<div class ='sf-m-sp sf-clear-all sf-m-android'><\/div>"),sf.getCurrentPage().append(t._scrollWrapper),t._scrollWrapper.mScrollPanel({ID:"MenuScroll",ScrollType:"Vertical",TargetId:t.model.targetId+"_menuContainer",TargetHeight:t._deviceHeight-32})):(t._menuBar.css("height","auto"),t._scrollWrapper&&t._scrollWrapper.mScrollPanel("destroy"))},500)},_refreshOverFlowMenu:function(){var t=this;window.setTimeout(function(){t._deviceHeight=sf.getDimension(n('[data-role="page"]').first(),"height"),sf.getDimension(t._overFlowMenuBar,"height")>t._deviceHeight-32?(t._overFlowMenuBar.height(t._deviceHeight-32),t._scrollWrapper=n("<div class ='sf-m-sp sf-clear-all sf-m-android'><\/div>"),sf.getCurrentPage().append(t._scrollWrapper),t._scrollWrapper.mScrollPanel({ID:"OverflowMenuScroll",ScrollType:"Vertical",TargetId:t.model.targetId+"_overflowMenuContainer",TargetHeight:t._deviceHeight-32})):(t._overFlowMenuBar.css("height","auto"),t._scrollWrapper&&t._scrollWrapper.mScrollPanel("destroy"))},500)},showMenu:function(t){var r;if(this.model.renderMode=="normal"){var u=n(document).width(),i=/iphone|ipod|android|blackberry|opera|mini|windows\sce|palm|smartphone|iemobile/i.test(navigator.userAgent.toLowerCase()),f=/ipad|xoom|sch-i800|playbook|tablet|kindle/i.test(navigator.userAgent.toLowerCase());i?sf.isPortrait()?(this._menu.removeAttr("style"),this._menu.css("top",n(t.currentTarget).offset().top+n(t.currentTarget)[0].offsetHeight),this._menu.css("width",n(document).width()),this._showMenuAnimation()):(t.pageX/u*100>50?(this._menu.css("right","50%"),this._menu.css("left","0%")):(this._menu.css("left","50%"),this._menu.css("right","0%")),this._menu.css("width","50%"),this._menu.css("height","100%"),this._menu.find(".sf-menu-container").css("height","100%"),this._showMenuAnimation()):(this._menu.css("top",n(t.currentTarget).offset().top+n(t.currentTarget)[0].offsetHeight),this._menu.css("left",n(t.currentTarget).offset().left),this._menu.css("width",sf.getDimension(sf.getCurrentPage().find("#"+this.model.targetId),"width")),this._showMenuAnimation())}else if(this.model.renderMode=="windows"){n(window).unbind("resize");var e=this._browser,o="-"+e+"-transition",i=/iphone|ipod|android|blackberry|opera|mini|windows\sce|palm|smartphone|iemobile/i.test(navigator.userAgent.toLowerCase()),f=/ipad|xoom|sch-i800|playbook|tablet|kindle/i.test(navigator.userAgent.toLowerCase());this.model.windows.menuType=="contextual"?(this._windowsMenuOpen=!0,sf.isMobile()?sf.isPortrait()?this._animateWpContextPortrait(t):this._animateWpContextLandscape(t):this._showDropDown()):(this._windowsMenuOpen=!0,this._ellipsisClicked?(this._ellipsisClicked=!1,this.hideMenu()):(this._ellipsisClicked=!0,i?sf.isPortrait()?this._animateWpOptionsPortrait(t):this._animateWpOptionsLandscape(t):this._animateWpOptionsPortrait(t)))}else this.model.renderMode=="ios"?this.model.ios.menuMode=="animate"||this.model.ios.menuMode=="auto"&&sf.isMobile()?(n(this._menu).css({visibility:"visible"}),this._m_oLay.css("display","block"),n(this._menu).css({bottom:"0px"})):(this._positionMenu(),n("div[data-menumode='normal'].sf-m-ios.sf-menu").css("display","none"),n(this._menu).css({display:"block"})):this.model.renderMode=="android"&&(this.model.android.menuType=="optionsmenu"?parseInt(this._menuBar.css("bottom"))==-1?this.hideMenu():this._showMenu():this.model.android.menuType=="popup"?(this._targetWrapper.length>0&&(r=this._targetWrapper.offset().top-this._menuBar.height(),r>0?this._menuBar.css("top",r):this._menuBar.css("top",this._targetWrapper.offset().top+this._targetWrapper.height())),this._checkVisibility()):(sf.getAndroidVersion()<3&&this._menu.find(".sf-menuitem-container").css("left",(window.innerWidth-this._menu.width())/2),this._checkVisibility()))},_showDropDown:function(){var t=this;setTimeout(function(){t._menu.css({top:n("#"+t.model.targetId).offset().top+n("#"+t.model.targetId).height(),visibility:"visible",left:n("#"+t.model.targetId).offset().left,width:"auto",transition:"height 0s",height:"0px"}),t._menu.css("-"+t._browser+"-transition","height 0.1s ease-in"),t._menu.css("height",t._menu.find("ul").height()+"px")},100)},_applyPadding:function(){var n=this._menu.find(".sf-menu-item.sf-m-windows.sf-_option");n.css("-"+this._browser+"-transition","padding 0s linear").css({"padding-top":"20px","padding-bottom":"20px"})},_animateWpContextLandscape:function(t){var e="-"+this._browser+"-transition",o=n(document).width(),f=n("#"+this.model.targetId+"_animator"),i=f.find(".sf-top"),r=f.find(".sf-bottom"),u;if(t.originalEvent.clientX/o*100>50)this._menu.css({top:"0%",right:"50%",left:""}),i.css({height:"0px",display:"block",bottom:n(window).height()-t.originalEvent.clientY,float:"right",right:"50%",transition:" height 1s"}),setTimeout(function(){i.css({height:"50%"})},100),r.css({top:t.originalEvent.clientY,right:"50%",float:"right",height:"0px",display:"block",transition:" height 1s"}),setTimeout(function(){r.css({height:"100%"})},100),setTimeout(function(){i.css({transition:" height 0s",height:"0px",display:"none"}),r.css({transition:" height 0s",height:"0px",display:"none"})},1e3);else{var f=n("#"+this.model.targetId+"_animator"),i=f.find(".sf-top"),r=f.find(".sf-bottom");this._menu.css({top:"0%",left:"50%",right:"0%"}),i.css({height:"0px",display:"block",bottom:n(window).height()-t.originalEvent.clientY,float:"left",left:"50%",transition:" height 1s"}),setTimeout(function(){i.css({height:"50%"})},100),r.css({top:t.originalEvent.clientY,left:"50%",float:"left",height:"0px",display:"block",transition:" height 1s"}),setTimeout(function(){r.css({height:"100%"})},100),setTimeout(function(){i.css({transition:" height 0s",height:"0px",display:"none"}),r.css({transition:" height 0s",height:"0px",display:"none"})},1e3)}u=this._menu,u.css({transition:"width 0s ease-in-out, height 0s ease-in-out",width:"0px"}),setTimeout(function(){u.css("visibility","visible"),u.css(e,"width 0.5s"),u.css("height","100%"),setTimeout(function(){u.css("width","50%")},"500")},"400")},_animateWpContextPortrait:function(t){var f=this._browser,s="-"+f+"-transition",e=n("#"+this.model.targetId+"_animator"),r=e.find(".sf-rt"),u=e.find(".sf-lt"),i,o;r.css({width:"0px",display:"block",transition:" width 0.3s ease-out",top:t.originalEvent.clientY,left:t.originalEvent.clientX}),setTimeout(function(){r.css({width:"100%"})},100),u.css({top:t.originalEvent.clientY,right:n(window).width()-t.originalEvent.clientX,width:"0px",display:"block",transition:" width 0.3s ease-out"}),setTimeout(function(){u.css({width:"100%"})},100),setTimeout(function(){r.css({transition:" width 0s",display:"none"}),u.css({transition:" width 0s",display:"none"})},1e3),i=this._menu,o=i.height(),setTimeout(function(){i.css({top:t.originalEvent.clientY,visibility:"visible",left:"0px",width:"100%",right:"0px",transition:"height 0s",height:"0px"}),setTimeout(function(){i.css("-"+f+"-transition","height 0.2s ease-in"),i.css("height",o+"px")},200)},400)},_animateWpOptionsPortrait:function(){var t=this._menu,u=this._browser,f=this.model.targetId.replace("_oflow",""),i="-"+u+"-transition",r;this._menu.find("#"+this.model.targetId+"_scroller").css("height","auto"),r=this._menu.find("#"+this.model.targetId+"_scroller").height()>n(window).height()*.75?"60%":this._menu.find("#"+this.model.targetId+"_scroller").height()+"px",this._menu.find("#"+this.model.targetId+"_scroller").css("height",""),this._menu.css(i,"height 0s"),this._menu.css({height:"0px",width:"100%",visibility:"visible"}),this._applyPadding(),setTimeout(function(){t.css(i,"height 0.3s ease"),t.css("height",r),n("#"+f).css("-"+u+"-transition","bottom 0.3s ease"),n("#"+f).css("bottom",r);var e=0;t.find(".sf-menu-item.sf-m-windows.sf-_option").each(function(){e=e+.1,n(this).css(i,"padding 0.5s ease "+e+"s"),n(this).css({"padding-top":"10px","padding-bottom":"10px"})})},100)},_animateWpOptionsLandscape:function(){var f="-"+this._browser+"-transition",t=this._browser,i,r,u;this._menu.css(f,"height 0s"),this._menu.css("height","0px"),i=this.model.targetId.replace("_oflow",""),r=this._menu,this._menu.find("#"+this.model.targetId+"_scroller").css("height","auto"),u=this._menu.find("#"+this.model.targetId+"_scroller").height()>n(window).height()*.75?"60%":this._menu.find("#"+this.model.targetId+"_scroller").height()+"px",this._menu.find("#"+this.model.targetId+"_scroller").css("height",""),this._applyPadding(),setTimeout(function(){var f;r.css({visibility:"visible",transition:"height 0.3s ease",width:"100%",height:u}),n("#"+i).css("-"+t+"-transition","bottom 0.3s ease"),n("#"+i).css("bottom",u),f=r.find(".sf-menu-item.sf-m-windows.sf-_option"),f.css({"padding-top":"10px","padding-bottom":"10px"});var e=0,o=0,s=0;f.each(function(){n(this).css("-"+t+"-transform","translate("+e+"px,0px)");var i=n(this);setTimeout(function(){i.css("-"+t+"-transition","all 0.6s ease-in-out"),i.css("-"+t+"-transform","translate(0px,0px)")},o*s-60),e+=17,o+=7,s++})},100)},_checkVisibility:function(){parseInt(this._menuBar.css("opacity"))==0?this._showMenu():this.hideMenu()},_positionMenu:function(){var t=sf.getCurrentPage().find("#"+this.model.targetId),u=n(this._menu).find(".sf-menu-ptr"),o;if(t.length>0){var r=n(this._menu).width(),s=r/2,f=t.offset().left+t[0].offsetWidth/2,h=t.offset().top+t[0].offsetHeight+10,e=n(window).width(),i=f-s;i=i<0?10:e-i<r?e-r-20:i,n(this._menu).css({left:i+"px",top:h+5+"px"}),o=f-parseFloat(n(this._menu)[0].style.left.replace("px",""))-u.width()/2,n(u).css({"margin-left":o+"px"})}},_changeOrientation:function(){this.model.renderMode=="normal"?this._menu.hide():this.model.renderMode=="ios"&&(this.model.ios.menuMode!="normal"&&(this.model.ios.menuMode!="auto"||sf.isMobile())||this.hideMenu()),this.model.renderMode=="android"&&(this.model.android.menuType=="contextual"?(this._centerMenu(),this._menuRefresh(),this._setOverlayDimension()):this.model.android.menuType=="optionsmenu"?this._initOverflowMenu(500):(this.model.android.menuType=="optionslist"&&sf.getAndroidVersion()<3&&this._menu.find(".sf-menuitem-container").css("left",(window.innerWidth-this._menu.width())/2),this._menuRefresh()))},hideMenu:function(){if(this.model.renderMode=="normal"?this._menu.hide():this.model.renderMode=="ios"&&(this.model.ios.menuMode=="animate"||this.model.ios.menuMode=="auto"&&sf.isMobile()?(this._m_oLay.css("display","none"),n(this._menu).css({bottom:-n(this._menu).height()+"px"})):n(this._menu).css({display:"none"})),this.model.renderMode=="android"&&this.model.android.menuType=="optionsmenu")this._menuBar.css("bottom",-sf.getDimension(this._menuBar,"outerHeight")),this._overFlowMenuBar.css("opacity",0);else if(this.model.renderMode=="android")this._menuBar.css("opacity",0),this._menuBar.css("visibility","hidden"),this.model.android.menuType=="contextual"&&this._overlay.hide();else if(this.model.renderMode=="windows")if(this.model.windows.menuType=="contextual")this._menu.css("visibility","hidden");else{var t=this.model.targetId.replace("_oflow","");this._menu.css("-"+this._browser+"-transition","height 0.3s ease-in-out"),this._menu.css({width:"100%",height:"0px"}),n("#"+t).css("-"+this._browser+"-transition","bottom 0.3s ease-in-out").css("bottom","").css("-"+sf.browser()+"-transition","height 0.3s ease").css("height","").removeClass("sf-toolbar-open")}},_showMenu:function(){this.model.renderMode=="normal"?this._menu.is(":visible")?this._menu.hide():this._menu.show():this.model.renderMode=="ios"&&(this.model.ios.menuMode=="animate"||this.model.ios.menuMode=="auto"&&sf.isMobile()?(n(this._menu).css({visibility:"visible"}),this._m_oLay.css("display","block"),n(this._menu).css({bottom:"0px"})):(this._positionMenu(),n("div[data-menumode='normal'].sf-m-ios.sf-menu").css("display","none"),n(this._menu).css({display:"block"}))),this.model.renderMode=="android"&&this.model.android.menuType=="optionsmenu"&&this._menuBar.css("bottom",-1),this.model.renderMode=="android"&&(this._menuBar.css("opacity",1),this._menuBar.css("visibility","visible"),this.model.android.menuType=="contextual"&&this._overlay.show())},_showMenuAnimation:function(){this._menu.is(":visible")?this._menu.hide():this._menu.show()},_wireEvents:function(){mainContext=this,this._moveEvent=sf.isTouchDevice()?"touchmove":"mousemove",this._onMouseMoveHandler=n.proxy(this._onMouseMoveHandler,this),moveEvent=sf.isTouchDevice()?"touchmove":"mousemove",endEvent=sf.isTouchDevice()?"touchend":"mouseup",startEvent=sf.isTouchDevice()?"touchstart":"mousedown",cancelEvent=sf.isTouchDevice()?"tap":"click",tapEvent=this.model.openMenu=="ontap"?"tap":"taphold",sf.bindTouchEvent(n(this.element).find("li"),startEvent,n.proxy(this._onMouseDownHandler,this)),sf.bindTouchEvent(n(this.element).find("li"),endEvent,n.proxy(this._onMouseUpHandler,this)),sf.getCurrentPage().find("#"+this.model.targetId).bind(tapEvent,n.proxy(this.showMenu,this)),window.addEventListener("orientationchange",n.proxy(this._changeOrientation,this),!1),n(document).delegate("div[data-role='page']","pageshow",n.proxy(this._removeLink,this)),this.model.ios.menuMode!="normal"&&(this.model.ios.menuMode!="auto"||sf.isMobile())&&this.model.renderMode!="android"||n(document).bind(cancelEvent,n.proxy(this._docClick,this)),this.model.renderMode=="windows"&&this.model.windows.menuType=="contextual"&&n(this.model.targetId).length>0&&(n(this.model.targetId)[0].addEventListener("MSGestureHold",function(n){n.preventDefault()},!1),n(this.model.targetId)[0].addEventListener("contextmenu",function(n){n.preventDefault()},!1)),this.model.renderMode=="android"&&this.model.android.menuType=="optionsmenu"?(sf.bindTouchEvent(sf.getCurrentPage().find("#"+this.model.targetId+"_menu li"),startEvent,n.proxy(this._onMouseDownHandler,this)),sf.bindTouchEvent(sf.getCurrentPage().find("#"+this.model.targetId+"_menu li"),endEvent,n.proxy(this._onMouseUpHandler,this))):this.model.renderMode=="ios"&&(sf.isTouchDevice()?(n(window).bind("orientationchange",n.proxy(this._changeOrientation,this)),sf.getCurrentPage().find("#"+this.model.targetId).bind(tapEvent,n.proxy(this.showMenu,this))):sf.getCurrentPage().find("#"+this.model.targetId).bind(endEvent,n.proxy(this.showMenu,this)))},_showOverFlowMenu:function(){this._menuBar.css("bottom",-sf.getDimension(this._menuBar,"outerHeight")),this._overFlowMenuBar.css("opacity",1)},_docClick:function(n){n.currentTarget.id==this.model.targetId||n.target.id==this.model.targetId||sf.getCurrentPage().find("#"+this.model.targetId).find("*").filter(n.target).length>0||this.model.android.menuType=="optionsmenu"&&sf.getCurrentPage().find("#"+this.model.targetId+"_overflowMenuContainer").find("*").index(n.target)>0||sf.getCurrentPage().find("#"+this.model.id).find("*").index(n.target)>0||sf.getCurrentPage().find("#"+this.model.targetId).find("*").index(n.target)>0&&this.model.android.menuType=="contextual"||(this.model.renderMode=="windows"&&this.model.windows.menuType=="optionsmenu"?(this._windowsMenuOpen||n.currentTarget.id!=this.model.targetId&&(this._moved||n.target.id==this.model.targetId?this._moved=!1:(this._ellipsisClicked=!1,this.hideMenu())),this._windowsMenuOpen=!1):this.model.renderMode=="windows"&&this.model.windows.menuType=="contextual"?this._windowsMenuOpen&&n.currentTarget.id!=this.model.targetId&&(this._windowsMenuOpen=!1,this.hideMenu()):this.hideMenu())},_removeLink:function(){n(this.element).find(".sf-menuitem-anchor").removeClass("ui-link")},_unWireEvents:function(){this._menu.unbind("click",this._ClickHanlder),this._menu.find("li").unbind("mouseover",this._menuHoverHanlder).unbind("mouseout",this._mouseOutHanlder).unbind("mousedown",this._mouseDownHanlder).unbind("mouseup",this._mouseUpHanlder)},_loadSubMenu:function(t,i){var o=n(this._menu.find("ul:first")),r=n(i).children("div")[0],u,e,f;r!=null&&(u=n(i).parents("ul"),n(u[u.length-1]).parent().css("left",-(u.length*this._menuWidth)+"px"),e=n(i).parents("ul:first"),n(r).css("position","absolute"),n(r).css("left",this._menuWidth+"px").css("top","0px"),n(r).show("default",null,500,this._callback),this._menu.find("div").hasClass("active-menu")&&this._menu.find("div").removeClass("active-menu"),n(r).addClass("active-menu")),f={element:i,value:n(i).attr("id"),text:n(i).text()},this.model.onClick&&this._trigger("onClick",f)},_onBackButtonClick:function(){var r=n(this._menu.find("ul:first")),t=n(this._menu.find("div.active-menu")),i=n(n(t).parents("ul")[0]).parent(),u;this._getActiveMenuIndex()>0&&(n(t).removeClass("active-menu"),n(i).addClass("active-menu"),n(t).hide("fast"),u=n(r).parent()[0].offsetLeft,n(r).parent().css("left",u+this._menuWidth+"px"),n(i).css("display","none"),n(i).show("default",null,500,this._callback))},_callback:function(){this._isActiveMenu=!1,setTimeout(function(){this._isActiveMenu=!1},500),this._isActiveMenu=!0},_getActiveMenuIndex:function(){var t=n(this._menu.find("div.active-menu")),i=n(t).children("ul")[0];return this._menu.find("ul").index(i)},_onMouseDownHandler:function(t){var i=t.currentTarget,r;this._moved=!1,this.model.renderMode=="windows"&&this.model.windows.menuType=="optionsmenu"&&sf.bindTouchEvent(document,this._moveEvent,this._onMouseMoveHandler),n(i).hasClass("sf-state-active")||(this.model.renderMode!="ios"&&n(i).addClass("sf-state-active"),r={element:n(i),value:n(i).attr("id"),text:n(i).text()},this.model.onMouseDown&&this._trigger("onMouseDown",r),this.model.onTouchStart=sf.getAttrVal(n(t.target).closest("li"),"data-ontouchstart"),this.model.onTouchStart&&this._trigger("onTouchStart",r)),n(i).hasClass("sf-state-hover")&&n(i).removeClass("sf-state-hover")},_onMouseMoveHandler:function(t){var i=t.currentTarget;n(i).find(".sf-menu-item").hasClass("sf-state-active")&&n(i).find(".sf-menu-item").removeClass("sf-state-active"),this._moved=!0},_onMouseUpHandler:function(t){var r,i;sf.unBindTouchEvent(document,this._moveEvent,this._onMouseMoveHandler),r=t.currentTarget,this.model.renderMode=="android"&&this.model.android.menuType=="optionsmenu"&&this._menu.find("li").index(n(t.currentTarget))==4&&this._showOverFlowMenu(),n(r).hasClass("sf-state-active")&&n(r).removeClass("sf-state-active"),i={element:n(r),value:n(r).attr("id"),text:n(r).text()},this.model.renderMode=="windows"?this._moved&&(sf.isMobile()||!sf.isWindowsPhone())||(this.model.onMouseUp&&this._trigger("onMouseUp",i),this.model.onTouchStart=sf.getAttrVal(n(t.target).closest("li"),"data-ontouchstart"),this.model.onTouchStart&&this._trigger("onTouchStart",i),this.model.onTouchEnd=sf.getAttrVal(n(t.target).closest("li"),"data-ontouchend"),this.model.onTouchEnd&&this._trigger("onTouchEnd",i),this.hideMenu(),this._moved=!1):(this.model.onMouseUp&&this._trigger("onMouseUp",i),this.model.onClick&&this._trigger("onClick",i),this.model.onTouchStart=sf.getAttrVal(n(t.target).closest("li"),"data-ontouchstart"),this.model.onTouchStart&&this._trigger("onTouchStart",i),this.model.onTouchEnd=sf.getAttrVal(n(t.target).closest("li"),"data-ontouchend"),this.model.onTouchEnd&&this._trigger("onTouchEnd",i))},_setMenuPosition:function(){this.model.showAt!=null&&(this._menu.parents("form").length>0?this._menu.appendTo(this._menu.parents("form")):this._menu.appendTo(n(document.body)),this._menu.css("position","absolute"),this._menu.css("left",this.model.showAt.X+"px"),this._menu.css("top",this.model.showAt.Y+"px"))},_clearCss:function(){this._menu.find(".sf-state-hover")&&this._menu.find(".sf-state-hover").removeClass("sf-state-hover"),this._menu.find(".sf-state-active")&&this._menu.find(".sf-state-active").removeClass("sf-state-active")},disable:function(){this._menu.attr("disabled","disabled"),this._menu.find(".sf-menu-container").hasClass("sf-state-disabled")||this._menu.find(".sf-menu-container").addClass("sf-state-disabled"),this._unWireEvents()},enable:function(){this._menu.removeAttr("disabled"),this._menu.find(".sf-menu-container").hasClass("sf-state-disabled")&&this._menu.find(".sf-menu-container").removeClass("sf-state-disabled"),this._wireEvents()},_isOpen:function(){return this._menu.css("display")=="none"||this._menu.css("opacity")==0?!1:!0},_setModel:function(n){var i=!1,t;for(t in n)(t=="renderMode"||t=="openMenu"||t=="ios"||t=="android"||t=="windows")&&(i=!0);i&&this._refresh(),this._trigger("modelChange",{changes:n})},_refresh:function(){this._destroy(),this.element.addClass("m-menu"),this._renderControl(),this._menuInit(),this._wireEvents()},_clearElement:function(){this.element.removeAttr("class"),this.element.html(this._orgEle.html())},_destroy:function(){this._unWireEvents(),this._clearElement()}}),m.Menu.openMenu={OnTap:"ontap",OnTapHold:"ontaphold"},m.Menu.ios={menuMode:{Auto:"auto",Normal:"normal",Animate:"animate"}},m.Menu.android={menuType:{PopUp:"popup",OptionsList:"optionslist",OptionsMenu:"optionsmenu",Contextual:"contextual"}},m.Menu.windows={menuType:{OptionsMenu:"optionsmenu",Contextual:"contextual"}}}(jQuery,Syncfusion),function(n,t,i){t.widget("mNumeric","m.Numeric",{_setFirst:!0,defaults:{autoFormat:"darknight",renderMode:"auto",renderingEngine:"client",showSpinButton:!0,decimal:0,strictMode:!1,mobStyle:"normal",position:"vertical",incrementStep:1,value:"0",error:!1,localize:"en-US",android:{theme:"dark"}},dataTypes:{showSpinButton:"boolean",strictMode:"boolean",android:{theme:"enum"},renderMode:"enum"},_init:function(){this._setValues(),this.model.renderingEngine=="client"&&this._renderControl(),this._wireEvents()},_setValues:function(){var t,i;this.model.id=n(this.element).attr("id"),t=Globalize.parseFloat(sf.getAttrVal(this.element,"data-maxval","1.7976931348623157e+308")),this.model.maxValue=Number(t)!=Infinity?Number(t):17976931348623157e292,t=Globalize.parseFloat(sf.getAttrVal(this.element,"data-minval","-1.7976931348623157e+308")),this.model.minValue=Number(t)!=-Infinity?Number(t):-17976931348623157e292,this.model.incrementStep=parseInt(sf.getAttrVal(this.element,"data-incrementstep",this.model.incrementStep)),this.model.renderMode=sf.getAttrVal(this.element,"data-renderMode",this.model.renderMode),this.model.renderMode=="auto"&&sf.setRenderMode(this),this.model.showSpinButton=sf.getBooleanVal(this.element,"data-showspinbtn",this.model.showSpinButton),this.model.decimals=parseFloat(sf.getAttrVal(this.element,"data-decimals",this.model.decimals)),this.model.waterMarkText=sf.getAttrVal(this.element,"data-watermarktxt",this.model.waterMarkText),this.model.position=sf.getAttrVal(this.element,"data-position",this.model.position),this.model.mobStyle=sf.getAttrVal(this.element,"data-mobstyle",this.model.mobStyle),this.model.width=parseInt(sf.getAttrVal(this.element,"data-width",this.model.width)),this.model.localize=sf.getAttrVal(this.element,"data-localize",this.model.localize),this.model.resetMinValue=parseInt(sf.getAttrVal(this.element,"data-resetminval",this.model.resetMinValue)),this.model.resetMaxValue=parseInt(sf.getAttrVal(this.element,"data-resetmaxval",this.model.resetMaxValue)),this.model.error=sf.getBooleanVal(this.element,"data-error",this.model.error),this.model.strictMode=sf.getBooleanVal(this.element,"data-strictmode",this.model.strictMode),this.model.value=Number(sf.getAttrVal(this.element,"data-val",this.model.value))>this.model.minValue?sf.getAttrVal(this.element,"data-val",this.model.value):this.model.minValue,this.model.android.theme=sf.getAttrVal(this.element,"data-android-theme",this.model.android.theme),this.model.value==""&&(this.model.value=null),this.model.clientSideFocusIn=sf.getAttrVal(this.element,"data-focusin"),this.model.clientSideFocusOut=sf.getAttrVal(this.element,"data-focusout"),this.model.clientSideValueChange=sf.getAttrVal(this.element,"data-valchange"),this._numeric=n(this.element).find("#"+this.model.ID),this._width=this.model.width,this._minValue=this.model.minValue,this._maxValue=this.model.maxValue,this._localize=this.model.localize,this._value=this.model.value,this._pos=this.model.position,this._style=this.model.mobStyle,this._waterMarkText=this.model.waterMarkText,this._showSpinButton=this.model.showSpinButton,this._pos=="horizontal"?(this._btnClass2="left",this._btnClass1="right",this._btnID2="left",this._btnID1="right"):(this._btnClass1="up",this._btnClass2="down",this._btnID1="up",this._btnID2="down"),this.model.renderMode=="normal"&&(this._showSpinButton&&(this._spinButtonUp=n(this.element).find("#"+this.model.id+"_btnsplit"+this._btnID1),this._spinButtonDown=n(this.element).find("#"+this.model.id+"_btnsplit"+this._btnID2)),this.model.mobStyle=="OnDemand"&&(this._spinButtonUp.css("visibility","hidden"),this._spinButtonDown.css("visibility","hidden"))),this._textBox=n(this.element),this._inputTextBox=n(this.element)[0],this._decimals=this.model.decimals,this._incrementStep=this.model.incrementStep,this._error=this.model.error,this._strictMode=this.model.strictMode,this._keypressFlag=!0,this._defaultValue=0,this._resetMinValue=this.model.resetMinValue,this._resetMaxValue=this.model.resetMaxValue,this._isInitialRendered=!0,this._defaultMinValue=-17976931348623157e292,this.model.renderMode=="normal"&&(!this.model.width||sf.isMobile()||sf.isTablet()?this._textBox.width("89%"):this._textBox.width(this.model.width),this.model.position!="vertical"&&(this.model.position!="horizontal"||sf.isMobile()||sf.isTablet())||this._textBox.height("95%"),(this.model.position=="horizontal"&&sf.isMobile()||sf.isTablet())&&this._textBox.height("81%")),i=n(this.element),i.attr("data-role","none"),n(document).bind("pageinit",function(){i.attr("data-role","sf-m-numeric")}),n(this._numeric).css({"z-index":this._maxzindex()+1}),this._minValue>0?this._defaultValue=this._minValue:this._maxValue<0&&(this._defaultValue=this._maxValue),this._localizedFormat(),this._error==!1?this._value==null&&this._waterMarkText!=""&&this._setWaterMark():(n(this._textBox).removeClass("sfinputtext"),n(this._textBox).addClass("error"))},_renderControl:function(){var u=document.createElement("div"),f,t,i,r;n(u).attr("id",this.model.id+"_wrapper"),n(u).addClass("sfnumeric"),n(this.element).addClass("sfinputtext sf-font sf-border sf-m-"+this.model.renderMode+" sf-numeric"),n(this.element).after(u),f=document.createElement("div"),n(f).attr("id",this.model.id+"_numerictextboxbase"),n(f).addClass("sf-m-textboxbase"),n(f).append(this.element),n(u).append(f),this.model.showSpinButton&&(t=document.createElement("div"),this.model.renderMode=="android"&&n(t).addClass("sf-android-"+this.model.android.theme),n(t).addClass("sf-spinner sf-m-"+this.model.renderMode),i=document.createElement("div"),n(i).attr("id",this.model.id+"-spinner-left"),n(i).addClass("sf-spinner-left sf-m-"+this.model.renderMode+" sf-state-default"),r=document.createElement("div"),n(r).attr("id",this.model.id+"-spinner-right"),n(r).addClass("sf-spinner-right sf-m-"+this.model.renderMode+" sf-state-default"),this.model.renderMode=="android"&&(n(i).addClass("sf-android-"+this.model.android.theme),n(r).addClass("sf-android-"+this.model.android.theme)),n(t).append(i),n(t).append(r),n(u).append(t)),this._textBox=n(this.element),this._inputTextBox=this.element[0],this.model.showSpinButton&&(this._spinButtonUp=n(r),this._spinButtonDown=n(i))},_wireEvents:function(){startEvent=sf.isTouchDevice()?"touchstart":"mousedown",moveEvent=sf.isTouchDevice()?"touchmove":"mousemove",endEvent=sf.isTouchDevice()?"touchend":"mouseup",this._spinUpUpHanlder=n.proxy(this._onSpinUpClick,this),this._spinUpDownHanlder=n.proxy(this._onSpinUpClick,this),this._spinDownUpHanlder=n.proxy(this._onSpinDownClick,this),this._spinDownDownHanlder=n.proxy(this._onSpinDownClick,this),sf.isTouchDevice()?(this.model.showSpinButton&&(sf.bindTouchEvent(this._spinButtonUp,startEvent,this._spinUpDownHanlder),sf.bindTouchEvent(this._spinButtonUp,endEvent,this._spinUpUpHanlder),sf.bindTouchEvent(this._spinButtonDown,startEvent,this._spinDownDownHanlder),sf.bindTouchEvent(this._spinButtonDown,endEvent,this._spinDownUpHanlder)),sf.bindTouchEvent(this._textBox,"focus",n.proxy(this._focusIn,this)),sf.bindTouchEvent(this._textBox,"blur",n.proxy(this._focusOut,this)),sf.bindTouchEvent(this._textBox,"keydown",n.proxy(this._keyDown,this)),sf.browserDetect.opera&&sf.bindTouchEvent(this._textBox,"keypress",n.proxy(this._keyPress,this)),sf.bindTouchEvent(this._textBox,"mousewheel",n.proxy(this._mouseWheel,this)),sf.bindTouchEvent(this._textBox,"DOMMouseScroll",n.proxy(this._mouseWheel,this))):(this.model.showSpinButton&&(this._spinButtonUp.bind(startEvent,this._spinUpDownHanlder),this._spinButtonUp.bind(endEvent,this._spinUpUpHanlder),this._spinButtonDown.bind(startEvent,this._spinDownDownHanlder),this._spinButtonDown.bind(endEvent,this._spinDownUpHanlder)),this._textBox.bind("focus",n.proxy(this._focusIn,this)),this._textBox.bind("blur",n.proxy(this._focusOut,this)),this._textBox.bind("keydown",n.proxy(this._keyDown,this)),this._textBox.bind("mousewheel",n.proxy(this._mouseWheel,this)),this._textBox.bind("DOMMouseScroll",n.proxy(this._mouseWheel,this)),sf.browser=="o"&&this._textBox.bind("keypress",n.proxy(this._keyPress,this)))},_unWireEvents:function(){this._numeric.unbind(startEvent,this._spinUpDownHanlder),this._numeric.unbind(endEvent,this._spinUpUpHanlder),this._numeric.unbind(startEvent,this._spinDownDownHanlder),this._numeric.unbind(endEvent,this._spinDownUpHanlder)},_localizedFormat:function(){this._inputTextBox.value=Globalize.format(parseFloat(this._value),"n"+this._decimals,this._localize)},_mouseWheel:function(n){var t=0;n||(n=window.event),n.wheelDelta?t=n.wheelDelta/60:n.detail&&(t=-n.detail/2),t>0?this._incrementValue(n):t<0&&this._decrementValue(n),this._cancelEvent(n)},_onSpinUpClick:function(t){t.preventDefault();var i=this;t.type=="mouseup"||t.type=="touchend"?(clearTimeout(this._timeout),this.model.showSpinButton&&n(this._spinButtonUp).removeClass("sf-state-active").addClass("sf-state-default"),this._inputTextBox.value==this._waterMarkText?(this._inputTextBox.value="",this._incrementValue(t)):this._incrementValue(t)):(t.type=="mousedown"||t.type=="touchstart")&&(this.model.showSpinButton&&n(this._spinButtonUp).removeClass("sf-state-default").addClass("sf-state-active"),this._timeout=setInterval(function(){i._incrementValue(t)},150))},_onSpinDownClick:function(t){t.preventDefault();var i=this;t.type=="mouseup"||t.type=="touchend"?(clearTimeout(this._timeout),n(this._spinButtonDown).addClass("sf-state-default").removeClass("sf-state-active"),this._inputTextBox.value==this._waterMarkText?(this._inputTextBox.value="",this._decrementValue(t)):this._decrementValue(t)):(t.type=="mousedown"||t.type=="touchstart")&&(n(this._spinButtonDown).removeClass("sf-state-default").addClass("sf-state-active"),this._timeout=setInterval(function(){i._decrementValue(t)},150))},_incrementValue:function(){this._errorClass(!1),this._inputTextBox.value!=this._waterMarkText||this._inputTextBox.value==""?(this._value=this._inputTextBox.value==""&&this._minValue==this._defaultMinValue?0:this._minValue!=this._defaultMinValue&&this._inputTextBox.value==""?this._minValue:Globalize.parseFloat(this._inputTextBox.value,this._localize),this._value<this._maxValue?(this._value=this._value+this._incrementStep,this._value<=this._maxValue&&this._value>=this._minValue?(this.setValue(this._value),this._wipeWaterMark(this._value)):this._strictMode==!0?(this.setValue(this._resetMinValue),this._wipeWaterMark(this._value)):this._errorClass(!0)):this._value>this._maxValue&&(this._strictMode==!0?(this.setValue(this._resetMaxValue),this._wipeWaterMark(this._value)):this._errorClass(!0))):(this._wipeWaterMark(this._resetMinValue),this._inputTextBox.focus())},_decrementValue:function(){this._errorClass(!1),this._inputTextBox.value!=this._waterMarkText||this._inputTextBox.value==""?(this._value=this._inputTextBox.value==""?0:Globalize.parseFloat(this._inputTextBox.value,this._localize),this._value>this._minValue?(this._value=this._value-this._incrementStep,this._value>=this._minValue&&this._value<=this._maxValue?(this.setValue(this._value),this._wipeWaterMark(this._value)):this._strictMode==!0?(this.setValue(this._defaultValue),this._wipeWaterMark(this._value)):this._errorClass(!0)):this._value<this._minValue&&(this._strictMode==!0?(this.setValue(this._defaultValue),this._wipeWaterMark(this._value)):this._errorClass(!0))):(this._wipeWaterMark(this._resetMinValue),this._inputTextBox.focus())},_setWaterMark:function(){n(this._textBox).addClass("sf-watermark-text"),this._inputTextBox.value=this._waterMarkText},_wipeWaterMark:function(){n(this._textBox).addClass("sfinputtext"),n(this._textBox).removeClass("sf-watermark-text")},_keyPress:function(n){if(!this._keypressFlag)return this._keypressFlag=!0,this._cancelEvent(n),!1},_keyDown:function(n){var e;if(n.keyCode>=48&&n.keyCode<=57||n.keyCode>=96&&n.keyCode<=105||this._allowKeyCodes(n)){if((n.shiftKey==!0||n.ctrlKey==!0)&&n.keyCode!=9)return this._keypressFlag=!1,this._cancelEvent(n),!1;if(n.keyCode>=48&&n.keyCode<=57||n.keyCode>=96&&n.keyCode<=105){var u=this._caretPosition(),t=this._inputTextBox.value.substring(0,u),r=this._inputTextBox.value.substring(u),f=this._getSelection(this._inputTextBox.value);n.keyCode>=96&&n.keyCode<=105&&(n.keyCode-=48),this._value=f.length==0?parseFloat(t+String.fromCharCode(n.keyCode)+r):parseFloat(t.substring(0,t.length-f.length)+String.fromCharCode(n.keyCode)+r),this._wipeWaterMark(this._value),this.model.clientSideValueChange&&this._trigger("clientSideValueChange",this._value)}if(n.keyCode==38&&this._incrementValue(n),n.keyCode==40&&this._decrementValue(n),n.keyCode==8){var u=this._caretPosition(),t=this._inputTextBox.value.substring(0,u),r=this._inputTextBox.value.substring(u),f=this._getSelection(this._inputTextBox.value);this._value=f.length==0?t.substring(0,t.length-1)+r:t.substring(0,t.length-f.length)+r,this.model.clientSideValueChange&&this._trigger("clientSideValueChange",this._value)}if(n.keyCode==46||n.keyCode==127){var u=this._caretPosition(),t=this._inputTextBox.value.substring(0,u),r=this._inputTextBox.value.substring(u),f=this._getSelection(this._inputTextBox.value);this._value=f.length==0?t+r.substring(1,r.length):t.substring(0,t.length-f.length)+r.substring(0,r.length),this.model.clientSideValueChange&&this._trigger("clientSideValueChange",this._value)}if(n.keyCode==190&&this._decimals!=0||n.keyCode==110&&this._decimals!=0){if(e=this._inputTextBox.value.split("."),e[1]==i){var o=this._caretPosition(),s=e[0].substring(0,o),h=e[0].substring(o);this._value=s+"."+h,this._setSelectionRange(this._value.length,this._value.length),this._inputTextBox.value=this._value}else this._value=this._inputTextBox.value;this.model.clientSideValueChange&&this._trigger("clientSideValueChange",this._value),this._cancelEvent(n)}else(n.keyCode==190||n.keyCode==110)&&this._cancelEvent(n);(n.keyCode==109||n.keyCode==189)&&(this._caretPosition()!=0&&this._getSelection()!=this._value||this._minValue>=0)&&this._cancelEvent(n)}else this._keypressFlag=!1,this._cancelEvent(n)},_cancelEvent:function(n){return n.cancelBubble=!0,n.returnValue=!1,n.stopPropagation(),n.preventDefault(),!1},getValue:function(){return this._inputTextBox.value},setValue:function(n){var t=this._inputTextBox.value;this._value=n,n!=null&&(this._inputTextBox.value!=this._waterMarkText||this._inputTextBox.value=="")?this._localizedFormat():this._setWaterMark(),this._inputTextBox.value!=this._waterMarkText&&this.model.clientSideValueChange&&this._trigger("clientSideValueChange",this._localizedFormat())},_focusIn:function(){this.model.renderMode=="normal"&&this.model.showSpinButton&&this._style=="OnDemand"&&(this._spinButtonUp.css("visibility","visible"),this._spinButtonDown.css("visibility","visible"),this._pos=="horizontal"?(this._spinButtonDown.css("left",parseInt(this._textBox.position().left)-52+"px"),this._spinButtonUp.css("left",parseInt(this._textBox.position().left)+parseInt(this._width)+"px")):(this._spinButtonUp.css("top",parseInt(this._textBox.position().top)-40+"px"),this._spinButtonDown.css("top",parseInt(this._textBox.position().top)+42+"px"))),this._strictMode==!1&&this._errorClass(!1),(this._inputTextBox.value==this._waterMarkText||this._inputTextBox.value.indexOf("N")>-1)&&(this._inputTextBox.value=""),this._error==!1&&(this._inputTextBox.value!=this._waterMarkText&&(this._value=this._inputTextBox.value==""?0:this._inputTextBox.value),this._setSelectionRange(0,this._inputTextBox.value.length))},_focusOut:function(){this.model.renderMode=="normal"&&this.model.showSpinButton&&this._style=="OnDemand"&&(this._spinButtonUp.css("visibility","hidden"),this._spinButtonDown.css("visibility","hidden")),this._error==!1&&(this._inputTextBox.value<this._minValue?this._strictMode==!0?this._inputTextBox.value=this._resetMinValue.toFixed(0):this._inputTextBox.value!=""&&this._errorClass(!0):this._inputTextBox.value>this._maxValue&&(this._strictMode==!0?this._inputTextBox.value=this._resetMaxValue.toFixed(0):this._errorClass(!0)),this._inputTextBox.value!="NaN"?this._localizedFormat():this._inputTextBox.value==""&&this._waterMarkText==""?this._inputTextBox.value=this._resetMinValue.toFixed(this._decimals):this._inputTextBox.value==""&&this._waterMarkText!=""?this._setWaterMark():this._inputTextBox.value==this._minValue&&this._waterMarkText!=""&&this._setWaterMark(),this._inputTextBox.value!=""&&(this._value=this._inputTextBox.value==this._waterMarkText?0:this._inputTextBox.value))},_getSelection:function(n){var t=null;return document.selection?(t=document.selection.createRange(),t.text):n.substring(this._inputTextBox.selectionStart,this._inputTextBox.selectionEnd)},_setSelectionRange:function(n,t){var i=this._inputTextBox,r;i.setSelectionRange?(i.focus(),i.setSelectionRange(n,t)):i.createTextRange&&(r=i.createTextRange(),r.collapse(!0),r.moveEnd("character",t),r.moveStart("character",n),r.select())},_caretPosition:function(){var n=this._inputTextBox,t=0,i;return document.selection?(n.focus(),i=document.selection.createRange(),i.moveStart("character",-n.value.length),t=i.text.length):(n.selectionStart||n.selectionStart=="0")&&(t=n.selectionEnd),t},_errorClass:function(t){t?(n(this._textBox).removeClass("sfinputtext"),n(this._textBox).addClass("error")):(n(this._textBox).removeClass("error"),n(this._textBox).addClass("sfinputtext"))},_allowKeyCodes:function(n){for(var i=[38,40,35,36,109,189,46,8,127,37,39,190,9,13,16,17,18,20,110],t=0,t=0;t<19;t++)if(n.keyCode==i[t])return!0;return!1},_maxzindex:function(){var t=1;return t=Math.max.apply(null,n.map(n("body *"),function(t){if(n(t).css("position")=="absolute")return parseInt(n(t).css("z-index"))||1})),(t==i||t==null)&&(t=1),t},_hideSpinner:function(){this.model.showSpinButton?this._spinButtonUp.parent().css("display",""):this._spinButtonUp.parent().css("display","none")},_setModel:function(n){var i=!1,t;for(t in n)t=="showSpinButton"?this._hideSpinner():(t=="renderMode"||t=="android")&&(i=!0);i&&this._refresh(),this._trigger("modelChange",{changes:n})},_refresh:function(){this._destroy(),this.element.addClass("m-numeric"),this._renderControl(),this._wireEvents()},_clearElement:function(){var t=n("#"+this.model.id+"_wrapper");this.element.insertAfter(t),t.remove(),this.element.removeAttr("class")},_destroy:function(){this._unWireEvents(),this._clearElement()}})}(jQuery,Syncfusion),function(n,t){t.widget("mPassword","m.Password",{_setFirst:!0,defaults:{autoFormat:"darknight",renderMode:"auto",renderingEngine:"client",android:{theme:"dark"},windows:{showPassword:!0}},dataTypes:{android:{theme:"enum"},windows:{showPassword:"boolean"},renderMode:"enum"},_init:function(){this._setValues(),this.model.renderingEngine=="client"&&this._renderControl(),this._wireEvents()},_setValues:function(){this.model.renderMode=sf.getAttrVal(this.element,"data-rendermode",this.model.renderMode),this.model.renderMode=="auto"&&sf.setRenderMode(this),this.model.id=n(this.element).attr("id"),this._textBox=n(this.element),this.model.type="password",this.model.currentType=this.model.type,this.model.autoFormat=sf.getAttrVal(this.element,"data-autoformat",this.model.autoFormat),this.model.android.theme=sf.getAttrVal(this.element,"data-android-theme",this.model.android.theme),this.model.windows.showPassword=sf.getBooleanVal(this.element,"data-showpassword",this.model.windows.showPassword),this._clearClicked=!1,n(this.element).attr("data-role","none");var t=n(this.element);n(document).bind("pageinit",function(){t.attr("data-role","sf-m-password")})},_renderControl:function(){var t=document.createElement("div"),r,i;n(t).attr("id",this.model.id+"_input").addClass("sf-m-"+this.model.renderMode+" sf-m-password"),n(this.element).after(t),document.getElementById(this.model.id).type=this.model.type,n(t).append(this.element),n(this.element).attr("name",this.model.id),n(this.element).addClass("sf-m-input sf-input-focusout"),this._textBox[0].style.width==""&&this._setWidth(),n(t).width(this._textBox[0].style.width),this._setWidth(),this.model.renderMode!="android"&&this.model.renderMode!="windows"?n(this.element).addClass("sf-corner-all"):this.model.renderMode=="android"&&(n(t).addClass("sf-m-"+this.model.android.theme),r=document.createElement("span"),n(r).addClass("sf-passwordspan"),n(t).append(r)),this.model.renderMode=="normal"&&n(t).addClass("sf-m-"+this.model.autoFormat),this.model.renderMode=="windows"&&this.model.type=="password"&&this.model.windows.showPassword&&(i=document.createElement("div"),n(i).attr("id",this.model.id+"_clearbtn"),n(i).addClass("sf-windows-pass"),n(t).append(i),this._clearBtn=i,n(this._clearBtn).css("display","none"))},_setWidth:function(){this._textBox.width("100%")},_wireEvents:function(){var i,t;this._focusInDelegate=n.proxy(this._focusInHandler,this),this._focusOutDelegate=n.proxy(this._focusOutHandler,this),sf.isTouchDevice()?(sf.bindTouchEvent(this._textBox,"focusin",this._focusInDelegate),sf.bindTouchEvent(this._textBox,"focusout",this._focusOutDelegate)):(this._textBox.bind("focusin",this._focusInDelegate),this._textBox.bind("focusout",this._focusOutDelegate)),this.model.renderMode=="windows"&&this.model.windows.showPassword&&(this._textBox.bind("keyup",n.proxy(this._showClear,this)),i=sf.isTouchDevice()?"touchend":"mouseup",this._textBox.bind(i,n.proxy(this._focus,this)),t=sf.isTouchDevice()?"touchstart":"mousedown",sf.isTouchDevice()?sf.bindTouchEvent(this._clearBtn,t,n.proxy(this._clearText,this)):n(this._clearBtn).bind(t,n.proxy(this._clearText,this)))},_unWireEvents:function(){var i,t;this._focusInDelegate=n.proxy(this._focusInHandler,this),this._focusOutDelegate=n.proxy(this._focusOutHandler,this),sf.isTouchDevice()?(sf.unBindTouchEvent(this._textBox,"focusin",this._focusInDelegate),sf.unBindTouchEvent(this._textBox,"focusout",this._focusOutDelegate)):(this._textBox.unbind("focusin",this._focusInDelegate),this._textBox.unbind("focusout",this._focusOutDelegate)),this.model.renderMode=="windows"&&this.model.windows.showPassword&&(this._textBox.unbind("keyup",n.proxy(this._showClear,this)),i=sf.isTouchDevice()?"touchend":"mouseup",this._textBox.unbind(i,n.proxy(this._focus,this)),t=sf.isTouchDevice()?"touchstart":"mousedown",sf.isTouchDevice()?sf.unBindTouchEvent(this._clearBtn,t,n.proxy(this._clearText,this)):n(this._clearBtn).unbind(t,n.proxy(this._clearText,this)))},_focus:function(){this._clearClicked&&this._textBox.focus(),this._clearClicked=!1},_clearText:function(n){this.model.type=="password"&&(this.model.currentType=="password"?(this.model.currentType="text",document.getElementById(this.model.id).type="text"):(this.model.currentType="password",document.getElementById(this.model.id).type="password")),this._clearClicked=!0,n.preventDefault()},_showClear:function(){this._textBox.attr("value")!=""?n(this._clearBtn).css("display","inline-block"):n(this._clearBtn).css("display","none")},_focusInHandler:function(){this._textBox.removeClass("sf-input-focusout").addClass("sf-input-focusin"),n(this.element).parent().find(".sf-passwordspan").addClass("sf-active"),this.model.renderMode=="windows"&&this.model.windows.showPassword&&this._showClear()},_focusOutHandler:function(){this._textBox.removeClass("sf-input-focusin").addClass("sf-input-focusout"),n(this.element).parent().find(".sf-passwordspan").removeClass("sf-active"),this.model.renderMode=="windows"&&this.model.windows.showPassword&&n(this._clearBtn).css("display","none")},_setModel:function(n){var i=!1,t;for(t in n)(t=="renderMode"||t=="windows")&&(i=!0);i&&this._refresh(),this._trigger("modelChange",{changes:n})},_refresh:function(){this._destroy(),this.element.addClass("m-password"),this._renderControl(),this._wireEvents()},_clearElement:function(){var t=n("#"+this.model.id+"_input");this.element.insertAfter(t),t.remove(),this.element.removeAttr("class")},_destroy:function(){this._unWireEvents(),this._clearElement()}})}(jQuery,Syncfusion),function(n,t,i){t.widget("mPercent","m.Percent",{_setFirst:!0,defaults:{autoFormat:"darknight",renderMode:"auto",renderingEngine:"client",showSpinButton:!0,decimal:0,strictMode:!1,mobStyle:"Normal",position:"Vertical",incrementStep:1,value:"0",maxValue:100,minValue:0,indicateError:!1,localize:"en-US",android:{theme:"dark"}},dataTypes:{strictMode:"boolean",showSpinButton:"boolean",error:"boolean",renderMode:"enum",android:{theme:"enum"}},_init:function(){this._setValues(),this.model.renderingEngine=="client"&&this._renderControl(),this._wireEvents()},_setValues:function(){var i,r,t;this.model.id=n(this.element).attr("id"),this.model.android.theme=sf.getAttrVal(this.element,"data-android-theme",this.model.android.theme),this.model.maxValue=Number(sf.getAttrVal(this.element,"data-maxval",this.model.maxValue)),this.model.minValue=Number(sf.getAttrVal(this.element,"data-minval",this.model.minValue)),this.model.incrementStep=parseInt(sf.getAttrVal(this.element,"data-incrementstep",this.model.incrementStep)),this.model.showSpinButton=sf.getBooleanVal(this.element,"data-showspinbtn",this.model.showSpinButton),this.model.decimals=parseFloat(sf.getAttrVal(this.element,"data-decimals",this.model.decimals)),this.model.waterMarkText=sf.getAttrVal(this.element,"data-watermarktxt",this.model.waterMarkText),this.model.position=sf.getAttrVal(this.element,"data-position",this.model.position),this.model.mobStyle=sf.getAttrVal(this.element,"data-mobstyle",this.model.mobStyle),this.model.width=parseInt(sf.getAttrVal(this.element,"data-width",this.model.width)),this.model.localize=sf.getAttrVal(this.element,"data-localize",this.model.localize),this.model.indicateError=sf.getBooleanVal(this.element,"data-error",this.model.indicateError),this.model.renderMode=sf.getAttrVal(this.element,"data-rendermode",this.model.renderMode),this.model.renderMode=="auto"&&sf.setRenderMode(this),this.model.strictMode=sf.getBooleanVal(this.element,"data-strictmode",this.model.strictMode),this.model.value=sf.getAttrVal(this.element,"data-val",this.model.value),this.model.value==""&&(this.model.value=null),this.model.clientSideFocusIn=sf.getAttrVal(this.element,"data-focusin",this.model.clientSideFocusIn),this.model.clientSideFocusOut=sf.getAttrVal(this.element,"data-focusout",this.model.clientSideFocusOut),this.model.clientSideValueChange=sf.getAttrVal(this.element,"data-valchange",this.model.clientSideValueChange),this._id=this.model.ID,this._width=this.model.width,this._percent=n(this.element),this._minValue=this.model.minValue,this._maxValue=this.model.maxValue,this._value=this.model.value,this._pos=this.model.position,this._style=this.model.mobStyle,this._waterMarkText=this.model.waterMarkText,this._showSpinButton=this.model.showSpinButton,this._pos=="Horizontal"?(this._btnClass2="left",this._btnClass1="right",this._btnID2="left",this._btnID1="right"):(this._btnClass1="up",this._btnClass2="down",this._btnID1="up",this._btnID2="down"),this.model.renderMode=="normal"&&(this._showSpinButton&&(this._spinButtonUp=n(this.element).find("#"+this.model.id+"_btnsplit"+this._btnID1),this._spinButtonDown=n(this.element).find("#"+this.model.id+"_btnsplit"+this._btnID2)),this._style=="OnDemand"&&(this._spinButtonUp.css("visibility","hidden"),this._spinButtonDown.css("visibility","hidden"))),this._textBox=n(this.element),this._inputTextBox=this.element[0],this._decimals=this.model.decimals,this._incrementStep=this.model.incrementStep,this._error=this.model.indicateError,this._strictMode=this.model.strictMode,this._localize=this.model.localize,this._keypressFlag=!0,this._defaultValue=0,this._isInitialRendered=!0,this._defaultMinValue=-17976931348623157e292,this._isFocus=!1,this.model.renderMode=="normal"&&(!this.model.width||sf.isMobile()||sf.isTablet()?this._textBox.width("89%"):this._textBox.width(this.model.width),this.model.position!="Vertical"&&(this.model.position!="Horizontal"||sf.isMobile()||sf.isTablet())||this._textBox.height("94%"),(this.model.position=="Horizontal"&&sf.isMobile()||sf.isTablet())&&this._textBox.height("81%")),i=n(this.element),i.attr("data-role","none"),i.attr("data-role","none"),n(document).bind("pageinit",function(){i.attr("data-role","sf-m-percent")}),n(this._percent).css({"z-index":this._maxZindex()+1}),r=n("#"+this._id).parents().find("form"),n(this.element).find("#"+this._id+"_hiddenField").length==0&&(t=document.createElement("input"),t.setAttribute("type","hidden"),t.setAttribute("name",this._id),t.setAttribute("id",this._id+"_hiddenField"),n(r).length!=0&&n(r).append(t)),this._localizedFormat(),this._appendPercentSymbol(this._inputTextBox.value),this._timeout=null,this._error==!1?this._value==null&&this._waterMarkText!=""&&this._setWaterMark():(n(this._textBox).removeClass("sfinputtext"),n(this._textBox).addClass("error"))},_renderControl:function(){var u=document.createElement("div"),f,t,i,r;n(u).attr("id",this.model.id+"_wrapper"),n(u).addClass("sfpercent"),n(this.element).addClass("sfinputtext sf-font sf-border sf-m-"+this.model.renderMode+" sf-percent"),n(this.element).after(u),f=document.createElement("div"),n(f).attr("id",this.model.id+"_percenttextboxbase"),n(f).addClass("sf-m-textboxbase"),n(f).append(this.element),n(u).append(f),this.model.showSpinButton&&(t=document.createElement("div"),this.model.renderMode=="android"&&n(t).addClass("sf-android-"+this.model.android.theme),n(t).addClass("sf-spinner sf-m-"+this.model.renderMode),i=document.createElement("div"),n(i).attr("id",this.model.id+"-spinner-left"),n(i).addClass("sf-spinner-left sf-m-"+this.model.renderMode+" sf-state-default"),r=document.createElement("div"),n(r).attr("id",this.model.id+"-spinner-right"),n(r).addClass("sf-spinner-right sf-m-"+this.model.renderMode+" sf-state-default"),this.model.renderMode=="android"&&(n(i).addClass("sf-android-"+this.model.android.theme),n(r).addClass("sf-android-"+this.model.android.theme)),n(t).append(i),n(t).append(r),n(u).append(t)),this._showSpinButton&&(this._spinButtonUp=n(r),this._spinButtonDown=n(i))},_wireEvents:function(){startEvent=sf.isTouchDevice()?"touchstart":"mousedown",endEvent=sf.isTouchDevice()?"touchend":"mouseup",this._spinUpUpHanlder=n.proxy(this._onSpinUpClick,this),this._spinUpDownHanlder=n.proxy(this._onSpinUpClick,this),this._spinDownUpHanlder=n.proxy(this._onSpinDownClick,this),this._spinDownDownHanlder=n.proxy(this._onSpinDownClick,this),sf.isTouchDevice()?(this._showSpinButton&&(sf.bindTouchEvent(this._spinButtonUp,startEvent,this._spinUpDownHanlder),sf.bindTouchEvent(this._spinButtonUp,endEvent,this._spinUpUpHanlder),sf.bindTouchEvent(this._spinButtonDown,startEvent,this._spinDownDownHanlder),sf.bindTouchEvent(this._spinButtonDown,endEvent,this._spinDownUpHanlder)),sf.bindTouchEvent(this._textBox,"focus",n.proxy(this._focusIn,this)),sf.bindTouchEvent(this._textBox,"blur",n.proxy(this._focusOut,this)),sf.bindTouchEvent(this._textBox,"keydown",n.proxy(this._keyDown,this)),sf.browserDetect.opera&&sf.bindTouchEvent(this._textBox,"keypress",n.proxy(this._keyPress,this)),sf.bindTouchEvent(this._textBox,"mousewheel",n.proxy(this._mouseWheel,this)),sf.bindTouchEvent(this._textBox,"DOMMouseScroll",n.proxy(this._mouseWheel,this))):(this._showSpinButton&&(this._spinButtonUp.bind(startEvent,this._spinUpDownHanlder).bind(endEvent,this._spinUpUpHanlder),this._spinButtonDown.bind(startEvent,this._spinDownDownHanlder).bind(endEvent,this._spinDownUpHanlder)),this._textBox.bind("focus",n.proxy(this._focusIn,this)).bind("blur",n.proxy(this._focusOut,this)).bind("keydown",n.proxy(this._keyDown,this)).bind("mousewheel",n.proxy(this._mouseWheel,this)).bind("DOMMouseScroll",n.proxy(this._mouseWheel,this)),sf.browserDetect.opera&&this._textBox.bind("keypress",n.proxy(this._keyPress,this)))},_unWireEvents:function(){this._percent.unbind(startEvent,this._spinUpDownHanlder).unbind(endEvent,this._spinUpUpHanlder).unbind(startEvent,this._spinDownDownHanlder).unbind(endEvent,this._spinDownUpHanlder)},_localizedFormat:function(){this._inputTextBox.value=Globalize.format(parseFloat(this._value),"n"+this._decimals,this._localize)},_mouseWheel:function(n){var t=0;n||(n=window.event),n.wheelDelta?t=n.wheelDelta/60:n.detail&&(t=-n.detail/2),t>0?this._incrementValue(n):t<0&&this._decrementValue(n),this._cancelEvent(n)},_onSpinUpClick:function(t){t.preventDefault();var i=this;t.type=="mouseup"||t.type=="touchend"?(clearTimeout(this._timeout),this._showSpinButton&&n(this._spinButtonUp).removeClass("sf-state-active").addClass("sf-state-default"),this._inputTextBox.value==this._waterMarkText?(this._inputTextBox.value="",this._incrementValue(t)):this._incrementValue(t)):(t.type=="mousedown"||t.type=="touchstart")&&(this._showSpinButton&&n(this._spinButtonUp).addClass("sf-state-active").removeClass("sf-state-default"),this._timeout=setInterval(function(){i._incrementValue(t)},150))},_onSpinDownClick:function(t){t.preventDefault();var i=this;t.type=="mouseup"||t.type=="touchend"?(clearTimeout(this._timeout),n(this._spinButtonDown).addClass("sf-state-default").removeClass("sf-state-active"),this._inputTextBox.value==this._waterMarkText?(this._inputTextBox.value="",this._decrementValue(t)):this._decrementValue(t)):(t.type=="mousedown"||t.type=="touchstart")&&(n(this._spinButtonDown).removeClass("sf-state-default").addClass("sf-state-active"),this._timeout=setInterval(function(){i._decrementValue(t)},150))},_incrementValue:function(){if(this._errorClass(!1),this._inputTextBox.value!=this._waterMarkText||this._inputTextBox.value==""){if(this._inputTextBox.value==""&&this._minValue==this._defaultMinValue)this._value=0;else if(this._minValue!=this._defaultMinValue&&this._inputTextBox.value=="")this._value=this._minValue;else{var n=this._inputTextBox.value,t=n;n.indexOf("%")>-1&&(t=n.substring(0,n.length-1)),this._value=Globalize.parseFloat(t,this._localize)}this._value=parseInt(this._value),this._value<this._maxValue?(this._value=this._value+this._incrementStep,this._value<=this._maxValue&&this._value>=this._minValue?(this.setValue(this._value),this._wipeWaterMark(this._value)):this._strictMode==!1?this._errorClass(!0):this._value>this._maxValue?(this.setValue(this._maxValue),this._wipeWaterMark(this._value)):this._value<this._minValue&&(this.setValue(this._minValue),this._wipeWaterMark(this._value))):this._value>this._maxValue&&(this._strictMode==!0?(this.setValue(this._maxValue),this._wipeWaterMark(this._value)):this._errorClass(!0))}else this._inputTextBox.value==this._waterMarkText?(this._wipeWaterMark(this._minValue),this._value=this._minValue+this._incrementStep,this._value<this._maxValue?(this.setValue(this._value),this._wipeWaterMark(this._value)):this.setValue(this._maxValue)):this._inputTextBox.focus()},_decrementValue:function(){if(this._errorClass(!1),this._inputTextBox.value!=this._waterMarkText||this._inputTextBox.value==""){if(this._inputTextBox.value=="")this._value=0;else{var n=this._inputTextBox.value,t=n;n.indexOf("%")>-1&&(t=n.substring(0,n.length-1)),this._value=Globalize.parseFloat(t,this._localize)}this._value=parseInt(this._value),this._value>this._minValue?(this._value=this._value-this._incrementStep,this._value>=this._minValue&&this._value<=this._maxValue?(this.setValue(this._value),this._wipeWaterMark(this._value)):this._strictMode==!1?this._errorClass(!0):this._value<this._minValue?(this.setValue(this._minValue),this._wipeWaterMark(this._value)):this._value>this._maxValue&&(this.setValue(this._maxValue),this._wipeWaterMark(this._value))):this._value<this._minValue&&(this._strictMode==!0?(this.setValue(this._minValue),this._wipeWaterMark(this._value)):this._errorClass(!0))}else this._inputTextBox.focus()},_setWaterMark:function(){n(this._textBox).addClass("sf-watermark-text"),this._inputTextBox.value=this._waterMarkText},_wipeWaterMark:function(){n(this._textBox).addClass("sfinputtext"),n(this._textBox).removeClass("sf-watermark-text")},_keyPress:function(n){if(!this._keypressFlag)return this._keypressFlag=!0,this._cancelEvent(n),!1},_keyDown:function(n){var e;if(n.keyCode>=48&&n.keyCode<=57||n.keyCode>=96&&n.keyCode<=105||this._allowKeyCodes(n)){if((n.shiftKey==!0||n.ctrlKey==!0)&&n.keyCode!=9)return this._keypressFlag=!1,this._cancelEvent(n),!1;if(n.keyCode>=48&&n.keyCode<=57||n.keyCode>=96&&n.keyCode<=105){var u=this._caretPosition(),t=this._inputTextBox.value.substring(0,u),r=this._inputTextBox.value.substring(u),f=this._getSelection(this._inputTextBox.value);n.keyCode>=96&&n.keyCode<=105&&(n.keyCode-=48),this._value=f.length==0?parseFloat(t+String.fromCharCode(n.keyCode)+r):parseFloat(t.substring(0,t.length-f.length)+String.fromCharCode(n.keyCode)+r),this._wipeWaterMark(this._value),this.model.clientSideValueChange&&this._trigger("clientSideValueChange",this._value)}if(n.keyCode==38&&this._incrementValue(n),n.keyCode==40&&this._decrementValue(n),n.keyCode==8){var u=this._caretPosition(),t=this._inputTextBox.value.substring(0,u),r=this._inputTextBox.value.substring(u),f=this._getSelection(this._inputTextBox.value);this._value=f.length==0?t.substring(0,t.length-1)+r:t.substring(0,t.length-f.length)+r,this.model.clientSideValueChange&&this._trigger("clientSideValueChange",this._value)}if(n.keyCode==46||n.keyCode==127){var u=this._caretPosition(),t=this._inputTextBox.value.substring(0,u),r=this._inputTextBox.value.substring(u),f=this._getSelection(this._inputTextBox.value);this._value=f.length==0?t+r.substring(1,r.length):t.substring(0,t.length-f.length)+r.substring(0,r.length),this.model.clientSideValueChange&&this._trigger("clientSideValueChange",this._value)}if(n.keyCode==190&&this._decimals!=0||n.keyCode==110&&this._decimals!=0){if(e=this._inputTextBox.value.split("."),e[1]==i){var o=this._caretPosition(),s=e[0].substring(0,o),h=e[0].substring(o);this._value=s+"."+h,this._setSelectionRange(this._value.length,this._value.length),this._inputTextBox.value=this._value}else this._value=this._inputTextBox.value;this.model.clientSideValueChange&&this._trigger("clientSideValueChange",this._value),this._cancelEvent(n)}else(n.keyCode==190||n.keyCode==110)&&this._cancelEvent(n);(n.keyCode==109||n.keyCode==189)&&this._caretPosition()!=0&&this._cancelEvent(n)}else this._keypressFlag=!1,this._cancelEvent(n)},_cancelEvent:function(n){return n.cancelBubble=!0,n.returnValue=!1,n.stopPropagation(),n.preventDefault(),!1},getValue:function(){return this._inputTextBox.value},setValue:function(n){var t=this._inputTextBox.value;this._value=n,n!=null&&this._value!="NaN"&&(this._inputTextBox.value!=this._waterMarkText||this._inputTextBox.value=="")?this._localizedFormat():this._setWaterMark(),this._inputTextBox.value!=this._waterMarkText&&this.model.clientSideValueChange&&this._trigger("clientSideValueChange",this._localizedFormat()),this._appendPercentSymbol(this._inputTextBox.value)},_focusIn:function(){if(this._isFocus=!0,this.model.renderMode=="normal"&&this._showSpinButton&&this._style=="OnDemand"&&(this._spinButtonUp.css("visibility","visible"),this._spinButtonDown.css("visibility","visible"),this._pos=="Horizontal"?(this._spinButtonDown.css("left",parseInt(this._textBox.position().left)-52+"px"),this._spinButtonUp.css("left",parseInt(this._textBox.position().left)+parseInt(this._width)+"px")):(this._spinButtonUp.css("top",parseInt(this._textBox.position().top)-40+"px"),this._spinButtonDown.css("top",parseInt(this._textBox.position().top)+42+"px"))),this._strictMode==!1&&this._errorClass(!1),(this._inputTextBox.value==this._waterMarkText||this._inputTextBox.value.indexOf("N")>-1)&&(this._inputTextBox.value=""),this._error==!1){this._inputTextBox.value!=this._waterMarkText&&(this._value=this._inputTextBox.value==""?0:this._inputTextBox.value);var n;this._inputTextBox.value.indexOf("%")>-1&&(n=this._inputTextBox.value.split("%"),this._inputTextBox.value=n[0]),this._setSelectionRange(0,this._inputTextBox.value.length)}},_focusOut:function(){this._isFocus=!1,this._isAndroid==!0&&this._appendPercentSymbol(this._inputTextBox.value),this.model.renderMode=="normal"&&this._showSpinButton&&this._style=="OnDemand"&&(this._spinButtonUp.css("visibility","hidden"),this._spinButtonDown.css("visibility","hidden")),this._error==!1&&(this._inputTextBox.value<this._minValue?this._strictMode==!0?this._inputTextBox.value=this._minValue.toFixed(this._decimals)+"%":this._inputTextBox.value!=""&&this._errorClass(!0):this._inputTextBox.value>this._maxValue&&(this._strictMode==!0?this._inputTextBox.value=this._maxValue.toFixed(this._decimals)+"%":this._errorClass(!0)),(this._inputTextBox.value==""&&this._waterMarkText==""||this._inputTextBox.value=="%"&&this._waterMarkText=="")&&(this._inputTextBox.value=this._minValue.toFixed(this._decimals)+"%"),(this._inputTextBox.value==""&&this._waterMarkText!=""||this._inputTextBox.value=="%"&&this._waterMarkText!="")&&(this._setWaterMark(),this._value=this._minValue.toFixed(this._decimals)+"%"),(this._inputTextBox.value==this._minValue&&this._waterMarkText!=""||this._inputTextBox.value==this._minValue+"%"&&this._waterMarkText!="")&&(this._value=this._minValue.toFixed(this._decimals)+"%")),this._inputTextBox.value!=""&&(this._value=this._inputTextBox.value==this._waterMarkText?0:this._inputTextBox.value=parseFloat(this._inputTextBox.value).toFixed(this._decimals).toString()+"%",this.model.clientSideValueChange&&this._trigger("clientSideValueChange",this._value))},_getSelection:function(n){var t=null;return document.selection?(t=document.selection.createRange(),t.text):n.substring(this._inputTextBox.selectionStart,this._inputTextBox.selectionEnd)},_setSelectionRange:function(n,t){var i=this._inputTextBox,r;i.setSelectionRange?(i.focus(),i.setSelectionRange(n,t)):i.createTextRange&&(r=i.createTextRange(),r.collapse(!0),r.moveEnd("character",t),r.moveStart("character",n),r.select())},_caretPosition:function(){var n=this._inputTextBox,t=0,i;return document.selection?(n.focus(),i=document.selection.createRange(),i.moveStart("character",-n.value.length),t=i.text.length):(n.selectionStart||n.selectionStart=="0")&&(t=n.selectionEnd),t},_errorClass:function(t){t?(n(this._textBox).removeClass("sfinputtext"),n(this._textBox).addClass("error")):(n(this._textBox).removeClass("error"),n(this._textBox).addClass("sfinputtext"))},_allowKeyCodes:function(n){for(var i=[38,40,35,36,109,189,46,8,127,37,39,190,9,13,16,17,18,20,110],t=0,t=0;t<19;t++)if(n.keyCode==i[t])return!0;return!1},_appendPercentSymbol:function(n){n.indexOf("%")<0&&(this._inputTextBox.value=n+"%")},_hideSpinner:function(){this.model.showSpinButton?this._spinButtonUp.parent().css("display",""):this._spinButtonUp.parent().css("display","none")},_maxZindex:function(){var t=1;return t=Math.max.apply(null,n.map(n("body *"),function(t){if(n(t).css("position")=="absolute")return parseInt(n(t).css("z-index"))||1})),(t==i||t==null)&&(t=1),t},_setModel:function(n){var i=!1,t;for(t in n)t=="showSpinButton"?this._hideSpinner():(t=="renderMode"||t=="android")&&(i=!0);i&&this._refresh(),this._trigger("modelChange",{changes:n})},_refresh:function(){this._destroy(),this.element.addClass("m-percent"),this._renderControl(),this._wireEvents()},_clearElement:function(){var t=n("#"+this.model.id+"_wrapper");this.element.insertAfter(t),t.remove(),this.element.removeAttr("class")},_destroy:function(){this._unWireEvents(),this._clearElement()}})}(jQuery,Syncfusion),function(n,t,i){t.widget("mProgress","m.Progress",{_setFirst:!0,defaults:{renderMode:"auto",renderingEngine:"client",height:22,width:700,value:0,stepValue:0,minimum:0,maximum:100,orientation:"horizontal",onCreate:i,onChange:i,onComplete:i,onCustomText:i,disabled:!1,allowCustomText:!1,android:{theme:"dark"}},dataTypes:{renderMode:"enum",renderingEngine:"enum",orientation:"enum",disabled:"boolean",allowCustomText:"boolean",android:{theme:"enum"}},_init:function(){this._setValues(),this.model.renderingEngine=="client"&&this._renderControl(),this._progressbarInit(),this._pageLoad(),this._wireEvents()},_setValues:function(){this._orgEle=n(this.element).clone(),this.model.id=n(this.element).attr("id"),this.model.renderingEngine=sf.getAttrVal(this.element,"data-mode",this.model.renderingEngine),this.model.renderMode=sf.getAttrVal(this.element,"data-rendermode",this.model.renderMode),this.model.renderMode=="auto"&&sf.setRenderMode(this),this.model.renderMode=="android"&&(this.model.andTheme=sf.getAttrVal(this.element,"data-android-theme","dark")),this.model.value=Number(sf.getAttrVal(this.element,"data-value",this.model.value)),this.model.minimum=Number(sf.getAttrVal(this.element,"data-min",this.model.minimum)),this.model.maximum=Number(sf.getAttrVal(this.element,"data-max",this.model.maximum)),this.model.stepValue=Number(sf.getAttrVal(this.element,"data-stepvalue",this.model.stepValue)),this.model.width=Number(sf.getAttrVal(this.element,"data-width",this.model.width)),this.model.height=Number(sf.getAttrVal(this.element,"data-height",this.model.height)),this.model.orientation=sf.getAttrVal(this.element,"data-orientation",this.model.orientation),this.model.allowCustomText=sf.getBooleanVal(this.element,"data-allowcustomtext",this.model.allowCustomText),this.model.renderMode=="normal"&&(this.model.autoFormat=sf.getAttrVal(this.element,"data-autoformat"),this.model.disabled=sf.getBooleanVal(this.element,"data-disable",this.model.disabled),sf.getAttrVal(this.element,"data-backcolor")!=null&&(this.model.backColor=JSON.parse(sf.getAttrVal(this.element,"data-backcolor"))),this.model.borderColor=sf.getAttrVal(this.element,"data-bcolor",this.model.borderColor),this.model.pbBorderColor=sf.getAttrVal(this.element,"data-barbcolor",this.model.pbBorderColor),sf.getAttrVal(this.element,"data-barcolor")!=null&&(this.model.barColor=JSON.parse(sf.getAttrVal(this.element,"data-barcolor"))),this.model.progressBarFontFamily=sf.getAttrVal(this.element,"data-barfontfam",this.model.progressBarFontFamily),this.model.progressBarTextColor=sf.getAttrVal(this.element,"data-bartcolor",this.model.progressBarTextColor),this.model.progressBarTextFontSize=Number(sf.getAttrVal(this.element,"data-bartsize",this.model.progressBarTextFontSize)),this.model.textStyle=sf.getAttrVal(this.element,"data-tstyle",this.model.textStyle),this.model.textPosition=sf.getAttrVal(this.element,"data-tpos",this.model.textPosition),this.model.textPositionId=sf.getAttrVal(this.element,"data-tposid",this.model.textPositionId)),this.model.onCreate=sf.getAttrVal(this.element,"data-oncreate"),this.model.onChange=sf.getAttrVal(this.element,"data-onchange"),this.model.onComplete=sf.getAttrVal(this.element,"data-oncomplete"),this.model.onCustomText=sf.getAttrVal(this.element,"data-oncustomtext"),this._customText="Completed"},_renderControl:function(){var t=n('<canvas id="'+this.model.id+'_Canvas"><\/canvas>');n(this.element).append(t)},_progressbarInit:function(){this._initial_x=0,this._initial_y=0,this._mProgress=n(this.element),this._increment=0,this._result=0,this._context=null,this._text=this.model.textStyle,this._externalText=null,this._total_width=0,this._total_height=0,this.model.renderMode=="normal"&&(this._initial_x=5,this._initial_y=5),this._radius=0,this._currentValue=1},_pageLoad:function(){var t=n(this.element).find("#"+this.model.id+"_Canvas")[0],r=n(t).parent(),i;(this.model.renderMode=="normal"&&n("#"+this.model.textPositionId+"_Wrapper")&&n(r).after(n('<span id="'+this.model.textPositionId+'_Wrapper"><\/span>')),typeof window.G_vmlCanvasManager!="undefined"&&(t=window.G_vmlCanvasManager.initElement(t)),t&&t.getContext)&&(t=n(this.element).find("#"+this.model.id+"_Canvas")[0],this._context=t.getContext("2d"),this._context)&&(this.model.value=this.model.value+this.model.stepValue,this._validate(),i={element:n(this.element),value:this.model.value},this.model.onCreate&&this._trigger("onCreate",i),this._result=this._draw())},_wireEvents:function(){},_unWireEvents:function(){},_validate:function(){if(this.model.value==this.model.maximum){var t={element:n(this.element),value:this.model.value};this.model.onComplete&&this._trigger("onComplete",t)}this.model.value<this.model.minimum&&(this.model.value=this.model.minimum),this.model.value>this.model.maximum&&(this.model.value=this.model.maximum),this._step>this._maximum&&(this._step=1)},_draw:function(){this._context!=null&&(this.model.disabled?n(this.element).css("opacity","0.4"):n(this.element).css("opacity","1"),this.model.orientation=="horizontal"?(this._total_width=this.model.width,this._total_height=this.model.height,this._radius=this._total_height/2,this._increment=this.model.value*(this._total_width/this.model.maximum),this.model.renderMode=="ios"&&(this._increment=this.model.value*((this._total_width-8)/this.model.maximum)),this.model.renderMode=="normal"?(n(this.element).hasClass("progresscore")&&(this.element.style.width=this.model.width+20+"px",this.element.style.height=this.model.height+20+"px"),this._context.canvas.width=this.model.width+20,this._context.canvas.height=this.model.height+20):(this._context.canvas.width=this.model.width,this._context.canvas.height=40)):(this._total_width=this.model.height,this._total_height=this.model.width,this._radius=this._total_width/2,this._increment=this.model.value*(this._total_height/this.model.maximum),this.model.renderMode=="ios"&&(this._increment=this.model.value*((this._total_height-8)/this.model.maximum)),this.model.renderMode=="normal"?(n(this.element).hasClass("progresscore")&&(this.element.style.width=this.model.height+20+"px",this.element.style.height=this.model.width+20+"px"),this._context.canvas.width=this.model.height+20,this._context.canvas.height=this.model.width+20):(this._context.canvas.width=40,this._context.canvas.height=this.model.width)),this._context.translate(.5,.5),this._context.clearRect(this._initial_x-5,this._initial_y-5,this._total_width+15,this._total_height+15),this.model.renderMode=="normal"?(this._progressLayerRect(this._context,this._initial_x,this._initial_y,this._total_width,this._total_height),this._progressBarRect(this._context,this._initial_x,this._initial_y,this._increment,this._total_width,this._total_height),this._progressText(this._context,this._initial_x,this._initial_y,this._increment,this._total_height,this._radius,this._total_width)):(this.model.renderMode=="windows"?this.model.orientation=="horizontal"?this._initial_y=10:this._initial_x=10:this.model.orientation=="horizontal"?this._initial_y=25:this._initial_x=25,this.model.renderMode=="ios"?(this.model.orientation=="horizontal"?(this._total_height=10,this._total_width=this._total_width-1):(this._total_width=10,this._total_height=this._total_height-1),this.total_radius=7,this._fillradius=4,this._progressRoundRect(this._context,this._initial_x,this._initial_y,this._total_width,this._total_height)):(this.model.renderMode=="android"||this.model.renderMode=="windows")&&(this.model.orientation=="horizontal"?this._total_height=2:this._total_width=2,this.total_radius=0,this._fillradius=0),this._roundRectOuter(this._context,this._initial_x,this._initial_y,this._total_width,this._total_height,this.total_radius),this._roundRectFill(this._context,this._initial_x,this._initial_y,this._increment,this._total_height,this._fillradius)),this._increment>=this._total_width&&window.clearInterval(this._result))},_progressRoundRect:function(n,t,i,r,u){n.save(),n.beginPath(),n.strokeStyle="#8AA1BD",n.lineWidth=2,this.model.orientation=="horizontal"?(n.moveTo(t+3,i+u),n.lineTo(t+r-3,i+u)):(n.moveTo(t+r,i+u-3),n.lineTo(t+r,i+3)),n.stroke(),n.closePath(),n.restore()},_roundRect:function(n,t,i,r,u,f){n.save(),n.beginPath(),n.strokeStyle=this._strokeStyle,n.fillStyle=this._fillStyle,n.lineWidth=1,n.moveTo(t+f,i),n.lineTo(t+r-f,i),n.quadraticCurveTo(t+r,i,t+r,i+f),n.lineTo(t+r,i+u-f),n.quadraticCurveTo(t+r,i+u,t+r-f,i+u),n.lineTo(t+f,i+u),n.quadraticCurveTo(t,i+u,t,i+u-f),n.lineTo(t,i+f),n.quadraticCurveTo(t,i,t+f,i),n.fill(),n.stroke(),n.closePath(),n.restore()},_roundRectOuter:function(n,t,i,r,u,f){if(this.model.renderMode=="ios")grd=this.model.orientation=="horizontal"?n.createLinearGradient(t,i,t,i+u):n.createLinearGradient(t,i,t+r,i),sf._setGradientColor(this,grd,[{ColorStop:0,Color:"#233F67"},{ColorStop:.1,Color:"#24436C"},{ColorStop:.3,Color:"#24436E"},{ColorStop:.5,Color:"#395B87"},{ColorStop:.55,Color:"#40618F"},{ColorStop:.75,Color:"#496A99"},{ColorStop:1,Color:"#4C6B98"}]),this._strokeStyle="#233F67",this._fillStyle=grd;else this.model.renderMode=="android"?this.model.andTheme=="dark"?(this._strokeStyle="#494949",this._fillStyle="#4D4D4D"):(this._strokeStyle="#E1E1E1",this._fillStyle="#ADADAD"):this.model.renderMode=="windows"&&(this._strokeStyle="#20272B",this._fillStyle="#212A30");this._roundRect(n,t,i,r,u,f)},_roundRectFill:function(t,i,r,u,f,e){var o,s,h;this.model.renderMode=="ios"?(o=[{ColorStop:0,Color:"#C2C1C5"},{ColorStop:.3,Color:"#CACACA"},{ColorStop:.5,Color:"#D6D7D9"},{ColorStop:.6,Color:"#D7D7D7"},{ColorStop:.7,Color:"#DFE1E0"},{ColorStop:.8,Color:"#DFE0E2"},{ColorStop:1,Color:"#E8E9ED"}],grd=this.model.orientation=="horizontal"?t.createLinearGradient(i+1,r+1,i+1,r+f-2):t.createLinearGradient(i+1,r+1,i+1+this._total_width,r+1),sf._setGradientColor(this,grd,o),this._strokeStyle="#D1D7E0",this._fillStyle=grd):this.model.renderMode=="android"?this.model.andTheme=="dark"?(o=[{ColorStop:0,Color:"#2CA2CB"},{ColorStop:.9,Color:"#339DC3"},{ColorStop:1,Color:"#33B9EA"}],grd=this.model.orientation=="horizontal"?t.createLinearGradient(i+1,r,i+u,r):t.createLinearGradient(i+1,r+1,i+u,r+1),sf._setGradientColor(this,grd,o),this._strokeStyle="#2E7C98",this._fillStyle=grd):(this._strokeStyle="#B9E1F0",this._fillStyle="#3DABD5"):this.model.renderMode=="windows"&&(this._strokeStyle="#2C6D8E",this._fillStyle="#3294C4"),u>0&&(this.model.renderMode=="ios"?this.model.orientation=="horizontal"?this._roundRect(t,i+1.5,r+1,u+e,f-2,e):this._roundRect(t,i+1,f-u+r-6,this._total_width-2,u+e,e):this.model.orientation=="horizontal"?this._roundRect(t,i,r,u,f,e):this._roundRect(t,i,f-u+r,this._total_width,u,e)),t.save(),this.model.orientation=="horizontal"?this.model.renderMode=="ios"?this._text="Downloading "+this.model.value+" of "+this._total_width:this.model.renderMode=="android"?this._text="":this.model.renderMode=="windows"&&(this._text=this.model.value):(this.model.renderMode=="ios"?this._text="Downloading "+this.model.value+" of "+this._total_height:this.model.renderMode=="android"?this._text="":this.model.renderMode=="windows"&&(this._text=this.model.value),s=270,t.save(),t.translate(this._total_width/2,f/2),t.rotate(s*2*3.1416/360),this.model.renderMode=="ios"&&(t.textAlign="center")),this.model.allowCustomText?this.model.value<=this.model.maximum&&(h={element:n(this.element),ProgressBar:this,Model:this.model,CustomText:this._customText,SpanCustomText:this.SpanCustomText,Text:this.model.value},this.model.onCustomText&&this._trigger("onCustomText",h)):this.setCustomText(this._text),t.restore()},_progressRect:function(n,t,i,r,u){n.beginPath(),this.model.orientation=="horizontal"?n.rect(t,i,r,u):n.rect(t,i,r,u),n.closePath(),n.fill()},_createGradient:function(t,i,r,u,f,e){var o=t.createLinearGradient(r,u,f,e);return n.each(i.ColorInfo,function(n,t){o.addColorStop(t.ColorStop.toString()=="NaN"?0:t.ColorStop,"#"+(t.Color.Name?sf.hexFromRGB(t.Color):t.Color))}),o},_progressLayerRect:function(n,t,i,r,u){n.save(),n.fillStyle=this.model.orientation=="horizontal"?this._createGradient(n,this.model.backColor,t,i,t+r,i):this._createGradient(n,this.model.backColor,t,i,t,u+i),n.fill(),this._progressRect(n,t,i,r,u),n.strokeStyle=this.model.borderColor,n.lineWidth=1,n.globalAlpha=.2,n.stroke(),n.restore()},_progressBarRect:function(n,t,i,r,u,f){n.save(),n.beginPath(),n.font=this.model.progressBarTextFontSize+"px "+this.model.progressBarFontFamily,this.model.orientation=="horizontal"?(n.rect(t,i,r,f),n.fillStyle=this.model.autoFormat=="Spinach"?this._createGradient(n,this.model.barColor,t,i,t,f+i):this._createGradient(n,this.model.barColor,t,i,t+r,i)):(n.rect(t,f-r+i,u,r),n.fillStyle=this.model.autoFormat=="Spinach"?this._createGradient(n,this.model.barColor,t,i,t,u+i):this._createGradient(n,this.model.barColor,t,i+f,t+u,f+i-r)),n.fill(),n.strokeStyle=this.model.pbBorderColor,n.lineWidth=1,n.stroke(),n.closePath()},_progressText:function(t,i,r,u,f,e,o){var s,h,c,l;t.save(),t.fillStyle=this.model.progressBarTextColor,this.model.orientation=="horizontal"?this.model.textStyle=="percentage"?this.model.value<=this.model.maximum&&(this._text=Number(Math.round(u/o*100))+"%"):this.model.textStyle=="value"?this.model.value<=this.model.maximum&&(this._text=Number(Math.round(u/o*100))+"/"+this.model.maximum):this.model.textStyle=="none"?this._text="":this.model.value<=this.model.maximum&&(this._text=Number(Math.round(u/o*100))):(this.model.orientation="vertical")&&(this.model.textStyle=="percentage"?this.model.value<=this.model.maximum&&(this._text=Number(Math.round(u/f*100))+"%"):this.model.textStyle=="value"?this.model.value<=this.model.maximum&&(this._text=Number(Math.round(u/f*100))+"/"+this.model.maximum):this.model.textStyle=="none"?this._text="":this.model.value<=this.model.maximum&&(this._text=Number(Math.round(u/f*100)))),this.model.allowCustomText?(this.model.orientation=="vertical"&&(c=270,t.save(),t.translate(o/2,f/2),t.rotate(c*2*3.1416/360),t.textAlign="center"),this.model.value<=this.model.maximum&&(l={element:n(this.element),ProgressBar:this,Model:this.model,CustomText:this._customText,SpanCustomText:this.SpanCustomText,Text:this._text},this.model.onCustomText&&this._trigger("onCustomText",l))):(s=t.measureText(this._text).width,h=i+o/2-s/2,t.fillText(this._text,h,f/2+r+e/2)),t.restore()},setCustomText:function(t){var l,h,c,f;if(this.model.renderMode=="normal"){var i=this._context,u=this._initial_x,r=this._initial_y,e=this._total_height,s=this._radius,o=this._total_width;this.model.customText=t,h=i.measureText(this.model.customText).width,l=270,i.save(),this.model.textPosition=="external"&&(this.model.customText=this._text),this.model.orientation=="horizontal"?(f=u+o/2-h/2,i.fillText(this.model.customText,f,e/2+r+s/2)):(f=o/2-s/2+u,i.fillText(this.model.customText,this.model.progressBarTextFontSize,f,u+e/2)),i.restore(),this.model.textPosition!="internal"&&n(span).text(t.replace(this._text,""))}else{var i=this._context,e=this._total_height,s=this.total_radius,o=this._total_width,u,r;this.model.customText=t,l=270,this.model.orientation=="horizontal"?(u=0,r=8):(u=8,r=this._total_width),i.save(),this.model.renderMode=="ios"?(i.fillStyle="#F2FAFF",i.font="600 13px helvetica",i.shadowColor="#616B6A",i.shadowOffsetX=0,i.shadowOffsetY=-1):this.model.renderMode=="android"?(this.model.andTheme=="dark"?(i.fillStyle="#828282",i.shadowColor="#343434"):i.fillStyle="#999999",i.font="600 12px Robotics",i.shadowOffsetX=0,i.shadowOffsetY=-1):this.model.renderMode=="windows"&&(i.fillStyle="#D3D3D3",i.font="normal 13px Segoe",i.shadowColor="#3C3C3C",i.shadowOffsetX=0,i.shadowOffsetY=-1),h=i.measureText(this.model.customText).width,c=i.measureText(this.model.value+"%").width,this.model.orientation=="horizontal"?(f=u+o/2-h/2,this.model.renderMode=="ios"?i.fillText(this.model.customText,f,e/2+r+s/2):this.model.renderMode=="android"?(i.fillText(this.model.customText,u,r+5),i.fillText(this.model.value+"%",o-c,r+5)):this.model.renderMode=="windows"&&i.fillText(this.model.customText,u,r+25)):(f=o/2-s/2+r,this.model.renderMode=="ios"?i.fillText(this.model.customText,o,f,r+e):this.model.renderMode=="android"?(i.fillText(this.model.customText,r-e/2,u+5,r+e),i.fillText(this.model.value+"%",e/2-c-r,u+5,c)):this.model.renderMode=="windows"&&i.fillText(this.model.customText,r-e/2,u+17,r+e)),i.restore()}},changeEventHandler:function(){var t={element:n(this.element),value:this.model.value};this.model.onChange&&this._trigger("onChange",t)},_setModel:function(n){var i=!1,t;for(t in n)(t=="renderMode"||t=="height"||t=="width"||t=="value"||t=="minimum"||t=="maximum"||t=="orientation")&&(i=!0);i&&this._refresh(),this._trigger("modelChange",{changes:n})},_refresh:function(){this._destroy(),this.element.addClass("m-progress"),this._renderControl(),this._progressbarInit(),this._pageLoad(),this._wireEvents()},_clearElement:function(){this.element.removeAttr("class"),this.element.html(this._orgEle.html())},_destroy:function(){this._unWireEvents(),this._clearElement()}}),m.Progress.orientation={Horizontal:"horizontal",Vertical:"vertical"}}(jQuery,Syncfusion),function($,ej,undefined){ej.widget("mRating","m.Rating",{_setFirst:!0,defaults:{maxValue:5,minValue:0,currValue:0,incrementStep:1,autoPostBack:!1,requestMapper:null,precision:"full",editMode:!0,customCSS:"",customImageHeight:0,customImageWidth:0,shape:"star",renderMode:"auto",renderingEngine:"client",shapeWidth:16,shapeHeight:16,spaceBetweenShapes:1,autoFormat:"darknight",orientation:"horizontal"},dataTypes:{autoPostBack:"boolean",editMode:"boolean",renderMode:"enum",precision:"enum",shape:"enum",orientation:"enum"},_init:function(){this._setValues(),this.model.renderingEngine=="client"&&this._renderControl(),this._wireEvents(),this._initConditions(),this._isLoaded=!0},_initConditions:function(){this.model.customCSS!=null&&this.model.customCSS!=""&&(this.model.customImageHeight!=0&&(this.model.starHeight=this.model.customImageHeight),this.model.customImageWidth!=0&&(this.model.starWidth=this.model.customImageWidth)),this.model.precision!="full"&&this._refreshRating(this.model.currentIndex-1),$(this._control).css({visibility:"visible"});var n={element:$(this.element),value:this.model.currentValue};this.model.clientSideOnLoad&&this._trigger("clientSideOnLoad",n)},_initObjects:function(){this._startEv=sf.isTouchDevice()?"touchstart":"mousedown",this._moveEv=sf.isTouchDevice()?"touchmove":"mousemove",this._endEv=sf.isTouchDevice()?"touchend":"mouseup",this._control=$(this.element),$(this._control).css({display:"inline-block"});var n=this.model.id+"_Canvas";this._canvasElement=$(this.element).find("#"+n)[0],this._renderRatingControl(),this._stars=$(this._control).find("div.stars"),this._selector="#"+this.model.id+" div.stars",this._hiddenField=$(this.element).find("#"+this.model.id+"_HiddenField")},_setValues:function(){this.model.id=$(this.element).attr("id"),this.model.glowColor=eval("("+sf.getAttrVal(this.element,"data-glowcolor")+")"),this.model.renderingEngine=sf.getAttrVal(this.element,"data-mode",this.model.renderingEngine).toLowerCase(),this.model.renderMode=sf.getAttrVal(this.element,"data-rendermode",this.model.renderMode),this.model.renderMode=="auto"&&sf.setRenderMode(this),this.model.orientation=sf.getAttrVal(this.element,"data-orientation",this.model.orientation),this.model.maxValue=Number(sf.getAttrVal(this.element,"data-maxvalue",this.model.maxValue)),this.model.minValue=Number(sf.getAttrVal(this.element,"data-minvalue",this.model.minValue)),this.model.currentValue=parseFloat(sf.getAttrVal(this.element,"data-currentvalue",this.model.currentValue)),this.model.incrementStep=Number(sf.getAttrVal(this.element,"data-incrementstep",this.model.incrementStep)),this.model.autoPostBack=sf.getBooleanVal(this.element,"data-autopostback",this.model.autoPostBack),this.model.requestMapper=sf.getAttrVal(this.element,"data-requestmapper",this.model.requestMapper),this.model.precision=sf.getAttrVal(this.element,"data-precision",this.model.Precision),this.model.editMode=sf.getBooleanVal(this.element,"data-editmode",this.model.editMode),this.model.allowReset=sf.getBooleanVal(this.element,"data-allowreset"),this.model.currentIndex=sf.getAttrVal(this.element,"data-currentindex"),sf.getAttrVal(this.element,"data-backgroundcolor")&&(this.model.backgroundColor=eval("("+sf.getAttrVal(this.element,"data-backgroundcolor")+")")),this.model.shape=sf.getAttrVal(this.element,"data-shape",this.model.shape),this.model.shapeWidth=parseFloat(sf.getAttrVal(this.element,"data-shapewidth",this.model.shapeWidth)),this.model.shapeHeight=parseFloat(sf.getAttrVal(this.element,"data-shapeheight",this.model.shapeHeight)),this.model.spaceBetweenShapes=parseFloat(sf.getAttrVal(this.element,"data-spacebetweenshapes",this.model.spaceBetweenShapes)),sf.getAttrVal(this.element,"data-shapebackgroundcolor")&&(this.model.shapeBackgroundColor=eval("("+sf.getAttrVal(this.element,"data-shapebackgroundcolor")+")")),sf.getAttrVal(this.element,"data-shapeselectedcolor")&&(this.model.shapeSelectedColor=eval("("+sf.getAttrVal(this.element,"data-shapeselectedcolor")+")")),sf.getAttrVal(this.element,"data-shapehovercolor")&&(this.model.shapeHoverColor=eval("("+sf.getAttrVal(this.element,"data-shapehovercolor")+")")),this.model.customCSS=sf.getAttrVal(this.element,"data-customcss"),this.model.customImageHeight=Number(sf.getAttrVal(this.element,"data-customimageheight",this.model.customImageHeight)),this.model.customImageWidth=Number(sf.getAttrVal(this.element,"data-customimagewidth",this.model.customImageWidth)),this.model.clientSideClick=sf.getAttrVal(this.element,"data-onclick"),this.model.clientSideMouseOut=sf.getAttrVal(this.element,"data-onmouseout"),this.model.clientSideMouseOver=sf.getAttrVal(this.element,"data-onmouseover"),this.model.clientSideValueChange=sf.getAttrVal(this.element,"data-onvaluechange"),this.model.clientSideOnLoad=sf.getAttrVal(this.element,"data-onload"),this.model.clientSideOnCustomShapeDrawing=sf.getAttrVal(this.element,"data-oncustomshape"),this._notClipped=!0},_renderControl:function(){var bgcolor,shapebgcolor,shapeselectcolor,shapehovercolor,glowcolor,checkValue;this.model.renderMode=="ios"?(bgcolor=JSON.stringify({ColorInfo:[{ColorStop:NaN,Color:{R:255,G:255,B:255,A:0,IsKnownColor:!0,IsEmpty:!1,IsNamedColor:!0,IsSystemColor:!1,Name:"Transparent"}}]}),shapebgcolor=JSON.stringify({ColorInfo:[{ColorStop:NaN,Color:{R:255,G:157,B:9,A:100,IsKnownColor:!1,IsEmpty:!1,IsNamedColor:!1,IsSystemColor:!1,Name:"64ff9d09"}}]}),shapeselectcolor=JSON.stringify({ColorInfo:[{ColorStop:0,Color:{R:193,G:223,B:247,A:100,IsKnownColor:!1,IsEmpty:!1,IsNamedColor:!1,IsSystemColor:!1,Name:"64c1dff7"}},{ColorStop:1,Color:{R:93,G:159,B:210,A:100,IsKnownColor:!1,IsEmpty:!1,IsNamedColor:!1,IsSystemColor:!1,Name:"645d9fd2"}}]}),shapehovercolor=JSON.stringify({ColorInfo:[{ColorStop:0,Color:{R:128,G:182,B:225,A:100,IsKnownColor:!1,IsEmpty:!1,IsNamedColor:!1,IsSystemColor:!1,Name:"6480b6e1"}},{ColorStop:1,Color:{R:85,G:149,B:198,A:100,IsKnownColor:!1,IsEmpty:!1,IsNamedColor:!1,IsSystemColor:!1,Name:"645595c6"}}]})):this.model.renderMode=="android"?(bgcolor=JSON.stringify({ColorInfo:[{ColorStop:NaN,Color:{R:51,G:181,B:229,A:100,IsKnownColor:!1,IsEmpty:!1,IsNamedColor:!1,IsSystemColor:!1,Name:"6433b5e5"}}]}),shapebgcolor=JSON.stringify({ColorInfo:[{ColorStop:NaN,Color:{R:183,G:183,B:183,A:100,IsKnownColor:!1,IsEmpty:!1,IsNamedColor:!1,IsSystemColor:!1,Name:"64b7b7b7"}}]}),shapeselectcolor=JSON.stringify({ColorInfo:[{ColorStop:NaN,Color:{R:51,G:181,B:229,A:100,IsKnownColor:!1,IsEmpty:!1,IsNamedColor:!1,IsSystemColor:!1,Name:"6433b5e5"}}]}),shapehovercolor=JSON.stringify({ColorInfo:[{ColorStop:NaN,Color:{R:51,G:181,B:229,A:100,IsKnownColor:!1,IsEmpty:!1,IsNamedColor:!1,IsSystemColor:!1,Name:"6433b5e5"}}]}),glowcolor=JSON.stringify({ColorInfo:[{ColorStop:NaN,Color:{R:74,G:188,B:230,A:100,IsKnownColor:!1,IsEmpty:!1,IsNamedColor:!1,IsSystemColor:!1,Name:"644abce6"}}]})):this.model.renderMode=="windows"?(bgcolor=JSON.stringify({ColorInfo:[{ColorStop:NaN,Color:{R:51,G:181,B:229,A:100,IsKnownColor:!1,IsEmpty:!1,IsNamedColor:!1,IsSystemColor:!1,Name:"6433b5e5"}}]}),shapebgcolor=JSON.stringify({ColorInfo:[{ColorStop:NaN,Color:{R:77,G:77,B:77,A:100,IsKnownColor:!1,IsEmpty:!1,IsNamedColor:!1,IsSystemColor:!1,Name:"64b7b7b7"}}]}),shapeselectcolor=this.model.editMode==!0?JSON.stringify({ColorInfo:[{ColorStop:NaN,Color:{R:255,G:255,B:255,A:100,IsKnownColor:!1,IsEmpty:!1,IsNamedColor:!1,IsSystemColor:!1,Name:"6433b5e5"}}]}):JSON.stringify({ColorInfo:[{ColorStop:NaN,Color:{R:0,G:0,B:0,A:0,IsKnownColor:!1,IsEmpty:!1,IsNamedColor:!1,IsSystemColor:!1,Name:"6433b5e5"}}]}),shapehovercolor=JSON.stringify({ColorInfo:[{ColorStop:NaN,Color:{R:255,G:255,B:255,A:100,IsKnownColor:!1,IsEmpty:!1,IsNamedColor:!1,IsSystemColor:!1,Name:"6433b5e5"}}]})):(bgcolor=JSON.stringify({ColorInfo:[{ColorStop:NaN,Color:{R:255,G:255,B:255,A:0,IsKnownColor:!0,IsEmpty:!1,IsNamedColor:!0,IsSystemColor:!1,Name:"Transparent"}}]}),shapebgcolor=JSON.stringify({ColorInfo:[{ColorStop:0,Color:{R:101,G:101,B:101,A:100,IsKnownColor:!1,IsEmpty:!1,IsNamedColor:!1,IsSystemColor:!1,Name:"64656565"}},{ColorStop:1,Color:{R:35,G:35,B:35,A:100,IsKnownColor:!1,IsEmpty:!1,IsNamedColor:!1,IsSystemColor:!1,Name:"64232323"}}]}),shapeselectcolor=JSON.stringify({ColorInfo:[{ColorStop:0,Color:{R:193,G:223,B:247,A:100,IsKnownColor:!1,IsEmpty:!1,IsNamedColor:!1,IsSystemColor:!1,Name:"64c1dff7"}},{ColorStop:1,Color:{R:93,G:159,B:210,A:100,IsKnownColor:!1,IsEmpty:!1,IsNamedColor:!1,IsSystemColor:!1,Name:"645d9fd2"}}]}),shapehovercolor=JSON.stringify({ColorInfo:[{ColorStop:0,Color:{R:128,G:182,B:225,A:100,IsKnownColor:!1,IsEmpty:!1,IsNamedColor:!1,IsSystemColor:!1,Name:"6480b6e1"}},{ColorStop:1,Color:{R:85,G:149,B:198,A:100,IsKnownColor:!1,IsEmpty:!1,IsNamedColor:!1,IsSystemColor:!1,Name:"645595c6"}}]})),(this.model.renderMode=="android"||this.model.renderMode=="windows")&&(this.model.spaceBetweenShapes=15),this.model.renderMode=="ios"&&(this.model.precision="full"),this.model.renderingEngine=="client"&&(bgcolor=bgcolor.replace("null",NaN),shapebgcolor=shapebgcolor.replace("null",NaN),shapeselectcolor=shapeselectcolor.replace("null",NaN),shapehovercolor=shapehovercolor.replace("null",NaN),this.model.backgroundColor=eval("("+bgcolor+")"),this.model.shapeBackgroundColor=eval("("+shapebgcolor+")"),this.model.shapeSelectedColor=eval("("+shapeselectcolor+")"),this.model.shapeHoverColor=eval("("+shapehovercolor+")"),this.model.renderMode=="android"&&(glowcolor=glowcolor.replace("null",NaN),this.model.glowColor=eval("("+glowcolor+")"))),this.model.precision=="full"?(checkValue=Math.round(this.model.currentValue),this.model.currentValue=checkValue-checkValue%this.model.incrementStep,this._currentIndex=Number(this.model.currentValue/this.model.incrementStep)):this.model.precision=="exact"?(checkValue=Math.ceil(this.model.currentValue),this.model.currentValue=Math.round(this.model.currentValue,1),this.model.currentValue%this.model.incrementStep!=0?(checkValue=checkValue+checkValue%this.model.incrementStep,CurrentIndex=Number(checkValue/this.model.incrementStep)):(checkValue=this.model.currentValue,CurrentIndex=Number(checkValue/this.model.incrementStep))):(checkValue=Math.ceil(this.model.currentValue),this.model.currentValue=this.model.currentValue-this.model.currentValue%(Number(this.model.incrementStep)/2),this.model.currentValue%this.model.incrementStep!=0?(checkValue=checkValue+checkValue%this.model.incrementStep,CurrentIndex=Number(checkValue/this.model.incrementStep)):(checkValue=this.model.currentValue,CurrentIndex=Number(this.model.currentValue/this.model.incrementStep))),$(this.element).attr("id",this.model.id),$(this.element).addClass("ratingwrpper"),canvasDiv=document.createElement("div"),$(canvasDiv).attr("id",this.model.id+"_CanvasWrapper"),$(canvasDiv).addClass("canvaswrpper"),$(canvasDiv).css({display:"inline-block"}),canvasRating=document.createElement("canvas"),$(canvasRating).attr("id",this.model.id+"_Canvas"),this.model.renderMode=="windows"&&$(canvasDiv).css({"-ms-touch-action":"none"}),$(canvasDiv).append(canvasRating),$($(this.element)).append(canvasDiv),hiddenField=document.createElement("input"),$(hiddenField).attr({type:"hidden",id:this.model.id+"_HiddenField",name:this.model.id,value:this.model.currentValue}),$(this.element).append(hiddenField),this.model.renderMode=="ios"&&(this.model.shapeWidth==16&&this.model.shapeHeight==16&&(this.model.shapeHeight=25,this.model.shapeWidth=25),this.model.spaceBetweenShapes==1&&(this.model.spaceBetweenShapes=15)),(this.model.renderMode=="android"||this.model.renderMode=="windows")&&(this.model.shapeWidth==16&&this.model.shapeHeight==16?(this.model.shapeHeight=25,this.model.shapeWidth=25):this.model.spaceBetweenShapes==1&&(this.model.spaceBetweenShapes=0)),this._initObjects()},_wireEvents:function(){if(this.model.editMode){this._canvasMDDelegate=$.proxy(this._canvasMouseDownHandler,this),this._canvasMMDelegate=$.proxy(this._canvasMouseMoveHandler,this),this._canvasMUDelegate=$.proxy(this._canvasMouseUpHandler,this);var n=$(this.element).find("#"+this.model.id+"_Canvas");sf.bindTouchEvent(n,this._startEv,this._canvasMDDelegate),this.model.renderMode!="android"&&this.model.renderMode!="windows"&&sf.bindTouchEvent(n,this._moveEv,this._canvasMMDelegate),sf.bindTouchEvent(n,this._endEv,this._canvasMUDelegate),sf.isTouchDevice()||(this._canvasMODelegate=$.proxy(this._canvasMouseOutHandler,this),this._canvasCDelegate=$.proxy(this._canvasClickHandler,this),$(this.element).find("#"+this.model.id+"_Canvas").bind("mouseout",this._canvasMODelegate),$(this.element).find("#"+this.model.id+"_Canvas").bind("click",this._canvasCDelegate))}},_unWireEvents:function(){var n=$(this.element).find("#"+this.model.id+"_Canvas");sf.unBindTouchEvent(n,this._startEv,this._canvasMDDelegate),sf.unBindTouchEvent(n,this._moveEv,this._canvasMMDelegate),sf.unBindTouchEvent(n,this._endEv,this._canvasMUDelegate),sf.isTouchDevice()||($(this.element).find("#"+this.model.id+"_Canvas").unbind("mouseout",this._canvasMODelegate),$(this.element).find("#"+this.model.id+"_Canvas").unbind("click",this._canvasCDelegate))},_setEditMode:function(n){n=Boolean(n),n?(this._setRatingEditMode(n),this._wireEvents()):(this._unWireEvents(),this._setRatingEditMode(n)),this._renderRatingControl()},_setRatingEditMode:function(n){this.model.editMode=n,this._isLoaded&&(this.model.editMode?this._wireEvents():this._unWireEvents())},SetCustomData:function(n){this._customData=n},GetCustomData:function(){return this._customData},_canvasMouseDownHandler:function(n){sf.blockDefaultActions(n),this._canvasAction="MouseDown",(this.model.renderMode=="android"||this.model.renderMode=="windows")&&sf.bindTouchEvent($(this.element).find("#"+this.model.id+"_Canvas"),this._moveEv,this._canvasMMDelegate)},_canvasMouseMoveHandler:function(n){sf.blockDefaultActions(n),n=sf.isTouchDevice()?n.changedTouches[0]:n,this._canvasAction="MouseMove",this._getCursorPosition(n),this.model.allowReset?this.model.orientation=="horizontal"?this._mousePosition.x>this.model.shapeWidth&&this._mouseMove(n):this._mousePosition.y>this.model.shapeHeight&&this._mouseMove(n):this._mouseMove(n)},_getNormalValue:function(n){var t,i,r,u;return this.model.orientation=="horizontal"?(t=n.x-$(this.element).offset().left,i=t/this.element.offsetWidth,r=$(this.element).width()):(t=n.y-$(this.element).offset().top,i=t/this.element.offsetHeight,r=$(this.element).height()),u=i*r,this._trimValue(u)},_trimValue:function(n){var t=1,i=n%t,r=n-i;return Math.abs(i)*2>=t&&(r+=i>0?t:-t),parseFloat(r.toFixed(5))},_mouseMove:function(n){var o=this._shapesCount,i=this._canvasContext,e,s,u,t,r,f,h;if(this._getCursorPosition(n),this._mousepos=this.model.orientation=="vertical"?this._mousePosition.y:this._mousePosition.x,u=0,t=0,this.model.orientation=="vertical"?(u=Math.floor(this._mousepos-1)/(this.model.shapeHeight+this.model.spaceBetweenShapes),e=(this._mousepos-1-u*this.model.spaceBetweenShapes)*this.model.incrementStep/this.model.shapeHeight):(u=Math.floor(this._mousepos-1)/(this.model.shapeWidth+this.model.spaceBetweenShapes),e=((u-1)*this.model.incrementStep+this.model.shapeWidth/this.model.shapeWidth*this.model.incrementStep).toFixed(1)),r=this._getRoundOffValue(e),this.model.renderMode=="ios"&&(f=this._getRoundOffValue(u),f<u&&(f=f+1),r<e&&(r=r+1),this._clearRatingControl(i),i.save()),this.model.allowReset&&(r=r-1,this.model.renderMode=="ios"&&(t=t+1,o=o+1,this._renderResetButton(i),i.restore())),this._currentMouseMove=r,this.model.renderMode=="ios"&&$($(this.element).find("#"+this.model.id+"_HiddenField")).val(this._currentMouseMove),this._canvasContext.canvas.title=r,this._canvasContext.canvas.alt=r,this.model.renderMode=="normal"||this.model.renderMode=="android"||this.model.renderMode=="windows")this._renderRatingControl();else{for(i.restore(),t;t<f;t++)this._drawRatingShape(i,t);for(i.restore(),h=this.model.shape,this.model.shape="circle",t=f;t<o;t++)this.model.renderMode=="ios"&&(this._draw=!0),this._drawRatingShape(i,t);this.model.shape=h,i.restore()}s=this.model.allowReset?{element:$(this.element),value:this.model.currentValue-1}:{element:$(this.element),value:this.model.currentValue},this.model.clientSideMouseOver&&this._trigger("clientSideMouseOver",s)},_canvasMouseUpHandler:function(n){var t;sf.blockDefaultActions(n),(this.model.renderMode=="android"||this.model.renderMode=="windows")&&sf.unBindTouchEvent($(this.element).find("#"+this.model.id+"_Canvas"),this._moveEv,this._canvasMMDelegate),n=sf.isTouchDevice()?n.changedTouches[0]:n,this._canvasAction="MouseUp",this._getCursorPosition(n),this.model.allowReset?this.model.orientation=="horizontal"?this._mousePosition.x<=this.model.shapeWidth?(this.model.currentValue=0,t={element:$(this.element),value:this.model.currentValue},this.model.clientSideValueChange&&this._trigger("clientSideValueChange",t),(this.model.renderMode=="normal"||this.model.renderMode=="android"||this.model.renderMode=="windows")&&(this._clearRatingControl(this._canvasContext),this._renderRatingControl())):this._mouseUp(n):this._mousePosition.y<=this.model.shapeHeight?(this.model.currentValue=0,t={element:$(this.element),value:this.model.currentValue},this.model.clientSideValueChange&&this._trigger("clientSideValueChange",t),(this.model.renderMode=="normal"||this.model.renderMode=="android"||this.model.renderMode=="windows")&&(this._clearRatingControl(this._canvasContext),this._renderRatingControl())):this._mouseUp(n):this._mouseUp(n)},_mouseUp:function(n){var r=this._canvasContext,o=this._shapesCount,i=0,t,f,h;this.model.renderMode=="normal"&&this._renderRatingControl(),this._mousepos=this.model.orientation=="vertical"?this._mousePosition.y:this._mousePosition.x,this._getCursorPosition(n);var e,s,u=0,c=this.model.shapeWidth,l=this.model.shapeHeight;if(this.model.orientation=="vertical"?(u=Math.floor(this._mousepos-1)/(this.model.shapeHeight+this.model.spaceBetweenShapes),e=(this._mousepos-1-u*this.model.spaceBetweenShapes)*this.model.incrementStep/this.model.shapeHeight):(u=Math.floor(this._mousepos-1)/(this.model.shapeWidth+this.model.spaceBetweenShapes),e=((u-1)*this.model.incrementStep+this.model.shapeWidth/this.model.shapeWidth*this.model.incrementStep).toFixed(1)),t=this._getRoundOffValue(e),this.model.renderMode=="ios"&&(f=this._getRoundOffValue(u),f<u&&(f=f+1),t<e&&(t=t+1),this._clearRatingControl(r),r.save()),this.model.allowReset&&(t=t-1,this.model.renderMode=="ios"&&(i=i+1,o=o+1,this._renderResetButton(r),r.restore())),$(this.element).mRating("option","CurrValue",t),this.model.currentValue=t,this._currentMouseMove=t,$($(this.element).find("#"+this.model.id+"_HiddenField")).val(this._currentMouseMove),this._canvasContext.canvas.title=t,this._canvasContext.canvas.alt=t,this.model.renderMode=="normal"||this.model.renderMode=="android"||this.model.renderMode=="windows")this._renderRatingControl();else{for(r.restore(),i;i<f;i++)this._drawRatingShape(r,i);for(r.restore(),h=this.model.shape,this.model.shape="circle",i=f;i<o;i++)this.model.renderMode=="ios"&&(this._draw=!0),this._drawRatingShape(r,i);this.model.shape=h,r.restore()}s=this.model.allowReset?{element:$(this.element),value:this.model.currentValue-1}:{element:$(this.element),value:this.model.currentValue},this.model.clientSideValueChange&&this._trigger("clientSideValueChange",s)},_canvasMouseOutHandler:function(){var n;this._canvasAction="MouseOut",(this.model.renderMode=="normal"||this.model.renderMode=="android"||this.model.renderMode=="windows")&&(this._clearRatingControl(this._canvasContext),this._renderRatingControl()),n=this.model.allowReset?{element:$(this.element),value:this.model.currentValue-1}:{element:$(this.element),value:this.model.currentValue},this.model.clientSideMouseOut&&this._trigger("clientSideMouseOut",n)},_canvasClickHandler:function(n){var r,i,t;this.model.renderMode=="ios"&&this._mouseMove(n),this.model.autoPostBack&&(r=this,i=this.model.currentValue,this.model.allowReset&&(i=i-1),t={CurrentValue:i,CustomData:this.GetCustomData()},$.ajax({type:"Post",url:r.model.requestMapper,data:t,dataType:"html",async:!1})),this._hiddenField.value=this.model.currentValue,t=this.model.allowReset?{element:$(this.element),value:this.model.currentValue-1}:{element:$(this.element),value:this.model.currentValue},this.model.clientSideClick&&this._trigger("clientSideClick",t)},_renderRatingControl:function(){var t=this._canvasElement,n,i;(typeof window.G_vmlCanvasManager!="undefined"&&(t=window.G_vmlCanvasManager.initElement(t)),t&&t.getContext)&&this._canvasElement.getContext&&(this._canvasContext=this._canvasElement.getContext("2d"),n=this._canvasContext,this._shapesCount=Math.floor((this.model.maxValue-this.model.minValue)/this.model.incrementStep),this._canvasWidth=0,this._canvasHeight=0,this.model.orientation=="vertical"?(this._canvasWidth=this.model.shapeWidth+3,(this.model.renderMode=="android"||this.model.renderMode=="windows")&&(this._canvasWidth+=30),this.model.allowReset?(this._canvasHeight=(this._shapesCount+1)*this.model.shapeHeight,this._canvasHeight+=this._shapesCount*this.model.spaceBetweenShapes):(this._canvasHeight=this._shapesCount*this.model.shapeHeight,this._canvasHeight+=this.model.renderMode=="android"||this.model.renderMode=="windows"?this._shapesCount*this.model.spaceBetweenShapes:(this._shapesCount-1)*this.model.spaceBetweenShapes)):(this._canvasHeight=this.model.shapeHeight+3,(this.model.renderMode=="android"||this.model.renderMode=="windows")&&(this._canvasHeight+=30),this.model.allowReset?(this._canvasWidth=(this._shapesCount+1)*this.model.shapeWidth,this._canvasWidth+=this.model.renderMode=="android"||this.model.renderMode=="windows"?this._shapesCount*this.model.spaceBetweenShapes:(this._shapesCount-1)*this.model.spaceBetweenShapes):(this._canvasWidth=this._shapesCount*this.model.shapeWidth,this._canvasWidth+=this._shapesCount*this.model.spaceBetweenShapes)),n.canvas.width=this._canvasWidth,n.canvas.height=this._canvasHeight,i=n.createLinearGradient(0,0,this._canvasWidth,this._canvasHeight),this.model.backgroundColor.ColorInfo[0].ColorStop.toString()!="NaN"&&$.each(this.model.backgroundColor.ColorInfo,function(n,t){i.addColorStop(t.ColorStop.toString()=="NaN"?0:t.ColorStop,"#"+(t.Color.Name?sf.hexFromRGB(t.Color):t.Color))}),(this.model.renderMode=="android"||this.model.renderMode=="windows")&&(this.model.orientation=="horizontal"?n.translate(7,15):n.translate(15,7)),n.fillStyle=i,n.fillRect(0,0,n.canvas.width,n.canvas.height),this.model.allowReset&&this._renderResetButton(n),this._renderRatingShapes(n))},_renderResetButton:function(n){var i=this.model.shapeWidth,t=this.model.shapeHeight,r=0,u,f,e=t/8;this.model.orientation=="vertical"?(u=1,f=r*t+r*this.model.spaceBetweenShapes):(u=r*i+r*this.model.spaceBetweenShapes,f=1),n.save(),this._drawCircleShape(n,u,f,i,t),n.restore(),this._drawResetLine(n,u+i/4,t/2-e/2,i/2,t/8),n.restore()},_drawResetLine:function(n,t,i,r,u){n.beginPath(),n.moveTo(t,i),n.lineTo(t+r,i),n.lineTo(t+r,i+u),n.lineTo(t,i+u),n.closePath(),n.fillStyle="rgb(255,255,255)",n.fill()},_renderRatingShapes:function(n){var u=this._shapesCount,i,t=this.model.currentValue,f,r,e,o;if(this.model.allowReset?(i=u+1,st=1,t=t+1):(i=u,st=0),f=Math.floor(t/this.model.incrementStep),r=t%this.model.incrementStep,t=this.model.currentValue,this.model.renderMode=="ios"){if(this.model.currentValue!=0){for(st=st;st<t;st++)this._drawRatingShape(n,st);n.restore(),this.model.allowReset&&(this._drawRatingShape(n,st),st=st+1)}e=this.model.shape,this.model.shape="circle"}for(st=st;st<i;st++)this.model.renderMode=="android"&&this._canvasAction=="MouseMove"&&(n.save(),this._drawGlowShape(n,st),n.restore()),n.save(),this.model.renderMode=="ios"&&(this._draw=!0),this._drawRatingShape(n,st),(this.model.renderMode=="normal"||this.model.renderMode=="android"||this.model.renderMode=="windows")&&(st<f?(this._notClipped=!0,this._setClippingRegion(n,st,this.model.shapeWidth,!0)):r!=0?(this._notClipped=!0,o=r*this.model.shapeWidth/this.model.incrementStep,this._setClippingRegion(n,st,o,!0),r=0):this._setClippingRegion(n,st,this.model.shapeWidth,!1)),n.restore();this.model.renderMode=="ios"&&st==i&&(this.model.shape=e)},_drawRatingShape:function(n,t){var u=this.model.shapeWidth,f=this.model.shapeHeight,i,r;this.model.orientation=="vertical"?(i=1,r=t*f+t*this.model.spaceBetweenShapes):(i=t*u+t*this.model.spaceBetweenShapes,r=0),this._drawShape(n,i,r,u,f),$(this.element).find("#"+this.model.id+"_CustomImage").css("display","none")},_drawGlowShape:function(n,t){this._glow=!0;var u=this.model.shapeWidth,f=this.model.shapeHeight,i,r;this.model.orientation=="vertical"?(i=1,r=t*f+t*this.model.spaceBetweenShapes):(i=t*u+t*this.model.spaceBetweenShapes,r=0),this._drawShape(n,i-7.5,r-7.5,u+15,f+15),this._glow=!1},_drawShape:function(n,t,i,r,u){switch(this.model.shape){case"Custom":n.fillStyle=this._generateGradient(n,this.model.shapeBackgroundColor,t,i);var f={element:$(this.element),value:this.model.currentValue,context:n,x1:t,y1:i,width:this.model.shapeWidth,height:this.model.shapeHeight};this.model.clientSideOnCustomShapeDrawing&&this._trigger("clientSideOnCustomShapeDrawing",f);break;case"Heart":this._drawHeartenShape(n,t,i,r,u);break;case"Pentagon":this._drawPentagonShape(n,t,i,r,u);break;case"Diamond":this._drawDiamondShape(n,t,i,r,u);break;case"Triangle":this._drawTriangleShape(n,t,i,r,u);break;case"Square":this._drawSquareShape(n,t,i,r,u);break;case"circle":this._drawCircleShape(n,t,i,r,u);break;default:this._drawStarShape(n,t,i,r,u)}},_drawStarShape:function(n,t,i,r,u){n.beginPath(),this.model.renderMode=="windows"&&this._notClipped&&(n.strokeStyle=this._generateGradient(n,this.model.shapeBackgroundColor,t,i)),n.moveTo(t+r/6,i+u),n.lineTo(t+r,i+u/3),n.lineTo(t,i+u/3),n.lineTo(t+r-r/6,i+u),n.lineTo(t+r/2,i),n.closePath(),n.fillStyle=this._glow?this._generateGradient(n,this.model.glowColor,t,i):this._generateGradient(n,this.model.shapeBackgroundColor,t,i),this._glow||n.stroke(),n.fill()},_drawCircleShape:function(n,t,i,r,u){n.beginPath(),this._draw?(n.arc(t+r/2,i+u/2,u/9,0,Math.PI*2,!0),this._draw=!1):n.arc(t+r/2,i+u/2,u/2,0,Math.PI*2,!0),n.closePath(),n.fillStyle=this._glow?this._generateGradient(n,this.model.glowColor,t,i):this._generateGradient(n,this.model.shapeBackgroundColor,t,i),this._glow||n.stroke(),n.fill()},_drawSquareShape:function(n,t,i,r,u){n.beginPath(),n.moveTo(t,i),n.lineTo(t+r,i),n.lineTo(t+r,i+u),n.lineTo(t,i+u),n.closePath(),n.fillStyle=this._glow?this._generateGradient(n,this.model.glowColor,t,i):this._generateGradient(n,this.model.shapeBackgroundColor,t,i),this._glow||n.stroke(),n.fill()},_drawTriangleShape:function(n,t,i,r,u){n.beginPath(),n.moveTo(t+r/2,i),n.lineTo(t+r,i+u),n.lineTo(t,i+u),n.closePath(),n.fillStyle=this._glow?this._generateGradient(n,this.model.glowColor,t,i):this._generateGradient(n,this.model.shapeBackgroundColor,t,i),this._glow||n.stroke(),n.fill()},_drawDiamondShape:function(n,t,i,r,u){n.beginPath(),n.moveTo(t+r/2,i),n.lineTo(t+r,i+u/2),n.lineTo(t+r/2,i+u),n.lineTo(t,i+u/2),n.closePath(),n.fillStyle=this._glow?this._generateGradient(n,this.model.glowColor,t,i):this._generateGradient(n,this.model.shapeBackgroundColor,t,i),this._glow||n.stroke(),n.fill()},_drawPentagonShape:function(n,t,i,r,u){n.beginPath(),n.moveTo(t+r/2,i),n.lineTo(t+r,i+u/2),n.lineTo(t+r-r/4,i+u),n.lineTo(t+r/4,i+u),n.lineTo(t,i+u/2),n.closePath(),n.fillStyle=this._glow?this._generateGradient(n,this.model.glowColor,t,i):this._generateGradient(n,this.model.shapeBackgroundColor,t,i),this._glow||n.stroke(),n.fill()},_drawHeartenShape:function(n,t,i,r,u){t+=r/2,i+=u/4,u-=u*.25,n.beginPath(),n.moveTo(t,i),n.bezierCurveTo(t,i-u*.4,t-r/2,i-u*.4,t-r/2,i),n.bezierCurveTo(t-r/2,i+u/2,t,i+u/2,t,i+u),n.bezierCurveTo(t,i+u/2,t+r/2,i+u/2,t+r/2,i),n.bezierCurveTo(t+r/2,i-u*.4,t,i-u*.4,t,i),n.closePath(),n.fillStyle=this._glow?this._generateGradient(n,this.model.glowColor,t,i):this._generateGradient(n,this.model.shapeBackgroundColor,t,i),this._glow||n.stroke(),n.fill()},_setClippingRegion:function(n,t,i,r){var e=this.model.shapeWidth,o=this.model.shapeHeight,u,f,s,h;this.model.orientation=="vertical"?(u=1,f=t*o+t*this.model.spaceBetweenShapes):(u=t*e+t*this.model.spaceBetweenShapes,f=1),n.clip(),n.save(),n.beginPath(),this._canvasAction=="MouseMove"?(this._mouseMoveValue!=null?(s=this._mouseMoveValue*e+Math.floor(this._mouseMoveValue)*this.model.spaceBetweenShapes,h=this._mouseMoveValue*o+Math.floor(this._mouseMoveValue)*this.model.spaceBetweenShapes):(s=this._mousePosition.x,h=this._mousePosition.y),n.fillStyle=this._generateGradient(n,this.model.shapeHoverColor,u,f),this.model.renderMode=="windows"&&(n.fillStyle=this._generateGradient(n,this._canvasAction=="MouseMove"?this.model.shapeHoverColor:this.model.shapeBackgroundColor,u,f)),n.fill(),this.model.orientation=="vertical"?n.fillRect(0,0,e,h):n.fillRect(0,0,s,o)):(r&&(n.fillStyle=this._generateGradient(n,this.model.shapeSelectedColor,u,f),n.fill(),r=!1),this.model.orientation=="vertical"?n.fillRect(u,f,e,i):n.fillRect(u,f,i,o)),n.restore()},_generateGradient:function(n,t,i,r){var u=n.createRadialGradient(i+this.model.shapeWidth/2,r+this.model.shapeHeight/2,this.model.shapeHeight*.1/2,i+this.model.shapeWidth/2,r+this.model.shapeHeight/2,this.model.shapeHeight/2);return $.each(t.ColorInfo,function(n,t){u.addColorStop(t.ColorStop.toString()=="NaN"?0:t.ColorStop,"#"+(t.Color.Name?sf.hexFromRGB(t.Color):t.Color))}),u},_clearRatingControl:function(n){n.clearRect(0,0,this._canvasWidth,this._canvasHeight)},_getCursorPosition:function(n){var t,i;return n.pageX||n.pageY?(t=n.pageX,i=n.pageY):(t=n.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,i=n.clientY+document.body.scrollTop+document.documentElement.scrollTop),t-=$(this._canvasElement).offset().left,i-=$(this._canvasElement).offset().top,this._mousePosition={x:t,y:i},this._mousePosition},_getRoundOffValue:function(n){var t;return this.model.precision=="full"?(t=Math.round(n),t=t-t%this.model.incrementStep):this.model.precision=="exact"?t=n:(n=Math.round(n/.5)*.5,n=n-n%(this.model.incrementStep/2),t=n),t},_fillExactPrecision:function(n,t){var i=this._stars.index(n)+1;this.model.orientation=="horizontal"?($(this._selector+":lt("+i+")").css({width:this.model.starWidth+"px"}),$(this._selector+":gt("+i+")").css({width:"0px"}),$(n).css({width:t+"px"}).attr("title",((i-1)*this.model.incrementStep+t/this.model.starWidth*this.model.incrementStep).toFixed(1))):($(this._selector+":lt("+i+")").css({height:this.model.starHeight+"px"}),$(this._selector+":gt("+i+")").css({height:"0px"}),$(n).css({height:t+"px"}).attr("title",((i-1)*this.model.incrementStep+t/this.model.starHeight*this.model.incrementStep).toFixed(1)))},_fillHalfPrecision:function(n,t){var i=this._stars.index(n)+1;this.model.orientation=="horizontal"?($(this._selector+":lt("+i+")").css({width:this.model.starWidth+"px"}),$(this._selector+":gt("+i+")").css({width:"0px"}),t<=this.model.starWidth/2?(t=this.model.starWidth/2,$(n).css({width:t+"px"}).attr("title",((i-1)*this.model.incrementStep+t/this.model.starWidth*this.model.incrementStep).toFixed(1))):(t=this.model.starWidth,$(n).css({width:t+"px"}).attr("title",((i-1)*this.model.incrementStep+t/this.model.starWidth*this.model.incrementStep).toFixed(1)))):($(this._selector+":lt("+i+")").css({height:this.model.starHeight+"px"}),$(this._selector+":gt("+i+")").css({height:"0px"}),t<=this.model.starHeight/2?(t=this.model.starHeight/2,$(n).css({height:t+"px"}).attr("title",((i-1)*this.model.incrementStep+t/this.model.starHeight*this.model.incrementStep).toFixed(1))):(t=this.model.starHeight,$(n).css({height:t+"px"}).attr("title",((i-1)*this.model.incrementStep+t/this.model.starHeight*this.model.incrementStep).toFixed(1))))},_refreshRating:function(n){var t=(this.model.currentValue/this.model.incrementStep).toFixed(1);this.model.orientation=="horizontal"?(t=((t%1).toFixed(1)!=0?(t%1).toFixed(1):t/this.model.currentIndex)*this.model.starWidth,this._stars!=null&&$(this._stars[this.model.currentIndex-1]).css({width:t+"px"}),$(this._selector+":lt("+n+")").css({width:this.model.starWidth+"px"})):(t=((t%1).toFixed(1)!=0?(t%1).toFixed(1):t/this.model.currentIndex)*this.model.starHeight,this._stars!=null&&$(this._stars[this.model.currentIndex-1]).css({height:t+"px"}),$(this._selector+":lt("+n+")").css({height:this.model.starHeight+"px"}))},_reset:function(){$(this._selector).removeClass("active").removeClass("selected").addClass("inactive"),this.model.currentIndex=0,this.model.currentValue=0,this._hiddenField.value=this.model.currentValue;var n={element:$(this.element),value:this.model.currentValue};this.model.clientSideValueChange&&this._trigger("clientSideValueChange",n)},_setHalfprecision:function(n){n=n-n%(parseFloat(this.model.incrementStep)/2),n=n/this.model.incrementStep,n*10%10==0?($(this._selector).removeClass("active").removeClass("selected").addClass("inactive").removeAttr("style"),$(this._selector+":lt("+n+")").removeClass("inactive").removeClass("active").addClass("selected")):($(this._selector).removeClass("active").removeClass("selected").addClass("inactive").removeAttr("style"),$(this._selector+":lt("+Math.round(n-1)+")").removeClass("selected"),$(this._selector+":lt("+Math.round(n-1)+")").removeClass("inactive").removeClass("active").addClass("selected"),this.model.orientation=="horizontal"?$(this._selector+":eq("+Math.round(n-1)+")").css({width:this.model.starWidth/2+"px"}).addClass("selected"):$(this._selector+":eq("+Math.round(n-1)+")").css({height:this.model.starHeight/2+"px"}).addClass("selected"))},_setExactprecision:function(n){var t=parseFloat(n*10%10*.1);n=n-n%(parseFloat(this.model.incrementStep)/2),n*10%10==0?($(this._selector).removeClass("active").removeClass("selected").addClass("inactive").removeAttr("style"),$(this._selector+":lt("+n+")").removeClass("inactive").removeClass("active").addClass("selected"),this.model.orientation=="horizontal"?$(this._selector+":eq("+Math.round(n)+")").css({width:this.model.starWidth*t+"px"}).addClass("selected"):$(this._selector+":eq("+Math.round(n)+")").css({height:this.model.starHeight*t+"px"}).addClass("selected")):($(this._selector).removeClass("active").removeClass("selected").addClass("inactive").removeAttr("style"),$(this._selector+":lt("+Math.round(n-1)+")").removeClass("inactive").removeClass("active").addClass("selected"),this.model.orientation=="horizontal"?$(this._selector+":eq("+Math.round(n-1)+")").css({width:this.model.starWidth*t+"px"}).addClass("selected"):$(this._selector+":eq("+Math.round(n-1)+")").css({height:this.model.starHeight*t+"px"}).addClass("selected"))},setValue:function(n){this.model.precision=="full"?($(this._selector).removeClass("active").removeClass("selected").addClass("inactive").removeAttr("style"),$(this._selector+":lt("+Math.round(n)+")").removeClass("inactive").removeClass("active").addClass("selected")):this.model.precision=="half"?this._setHalfprecision(n):this._setExactprecision(n)},_setModel:function(n){var i=!1,t;for(t in n)t=="editMode"?this._setEditMode(this.model.editMode):(t=="renderMode"||t=="orientation"||t=="maxValue"||t=="shapeHeight"||t=="shapeWidth"||t=="minValue"||t=="incrementStep"||t=="currValue"||t=="precision")&&(i=!0);i&&this._refresh(),this._trigger("modelChange",{changes:n})},_refresh:function(){this._destroy(),this.element.addClass("m-rating"),this._renderControl(),this._wireEvents()},_clearElement:function(){this.element.html(""),this.element.removeAttr("class")},_destroy:function(){this._unWireEvents(),this._clearElement()}}),m.Rating.precision={Full:"full",Exact:"exact",Half:"half"},m.Rating.shape={Circle:"full",Diamond:"exact",Heart:"half",Pentagon:"pentagon",Square:"square",Star:"star",Custom:"custom",Triangle:"triangle"},m.Rating.orientation={Horizontal:"horizontal",Vertical:"vertical"}}(jQuery,Syncfusion),function(n,t,i){t.widget("mRadioButton","m.RadioButton",{_setFirst:!0,defaults:{id:null,touchEnd:i,touchStart:i,autoFormat:"darknight",active:!1,renderMode:"auto",renderingEngine:"client",ios:{renderType:"normal",imageUrl:null}},dataTypes:{renderMode:"enum",renderingEngine:"enum",active:"boolean",ios:{renderType:"enum"}},_init:function(){this._setValues(),this._wireEvents()},_setValues:function(){this.model.id=n(this.element).attr("id"),this.model.renderMode=sf.getAttrVal(this.element,"data-rendermode",this.model.renderMode),this.model.renderingEngine=sf.getAttrVal(this.element,"data-mode",this.model.renderingEngine),this.model.active=sf.getBooleanVal(this.element,"data-active",this.model.active),this.model.renderMode=="auto"&&sf.setRenderMode(this),this.model.renderMode=="normal"&&(this.model.autoFormat=sf.getAttrVal(this.element,"data-autoformat",this.model.autoFormat)),this.model.size=sf.getAttrVal(this.element,"data-size",this.model.size),this.model.renderMode=="ios"&&(this.model.ios.renderType=sf.getAttrVal(this.element,"data-rendertype",this.model.ios.renderType),this.model.ios.imageUrl=sf.getAttrVal(this.element,"data-imageurl")),this.model.touchEnd=sf.getAttrVal(this.element,"data-touchstop"),this.model.touchStart=sf.getAttrVal(this.element,"data-touchstart"),n(this.element).attr("data-role","none");var t=n(this.element);n(document).bind("pageinit",function(){t.attr("data-role","sf-m-radiobutton")}),this.model.renderingEngine=="client"&&this._renderControl()},_renderControl:function(){var t,r,u,i,e,f,o;this.model.renderMode!="normal"&&(t=n("<div><\/div>"),n(t).attr("id",this.model.id+"_input").addClass("sf-m-"+this.model.renderMode+" sf-m-radbtn"),r=n("<div><\/div>"),n(r).addClass("sf-inputdiv"),n(this.element).after(t),this.model.active&&n(this.element).attr("checked","checked"),n(this.element).addClass("sf-input"),n(r).append(this.element),u=n("<div><\/div>"),n(u).addClass("sf-innerdiv"),i=n("<span><\/span>"),e=this.model.active?"active":"default",n(i).addClass("sf-spanicon sf-state-"+e),this.model.renderMode=="ios"&&this.model.ios.renderType=="image"?(f=n("<img><\/img>"),this.model.ios.imageUrl!=null?n(f).attr("src",this.model.ios.imageUrl):n(f).addClass("sf-rdbtn-image sf-state-default"),n(i).append(f)):(o=n("<span><\/span>"),n(o).addClass("sf-spaninner sf-state-"+e),n(i).append(o)),n(u).append(i),n(t).append(r),n(t).append(u)),this._radiobutton=n(t)},_wireEvents:function(){startEvent=sf.isTouchDevice()?"touchstart":"mousedown",endEvent=sf.isTouchDevice()?"touchend":"mouseup",this._touchStartHandler=n.proxy(this._onTouchStart,this),this._touchStopHandler=n.proxy(this._onTouchStop,this),sf.isTouchDevice()?(sf.bindTouchEvent(this.model.renderMode!="normal"?this._radiobutton:this.element,startEvent,this._touchStartHandler),sf.bindTouchEvent(this.model.renderMode!="normal"?this._radiobutton:this.element,endEvent,this._touchStopHandler)):(n(this.model.renderMode!="normal"?this._radiobutton:this.element).bind(startEvent,this._touchStartHandler),n(this.model.renderMode!="normal"?this._radiobutton:this.element).bind(endEvent,this._touchStopHandler))},_unWireEvents:function(){sf.isTouchDevice()?(sf.unBindTouchEvent(this.model.renderMode!="normal"?this._radiobutton:this.element,startEvent,this._touchStartHandler),sf.unBindTouchEvent(this.model.renderMode!="normal"?this._radiobutton:this.element,endEvent,this._touchStopHandler)):(n(this.model.renderMode!="normal"?this._radiobutton:this.element).unbind(startEvent,this._touchStartHandler),n(this.model.renderMode!="normal"?this._radiobutton:this.element).unbind(endEvent,this._touchStopHandler))},_onTouchStart:function(){var i={element:n(this.model.renderMode!="normal"?this._radiobutton:this.element)};if(this.model.touchStart&&this._trigger("touchStart",i),!n(this.model.renderMode!="normal"?this._radiobutton:this.element).find(".sf-spaninner").hasClass("sf-state-active")){var r=n(this.model.renderMode!="normal"?this._radiobutton:this.element).find(".sf-input").attr("name"),u=n("input[name="+r+"]:radio"),t=this;n.each(u,function(i,r){t.model.renderMode=="ios"&&t.model.ios.renderType=="image"?n(r).parent().parent().find(".sf-rdbtn-image").removeClass("sf-state-active").addClass("sf-state-default"):t.model.renderMode=="ios"&&n(r).parent().parent().find(".sf-spanicon").removeClass("sf-state-active").addClass("sf-state-default"),n(r).parent().parent().find(".sf-spaninner").removeClass("sf-state-active").addClass("sf-state-default"),n(r).attr("checked",!1)}),this.model.renderMode=="ios"&&this.model.ios.renderType=="image"?n(this._radiobutton).find(".sf-rdbtn-image").addClass("sf-state-active").removeClass("sf-state-default"):this.model.renderMode=="ios"&&this.model.ios.renderType!="image"&&n(this._radiobutton).find(".sf-spanicon").addClass("sf-state-active").removeClass("sf-state-default"),n(this.model.renderMode!="normal"?this._radiobutton:this.element).find(".sf-spaninner").addClass("sf-state-active").removeClass("sf-state-default"),n(this.model.renderMode!="normal"?this._radiobutton:this.element).find(".sf-input").attr("checked",!0)}},_onTouchStop:function(){var t={element:n(this.model.renderMode!="normal"?this._radiobutton:this.element)};this.model.touchEnd&&this._trigger("touchEnd",t)},_setModel:function(n){var i=!1,t;for(t in n)(t=="renderMode"||t=="ios"||t=="android")&&(i=!0);i&&this._refresh(),this._trigger("modelChange",{changes:n})},_refresh:function(){this._destroy(),this.element.addClass("m-radiobutton"),this._renderControl(),this._wireEvents()},_clearElement:function(){var t=n("#"+this.model.id+"_input");this.element.insertAfter(t),t.remove(),this.element.removeAttr("class")},_destroy:function(){this._unWireEvents(),this._clearElement()}})}(jQuery,Syncfusion),function(n,t,i){t.widget("mScrollPanel","m.ScrollPanel",{_setFirst:!0,defaults:{hScroll:!0,vScroll:!0,x:0,y:0,bounce:!sf.isAndroid(),bounceLock:!1,momentum:!0,lockDirection:!0,useTransform:!0,useTransition:!1,topOffset:0,checkDOMChanges:!0,handleClick:!0,hScrollbar:!0,vScrollbar:!0,fixedScrollbar:sf.isAndroid(),hideScrollbar:!0,fadeScrollbar:!0,scrollbarClass:"",zoom:!1,zoomMin:1,zoomMax:6,doubleTapZoom:2,wheelAction:"scroll",renderMode:"auto",scrollType:"both",snap:!1,snapThreshold:1,onRefresh:null,onBeforeScrollStart:function(n){n.preventDefault()},onScrollStart:null,onBeforeScrollMove:null,onScrollMove:null,onBeforeScrollEnd:null,onScrollEnd:null,onTouchEnd:null,onDestroy:null,onZoomStart:null,onZoom:null,onZoomEnd:null,showScrollBar:!0},dataTypes:{hScroll:"boolean",showScrollBar:"boolean",vScroll:"boolean",bounceLock:"boolean",momentum:"boolean",lockDirection:"boolean",useTransform:"boolean",useTransition:"boolean",checkDOMChanges:"boolean",handleClick:"boolean",hScrollbar:"boolean",vScrollbar:"boolean",hideScrollbar:"boolean",fadeScrollbar:"boolean",scrollbarClass:"",zoom:"boolean",wheelAction:"enum",renderMode:"enum",snap:"boolean",scrollType:"enum"},_init:function(){var t=this;sf.isWindowsPhone()&&sf.browserDetect.version<=9?n(this.element).remove():(sf.removeHidden(this.element),this._setValues(),this._renderControl(),this._wireEvents(),sf.setHidden(element))},_setValues:function(){this.model.targetId=sf.getAttrVal(this.element,"data-targetid"),this._wrapper=sf.getCurrentPage().find("#"+this.model.targetId)[0],this._orgEle=n(this.element).clone(),this.model.scrollType=sf.getAttrVal(this.element,"data-scrolltype",this.model.scrollType).toLowerCase(),this.model.targetHeight=Number(sf.getAttrVal(this.element,"data-targetheight")),this.model.targetWidth=Number(sf.getAttrVal(this.element,"data-targetwidth")),this._scroller=this._wrapper.children[0],this.model.onScrollEnd=sf.getAttrVal(this.element,"data-onscrollend"),this.model.onScrollStart=sf.getAttrVal(this.element,"data-onscrollstart"),this.model.checkFixedPosition=n(this.element).attr("data-sfscroll")?n(this.element).attr("data-sfscroll")=="content"?!1:!0:!0,this.model.showScrollBar=sf.getBooleanVal(this.element,"data-showscrollbar",this.model.showScrollBar),this.model.renderMode=sf.getAttrVal(this.element,"data-rendermode",this.model.renderMode).toLowerCase(),this.model.renderMode=="auto"&&sf.setRenderMode(this),document.body.style.overflow="hidden";var t=this;this._styles=document.createElement("div").style,this._cssUA=this._userAgent()?"-"+this._userAgent().toLowerCase()+"-":"",this._transform=this._addPrefix("transform"),this._transitionProperty=this._addPrefix("transitionProperty"),this._transitionDuration=this._addPrefix("transitionDuration"),this._transformOrigin=this._addPrefix("transformOrigin"),this._transitionTimingFunction=this._addPrefix("transitionTimingFunction"),this._transitionDelay=this._addPrefix("transitionDelay"),this._has3d=this._addPrefix("perspective")in this._styles,this._hasTouch="ontouchstart"in window,this._hasTransform=this._userAgent()!==!1,this._hasTransitionEnd=this._addPrefix("transition")in this._styles,this._translateZ=this._has3d?" translateZ(0)":"",this._useTransform=this.model.useTransform,this._useTransform=this._hasTransform&&this._useTransform,this.model.hScrollbar=this.model.hScroll&&this.model.hScrollbar,this.model.vScrollbar=this.model.vScroll&&this.model.vScrollbar,this.model.zoom=this._useTransform&&this.model.zoom,this.model.useTransition=this._hasTransitionEnd&&this.model.useTransition,this.model.zoom&&sf.isAndroid()&&(this._translateZ=""),this.model.useTransition&&(this.model.fixedScrollbar=!0),this._resizeEv="onorientationchange"in window?"orientationchange":"resize",sf.isAndroid()&&(this._resizeEv="resize"),this._startEv=this._hasTouch?"touchstart":"mousedown",this._moveEv=this._hasTouch?"touchmove":"mousemove",this._endEv=this._hasTouch?"touchend":"mouseup",this._cancelEv=this._hasTouch?"touchcancel":"mouseup",this._enabled=!0,this._curX=0,this._curY=0,this._steps=[],this._scale=1,this._currPageX=0,this._currPageY=0,this._pagesX=[],this._pagesY=[],this._aniTime=null,this._wheelZoomCount=0,this._wheelHandler=n.proxy(this._wheel,this),this._resizeHander=n.proxy(this.resize,this),this._touchStartHandler=n.proxy(this._onTouchStart,this),this._touchMoveHandler=n.proxy(this._onTouchMove,this),this._touchEndHandler=n.proxy(this._onTouchEnd,this),this._transitionHandler=n.proxy(this._transitionEnd,this),this._bind(this._resizeEv,window),this._bind(this._startEv),this._hasTouch||this.model.wheelAction!="none"&&(this._bind("DOMMouseScroll"),this._bind("mousewheel"))},_renderControl:function(){n(this.element).addClass("sf-m-"+this.model.renderMode+" sf-m-sp"),this._wrapper.style.overflow="hidden",n(this._wrapper).css("position","relative"),n(this._wrapper).append(this.element),this._scroller.style[this._transitionProperty]=this._useTransform?this._userAgent()+"transform":"top left",this._scroller.style[this._transitionDuration]="0",this._scroller.style[this._transformOrigin]="0 0",this.model.useTransition&&(this._scroller.style[this._transitionTimingFunction]="cubic-bezier(0.33,0.66,0.66,1)"),this._useTransform?this._scroller.style[this._transform]="translate("+this.model.x+"px,"+this.model.y+"px)"+this._translateZ:this._scroller.style.cssText+=";position:absolute;top:"+this.model.y+"px;left:"+this.model.x+"px",this.refresh()},_wireEvents:function(){if(sf.isAndroid()&&sf.bindTouchEvent(window,"scroll",n.proxy(this.resize,this)),sf.bindTouchEvent(this._scroller,this._startEv,this._touchStartHandler),this.model.checkDOMChanges&&(this._domChangeEvent=n.proxy(this._checkDOMChanges,this),document.addEventListener("DOMNodeInserted",this._domChangeEvent,!1)),typeof Orubase!="undefined"&&this.model.renderMode=="ios"){var t=this;Orubase.iOS.onKeyboardHide({onSuccess:function(){setTimeout(function(){t.refresh()},400)},onFailure:function(){}})}},_unWireEvents:function(){sf.unBindTouchEvent(window,this._resizeEv,this.resizeHandler),sf.unBindTouchEvent(this._scroller,this._startEv,this._touchStartHandler)},getModel:function(){return this.model},handleEvent:function(n){switch(n.type){case this._startEv:if(!this._hasTouch&&n.button!==0)return;this._onTouchStart(n);break;case this._moveEv:this._onTouchMove(n);break;case this._endEv:case this._cancelEv:this._onTouchEnd(n);break;case this._resizeEv:this.resize();break;case"DOMMouseScroll":case"mousewheel":this._wheel(n);break;case this._transitionEndEvent():this._transitionEnd(n)}},_checkDOMChanges:function(){var n=this;this._moved||this._zoomed||this._animating||this._scrollerW==this._scroller.offsetWidth*this._scale&&this._scrollerH==this._scroller.offsetHeight*this._scale||(this.refresh(),this.model.renderMode=="ios"&&setTimeout(function(){n.refresh()},200))},_renderScrollBar:function(t){var i;if(!this.model[t+"Scrollbar"]){this["_"+t+"ScrollbarWrapper"]&&(this._hasTransform&&(this.model[t+"ScrollbarHandle"].style[this._transform]=""),this["_"+t+"ScrollbarWrapper"].parentNode.removeChild(this["_"+t+"ScrollbarWrapper"]),this["_"+t+"ScrollbarWrapper"]=null,this.model[t+"ScrollbarHandle"]=null);return}this["_"+t+"ScrollbarWrapper"]||(i=document.createElement("div"),this.model.scrollbarClass?i.className=this.model.scrollbarClass+t.toUpperCase():i.style.cssText="position:absolute;z-index:100;"+(t=="h"?"height:7px;bottom:1px;left:2px;right:"+(this.model.vScrollbar?"7":"2")+"px":""+(this.model.renderMode=="ios"?"width:7px":"width:2px")+" ;bottom:"+(this.model.hScrollbar?"7":"2")+"px;top:2px;right:1px"),i.style.cssText+=";pointer-events:none;"+this._userAgent()+"transition-property:opacity;"+this._userAgent()+"transition-duration:"+(this.model.fadeScrollbar?"350ms":"0")+";overflow:hidden;opacity:"+(this.model.hideScrollbar?"0":"1"),this.element[0].appendChild(i),this["_"+t+"ScrollbarWrapper"]=i,i=document.createElement("div"),n(i).addClass("sf-sp-handle"),this.model.scrollbarClass||(i.style.cssText="position:absolute;z-index:100;"+this._userAgent()+"background-clip:padding-box;"+this._userAgent()+"box-sizing:border-box;"+(t=="h"?"height:100%":"width:100%")+";"+this._userAgent()+"border-radius:"+(this.model.renderMode=="ios"?"6px":"0")+";border-radius:6px"),this.model.showScrollBar||(t=="h"&&n(i).height(0),t=="v"&&n(i).width(0)),i.style.cssText+=";pointer-events:none;"+this._userAgent()+"transition-property:"+this._userAgent()+"transform;"+this._userAgent()+"transition-timing-function:cubic-bezier(0.33,0.66,0.66,1);"+this._userAgent()+"transition-duration:0;"+this._userAgent()+"transform: translate(0,0)"+this._translateZ,this.model.useTransition&&(i.style.cssText+=";"+this._userAgent()+"transition-timing-function:cubic-bezier(0.33,0.66,0.66,1)"),this["_"+t+"ScrollbarWrapper"].appendChild(i),this.model[t+"ScrollbarHandle"]=i),t=="h"?(this.model.hScrollbarSize=this._hScrollbarWrapper.clientWidth,this.model.hScrollbarHandleSize=Math.max(Math.round(this.model.hScrollbarSize*this.model.hScrollbarSize/this._scrollerW),8),this.model.hScrollbarHandle.style.width=this.model.hScrollbarHandleSize+"px",this.model.hScrollbarMaxScroll=this.model.hScrollbarSize-this.model.hScrollbarHandleSize,this.model.hScrollbarProp=this.model.hScrollbarMaxScroll/this.model.maxScrollX):(this.model.vScrollbarSize=this._vScrollbarWrapper.clientHeight,this.model.vScrollbarHandleSize=Math.max(Math.round(this.model.vScrollbarSize*this.model.vScrollbarSize/this._scrollerH),8),this.model.vScrollbarHandle.style.height=this.model.vScrollbarHandleSize+"px",this.model.vScrollbarMaxScroll=this.model.vScrollbarSize-this.model.vScrollbarHandleSize,this.model.vScrollbarProp=this.model.vScrollbarMaxScroll/this.model.maxScrollY),this.setScrollBarPosition(t,!0)},resize:function(){if(!sf.isWindowsPhone()){var n=this;setTimeout(function(){n.refresh()},sf.isAndroid()?200:0)}},setPosition:function(n,t){this._zoomed||(n=this.model.hScroll?n:0,t=this.model.vScroll?t:0,this._useTransform?this._scroller.style[this._transform]="translate("+n+"px,"+t+"px) scale("+this._scale+")"+this._translateZ:(n=Math.round(n),t=Math.round(t),this._scroller.style.left=n+"px",this._scroller.style.top=t+"px"),this.model.x=n,this.model.y=t,this.setScrollBarPosition("h"),this.setScrollBarPosition("v"))},setScrollBarPosition:function(n,t){var i=n=="h"?this.model.x:this.model.y,r;this.model[n+"Scrollbar"]&&(i=this.model[n+"ScrollbarProp"]*i,i<0?(this.model.fixedScrollbar||(r=this.model[n+"ScrollbarHandleSize"]+Math.round(i*3),r<8&&(r=8),this.model[n+"ScrollbarHandle"].style[n=="h"?"width":"height"]=r+"px"),i=0):i>this.model[n+"ScrollbarMaxScroll"]&&(this.model.fixedScrollbar?i=this.model[n+"ScrollbarMaxScroll"]:(r=this.model[n+"ScrollbarHandleSize"]-Math.round((i-this.model[n+"ScrollbarMaxScroll"])*3),r<8&&(r=8),this.model[n+"ScrollbarHandle"].style[n=="h"?"width":"height"]=r+"px",i=this.model[n+"ScrollbarMaxScroll"]+(this.model[n+"ScrollbarHandleSize"]-r))),this["_"+n+"ScrollbarWrapper"].style[this._transitionDelay]="0",this["_"+n+"ScrollbarWrapper"].style.opacity=t&&this.model.hideScrollbar?"0":"1",this.model[n+"ScrollbarHandle"].style[this._transform]="translate("+(n=="h"?i+"px,0)":"0,"+i+"px)")+this._translateZ)},_onTouchStart:function(n){var o=this,e=this._hasTouch?n.touches[0]:n,t,i,r,u,f;this._enabled&&((this.model.useTransition||this.model.zoom)&&this._transitionTime(0),this._moved=!1,this._animating=!1,this._zoomed=!1,this._distX=0,this._distY=0,this._absDistX=0,this._absDistY=0,this._dirX=0,this._dirY=0,this.model.zoom&&this._hasTouch&&n.touches.length>1&&(u=Math.abs(n.touches[0].pageX-n.touches[1].pageX),f=Math.abs(n.touches[0].pageY-n.touches[1].pageY),this._touchesDistStart=Math.sqrt(u*u+f*f),this._originX=Math.abs(n.touches[0].pageX+n.touches[1].pageX-this._wrapperOffsetLeft*2)/2-this.model.x,this._originY=Math.abs(n.touches[0].pageY+n.touches[1].pageY-this._wrapperOffsetTop*2)/2-this.model.y),this.model.momentum&&(this._useTransform?(t=getComputedStyle(this._scroller,null)[this._transform].replace(/[^0-9\-.,]/g,"").split(","),i=+(t[12]||t[4]),r=+(t[13]||t[5])):(i=+getComputedStyle(this._scroller,null).left.replace(/[^0-9-]/g,""),r=+getComputedStyle(this._scroller,null).top.replace(/[^0-9-]/g,"")),(i!=this.model.x||r!=this.model.y)&&(this.model.useTransition?this._unBind(this._transitionEndEvent()):cancelFrame(this._aniTime),this._steps=[],this.setPosition(i,r))),this._absStartX=this.model.x,this._absStartY=this.model.y,this._startX=this.model.x,this._startY=this.model.y,this._pointX=e.pageX,this._pointY=e.pageY,this._startTime=n.timeStamp||Date.now(),this._bind(this._moveEv,window),this._bind(this._endEv,window),this._bind(this._cancelEv,window),this.model.onScrollStart&&this._trigger("onScrollStart",{target:this.model.targetId}))},_onTouchMove:function(n){var e=this._hasTouch?n.touches[0]:n,u=e.pageX-this._pointX,f=e.pageY-this._pointY,i=this.model.x+u,r=this.model.y+f,o,s,t,h=n.timeStamp||Date.now();if(this.model.zoom&&this._hasTouch&&n.touches.length>1){o=Math.abs(n.touches[0].pageX-n.touches[1].pageX),s=Math.abs(n.touches[0].pageY-n.touches[1].pageY),this._touchesDist=Math.sqrt(o*o+s*s),this._zoomed=!0,t=1/this._touchesDistStart*this._touchesDist*this._scale,t<this.model.zoomMin?t=.5*this.model.zoomMin*Math.pow(2,t/this.model.zoomMin):t>this.model.zoomMax&&(t=2*this.model.zoomMax*Math.pow(.5,this.model.zoomMax/t)),this._lastScale=t/this._scale,i=this._originX-this._originX*this._lastScale+this.model.x,r=this._originY-this._originY*this._lastScale+this.model.y,this._scroller.style[this._transform]="translate("+i+"px,"+r+"px) scale("+t+")"+this._translateZ;return}(this._pointX=e.pageX,this._pointY=e.pageY,(i>0||i<this.model.maxScrollX)&&(i=this.model.bounce?this.model.x+u/2:i>=0||this.model.maxScrollX>=0?0:this.model.maxScrollX),(r>this.model.minScrollY||r<this.model.maxScrollY)&&(r=this.model.bounce?this.model.y+f/2:r>=this.model.minScrollY||this.model.maxScrollY>=0?this.model.minScrollY:this.model.maxScrollY),this._distX+=u,this._distY+=f,this._absDistX=Math.abs(this._distX),this._absDistY=Math.abs(this._distY),this._absDistX<6&&this._absDistY<6)||(this.model.lockDirection&&(this._absDistX>this._absDistY+5?(r=this.model.y,f=0):this._absDistY>this._absDistX+5&&(i=this.model.x,u=0)),this._moved=!0,this.setPosition(i,r),this._dirX=u>0?-1:u<0?1:0,this._dirY=f>0?-1:f<0?1:0,h-this._startTime>300&&(this._startTime=h,this._startX=this.model.x,this._startY=this.model.y))},_onTouchEnd:function(n){var c;if(!this._hasTouch||n.touches.length===0){var l=this,s=this._hasTouch?n.changedTouches[0]:n,u,a,e={dist:0,time:0},o={dist:0,time:0},p=(n.timeStamp||Date.now())-this._startTime,t=this.model.x,i=this.model.y,v,y,h,r,f;if(this._unBind(this._moveEv,window),this._unBind(this._endEv,window),this._unBind(this._cancelEv,window),this._zoomed){f=this._scale*this._lastScale,f=Math.max(this.model.zoomMin,f),f=Math.min(this.model.zoomMax,f),this._lastScale=f/this._scale,this._scale=f,this.model.x=this._originX-this._originX*this._lastScale+this.model.x,this.model.y=this._originY-this._originY*this._lastScale+this.model.y,this._scroller.style[this._transitionDuration]="300ms",this._scroller.style[this._transform]="translate("+this.model.x+"px,"+this.model.y+"px) scale("+this._scale+")"+this._translateZ,this._zoomed=!1,this.refresh();return}if(!this._moved){this._hasTouch&&(this._doubleTapTimer&&this.model.zoom?(clearTimeout(this._doubleTapTimer),this._doubleTapTimer=null,this.zoom(this._pointX,this._pointY,this._scale==1?this.model.doubleTapZoom:1)):this.model.handleClick&&(this._doubleTapTimer=setTimeout(function(){for(l._doubleTapTimer=null,u=s.target;u.nodeType!=1;)u=u.parentNode;u.tagName!="SELECT"&&u.tagName!="INPUT"&&u.tagName!="TEXTAREA"&&(a=document.createEvent("MouseEvents"),a.initMouseEvent("click",!0,!0,n.view,1,s.screenX,s.screenY,s.clientX,s.clientY,n.ctrlKey,n.altKey,n.shiftKey,n.metaKey,0,null),a._fake=!0,u.dispatchEvent(a))},l.model.zoom?250:0))),this._resetPos(400);return}if(p<300&&this.model.momentum&&(e=t?this._momentum(t-this._startX,p,-this.model.x,this._scrollerW-this._wrapperW+this.model.x,this.model.bounce?this._wrapperW:0):e,o=i?this._momentum(i-this._startY,p,-this.model.y,this.model.maxScrollY<0?this._scrollerH-this._wrapperH+this.model.y-this.model.minScrollY:0,this.model.bounce?this._wrapperH:0):o,t=this.model.x+e.dist,i=this.model.y+o.dist,(this.model.x>0&&t>0||this.model.x<this.model.maxScrollX&&t<this.model.maxScrollX)&&(e={dist:0,time:0}),(this.model.y>this.model.minScrollY&&i>this.model.minScrollY||this.model.y<this.model.maxScrollY&&i<this.model.maxScrollY)&&(o={dist:0,time:0})),e.dist||o.dist){h=Math.max(Math.max(e.time,o.time),10),this.model.snap&&(v=t-this._absStartX,y=i-this._absStartY,Math.abs(v)<this.model.snapThreshold&&Math.abs(y)<this.model.snapThreshold?this.scrollTo(this._absStartX,this._absStartY,200):(r=this._snap(t,i),t=r.x,i=r.y,h=Math.max(r.time,h))),this.scrollTo(Math.round(t),Math.round(i),h),this.model.onScrollEnd&&(c=setTimeout(function(n,t){l._trigger("onScrollEnd",t),clearTimeout(c)},h));return}if(this.model.snap){v=t-this._absStartX,y=i-this._absStartY,Math.abs(v)<this.model.snapThreshold&&Math.abs(y)<this.model.snapThreshold?this.scrollTo(this._absStartX,this._absStartY,200):(r=this._snap(this.model.x,this.model.y),(r.x!=that.x||r.y!=that.y)&&this.scrollTo(r.x,r.y,r.time));return}this._resetPos(200),this.model.onScrollEnd&&(c=setTimeout(function(n,t){l._trigger("onScrollEnd",t),clearTimeout(c)},200))}},_resetPos:function(n){var t=this;if(sf.isAndroid()&&window.scrollTo(this.model.x,this.model.y),resetX=this.model.x>=0?0:this.model.x<this.model.maxScrollX?this.model.maxScrollX:this.model.x,resetY=this.model.y>=this.model.minScrollY||this.model.maxScrollY>0?this.model.minScrollY:this.model.y<this.model.maxScrollY?this.model.maxScrollY:this.model.y,resetX==this.model.x&&resetY==this.model.y){this._moved&&(this._moved=!1),this.model.hScrollbar&&this.model.hideScrollbar&&(this._userAgent()=="webkit"&&(this._hScrollbarWrapper.style[this._transitionDelay]="500ms"),this._hScrollbarWrapper.style.opacity="0"),this.model.vScrollbar&&this.model.hideScrollbar&&(this._userAgent()=="webkit"&&(this._vScrollbarWrapper.style[this._transitionDelay]="500ms"),this._vScrollbarWrapper.style.opacity="0");return}this.scrollTo(resetX,resetY,n||0)},_wheel:function(n){var e=this,f,t,r,u,i;if("wheelDeltaX"in n)f=n.wheelDeltaX/12,t=n.wheelDeltaY/12;else if("wheelDelta"in n)f=t=n.wheelDelta/12;else if("detail"in n)f=t=-n.detail*3;else return;if(this.model.wheelAction=="zoom"){i=this._scale*Math.pow(2,1/3*(t?t/Math.abs(t):0)),i<this.model.zoomMin&&(i=this.model.zoomMin),i>this.model.zoomMax&&(i=this.model.zoomMax),i!=this._scale&&(this._wheelZoomCount++,this.zoom(n.pageX,n.pageY,i,400),setTimeout(function(){e._wheelZoomCount--},400));return}r=this.model.x+f,u=this.model.y+t,r>0?r=0:r<this.model.maxScrollX&&(r=this.model.maxScrollX),u>this.model.minScrollY?u=this.model.minScrollY:u<this.model.maxScrollY&&(u=this.model.maxScrollY),this.model.maxScrollY<0&&this.scrollTo(r,u,0)},_transitionEnd:function(n){n.target==this._scroller&&(this._unBind(this._transitionEndEvent()),this._startAni())},_startAni:function(){var t=this,i=this.model.x,r=this.model.y,e=Date.now(),n,u,f,t=this;if(!this._animating){if(!this._steps.length){this._resetPos(400);return}if(n=this._steps.shift(),n.x==i&&n.y==r&&(n.time=0),this._animating=!0,this._moved=!0,this.model.useTransition){this._transitionTime(n.time),this.setPosition(n.x,n.y),this._animating=!1,n.time?this._bind(this._transitionEndEvent()):this._resetPos(0);return}f=function(){var o=Date.now(),s,h;if(o>=e+n.time){t.setPosition(n.x,n.y),t._animating=!1,t._startAni();return}o=(o-e)/n.time-1,u=Math.sqrt(1-o*o),s=(n.x-i)*u+i,h=(n.y-r)*u+r,t.setPosition(s,h),t._animating&&(t._aniTime=nextFrame(f))},f()}},_transitionTime:function(n){n+="ms",this._scroller.style[this._transitionDuration]=n,this.model.hScrollbar&&(this.model.hScrollbarHandle.style[this._transitionDuration]=n),this.model.vScrollbar&&(this.model.vScrollbarHandle.style[this._transitionDuration]=n)},_momentum:function(n,t,i,r,u){var o=.0006,e=Math.abs(n)/t,f=e*e/(2*o),h=0,s=0;return n>0&&f>i?(s=u/(6/(f/e*o)),i=i+s,e=e*i/f,f=i):n<0&&f>r&&(s=u/(6/(f/e*o)),r=r+s,e=e*r/f,f=r),f=f*(n<0?-1:1),h=e/o,{dist:f,time:Math.round(h)}},_offset:function(n){for(var t=-n.offsetLeft,i=-n.offsetTop;n=n.offsetParent;)t-=n.offsetLeft,i-=n.offsetTop;return n!=this._wrapper&&(t*=this._scale,i*=this._scale),{left:t,top:i}},_snap:function(n,t){var s=this,r,e,i,o,u,f;for(i=this._pagesX.length-1,r=0,e=this._pagesX.length;r<e;r++)if(n>=this._pagesX[r]){i=r;break}for(i==this._currPageX&&i>0&&this._dirX<0&&i--,n=this._pagesX[i],u=Math.abs(n-this._pagesX[this._currPageX]),u=u?Math.abs(this.model.x-n)/u*500:0,this._currPageX=i,i=this._pagesY.length-1,r=0;r<i;r++)if(t>=this._pagesY[r]){i=r;break}return i==this._currPageY&&i>0&&this._dirY<0&&i--,t=this._pagesY[i],f=Math.abs(t-this._pagesY[this._currPageY]),f=f?Math.abs(this.model.y-t)/f*500:0,this._currPageY=i,o=Math.round(Math.max(u,f))||200,{x:n,y:t,time:o}},_bind:function(n,t,i){(t||this._scroller).addEventListener(n,this,!!i)},_unBind:function(n,t,i){(t||this._scroller).removeEventListener(n,this,!!i)},destroy:function(){var n=this;this._scroller.style[transform]="",this.model.hScrollbar=!1,this.model.vScrollbar=!1,this._renderScrollBar("h"),this._renderScrollBar("v"),this._unBind(this._resizeEv,window),this._unBind(this._startEv),this._unBind(this._moveEv,window),this._unBind(this._endEv,window),this._unBind(this._cancelEv,window),this._hasTouch||(this._unBind("DOMMouseScroll"),this._unBind("mousewheel")),this.model.useTransition&&this._unBind(this._transitionEndEvent()),this.model.checkDOMChanges&&clearInterval(this.model._checkDOMTime)},refresh:function(){var o=this,u,i,e,f,t=0,r=0;if(n(this._wrapper).closest("div[data-role*='dialog']").length==0&&n(this._wrapper).closest("div.sf-m-dp").length==0&&this.model.checkFixedPosition&&(sf.getCurrentPage().find(".sfheader.sffixed").length>0&&sf.getCurrentPage().find(".sf-m-windows.sf-menu-options").length==0&&(n(this._wrapper).css("margin-top",sf.getCurrentPage().find(".sfheader.sffixed").height()),this.model.isFixedPosition=!0,this._footerHeight=0),sf.getCurrentPage().find(".sffooter.sffixed").length>0&&(n(this._wrapper).css("margin-bottom",sf.getCurrentPage().find(".sffooter.sffixed").height()),this._footerHeight=sf.getCurrentPage().find(".sffooter.sffixed").height(),this.model.isFixedPosition=!0),sf.getCurrentPage().find(".sf-m-tab.sf-m-ios").length>0&&(n(this._wrapper).css("margin-bottom",sf.getCurrentPage().find(".sf-m-tab.sf-m-ios").height()),this._footerHeight=sf.getCurrentPage().find(".sf-m-tab.sf-m-ios").height(),this.model.isFixedPosition=!0),(sf.getCurrentPage().find(".sf-m-ios.sf-m-tb").length>0||sf.getCurrentPage().find(".sf-m-windows.sf-m-tb").length>0)&&(n(this._wrapper).css("margin-bottom",sf.getCurrentPage().find(".sf-m-ios.sf-m-tb").height()),this._footerHeight=sf.getCurrentPage().find(".sf-m-ios.sf-m-tb").height(),this.model.isFixedPosition=!0),sf.getCurrentPage().find(".sf-sync-grpbtn.sf-m-android.sf-fixed").length>0&&(n(this._wrapper).css("margin-bottom",sf.getCurrentPage().find(".sf-sync-grpbtn.sf-m-android.sf-fixed").height()),this._footerHeight=sf.getCurrentPage().find(".sf-sync-grpbtn.sf-m-android.sf-fixed").height(),this.model.isFixedPosition=!0)),this.model.targetHeight?n(this._wrapper).height(this.model.targetHeight):n(this._wrapper).closest("div[data-role*='dialog']").length>0?n(this._wrapper).height(n(this._wrapper).closest("div[data-role*='dialog']").height()-(this.model.isFixedPosition?0:n(this._wrapper).offset().top-n(this._wrapper).closest("div[data-role*='dialog']").offset().top)-parseInt(n(this._wrapper).css("margin-top"))-parseInt(n(this._wrapper).css("margin-bottom"))-parseInt(n(this._wrapper).css("padding-top"))-parseInt(n(this._wrapper).css("padding-bottom"))):n(this._wrapper).height(window.innerHeight-(this.model.isFixedPosition?0:n(this._wrapper).offset().top)-parseInt(n(this._wrapper).css("margin-top"))-parseInt(n(this._wrapper).css("margin-bottom"))-(this.model.isFixedPosition?this._footerHeight:0)-parseInt(n(this._wrapper).css("padding-top"))-parseInt(n(this._wrapper).css("padding-bottom"))),this.model.targetWidth&&n(this._wrapper).width(this.model.targetWidth),this._scale<this.model.zoomMin&&(this._scale=this.model.zoomMin),this._wrapperW=this._wrapper.clientWidth||1,this._wrapperH=this._wrapper.clientHeight||1,this.model.minScrollY=-this.model.topOffset||0,this._scrollerW=Math.round(this._scroller.offsetWidth*this._scale),this._scrollerH=Math.round((this._scroller.offsetHeight+this.model.minScrollY)*this._scale),this.model.maxScrollX=this._wrapperW-this._scrollerW,this.model.maxScrollY=this._wrapperH-this._scrollerH+this.model.minScrollY,this._dirX=0,this._dirY=0,this.model.hScroll=this.model.hScroll&&this.model.maxScrollX<0,this.model.vScroll=this.model.vScroll&&(!this.model.bounceLock&&!this.model.hScroll||this._scrollerH>this._wrapperH),this.model.hScrollbar=this.model.hScroll&&this.model.hScrollbar,this.model.vScrollbar=this.model.vScroll&&this.model.vScrollbar&&this._scrollerH>this._wrapperH,u=this._offset(this._wrapper),this._wrapperOffsetLeft=-u.left,this._wrapperOffsetTop=-u.top,typeof this.model.snap=="string")for(this._pagesX=[],this._pagesY=[],f=this._scroller.querySelectorAll(this.model.snap),i=0,e=f.length;i<e;i++)t=this._offset(f[i]),t.left+=this._wrapperOffsetLeft,t.top+=this._wrapperOffsetTop,this._pagesX[i]=t.left<this.model.maxScrollX?this.model.maxScrollX:t.left*this._scale,this._pagesY[i]=t.top<this.model.maxScrollY?this.model.maxScrollY:t.top*this._scale;else if(this.model.snap){for(this._pagesX=[];t>=this.model.maxScrollX;)this._pagesX[r]=t,t=t-this._wrapperW,r++;for(this.model.maxScrollX%this._wrapperW&&(this._pagesX[this._pagesX.length]=this.model.maxScrollX-this._pagesX[this._pagesX.length-1]+this._pagesX[this._pagesX.length-1]),t=0,r=0,this._pagesY=[];t>=this.model.maxScrollY;)this._pagesY[r]=t,t=t-this._wrapperH,r++;this.model.maxScrollY%this._wrapperH&&(this._pagesY[this._pagesY.length]=this.model.maxScrollY-this._pagesY[this._pagesY.length-1]+this._pagesY[this._pagesY.length-1])}this._renderScrollBar("h"),this._renderScrollBar("v"),this._zoomed||(this._scroller.style[this._transitionDuration]="0",this._resetPos(400))},scrollTo:function(n,t,i,r){var u=n,f,e;for(this.stop(),u.length||(u=[{x:n,y:t,time:i,relative:r}]),f=0,e=u.length;f<e;f++)u[f].relative&&(u[f].x=that.x-u[f].x,u[f].y=that.y-u[f].y),this._steps.push({x:u[f].x,y:u[f].y,time:u[f].time||0});this._startAni()},scrollToElement:function(n,t){var r;(n=n.nodeType?n:this._scroller.querySelector(n),n)&&(r=this._offset(n),r.left+=this._wrapperOffsetLeft,r.top+=this._wrapperOffsetTop,r.left=r.left>0?0:r.left<this.model.maxScrollX?this.model.maxScrollX:r.left,r.top=r.top>this.model.minScrollY?this.model.minScrollY:r.top<this.model.maxScrollY?this.model.maxScrollY:r.top,t=t===i?Math.max(Math.abs(r.left)*2,Math.abs(r.top)*2):t,this.scrollTo(r.left,r.top,t))},scrollToPage:function(n,t,r){var u,f;r=r===i?400:r,this.model.snap?(n=n=="next"?this._currPageX+1:n=="prev"?this._currPageX-1:n,t=t=="next"?this._currPageY+1:t=="prev"?this._currPageY-1:t,n=n<0?0:n>this._pagesX.length-1?this._pagesX.length-1:n,t=t<0?0:t>this._pagesY.length-1?this._pagesY.length-1:t,this._currPageX=n,this._currPageY=t,u=this._pagesX[n],f=this._pagesY[t]):(u=-this._wrapperW*n,f=-this._wrapperH*t,u<this.model.maxScrollX&&(u=this.model.maxScrollX),f<this.model.maxScrollY&&(f=this.model.maxScrollY)),this.scrollTo(u,f,r)},disable:function(){this.stop(),this._resetPos(0),this._enabled=!1,this._unBind(this._moveEv,window),this._unBind(this._endEv,window),this._unBind(this._cancelEv,window)},enable:function(){this._enabled=!0},stop:function(){this.model.useTransition?this._unBind(this._transitionEndEvent()):cancelFrame(this._aniTime),this._steps=[],this._moved=!1,this._animating=!1},zoom:function(n,t,r,u){var f=r/this._scale;this._useTransform&&(this._zoomed=!0,u=u===i?200:u,n=n-this._wrapperOffsetLeft-this.model.x,t=t-this._wrapperOffsetTop-this.model.y,this.model.x=n-n*f+this.model.x,this.model.y=t-t*f+this.model.y,this._scale=r,this.refresh(),this.model.x=this.model.x>0?0:this.model.x<this.model.maxScrollX?this.model.maxScrollX:this.model.x,this.model.y=this.model.y>this.model.minScrollY?this.model.minScrollY:this.model.y<this.model.maxScrollY?this.model.maxScrollY:this.model.y,this._scroller.style[this._transitionDuration]=u+"ms",this._scroller.style[this._transform]="translate("+this.model.x+"px,"+this.model.y+"px) scale("+r+")"+this._translateZ,this._zoomed=!1)},isReady:function(){return!this._moved&&!this._zoomed&&!this._animating},_userAgent:function(){for(var t="t,webkitT,MozT,msT,OT".split(","),i,n=0,r=t.length;n<r;n++)if(i=t[n]+"ransform",i in this._styles)return t[n].substr(0,t[n].length-1);return!1},_transitionEndEvent:function(){if(this._userAgent()===!1)return!1;return{"":"transitionend",webkit:"webkitTransitionEnd",Moz:"transitionend",O:"otransitionend",ms:"MSTransitionEnd"}[this._userAgent()]},_addPrefix:function(n){return this._userAgent()===""?n:(n=n.charAt(0).toUpperCase()+n.substr(1),this._userAgent()+n)},_setModel:function(n){var i=!1,t;for(t in n)t=="text"?this._setText():t=="renderMode"&&(i=!0);i&&this._refresh(),this._trigger("modelChange",{changes:n})},_refresh:function(){this._destroy(),this.element.addClass("m-scrollpanel"),this._renderControl(),this._wireEvents()},_clearElement:function(){this.element.html(""),this.element.removeAttr("class"),this.element.removeAttr("style");var t=n("#"+this.model.targetId);t.removeAttr("style"),t.find(">div").removeAttr("style"),this._vScrollbarWrapper=null,this._hScrollbarWrapper=null},_destroy:function(){this._unWireEvents(),this._clearElement()}}),m.ScrollPanel.wheelAction={None:"none",Scroll:"scroll"},m.ScrollPanel.scrollType={Vertical:"vertical",Horizontal:"horizontal"}}(jQuery,Syncfusion),nextFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(n){return setTimeout(n,1)}}(),cancelFrame=function(){return window.cancelRequestAnimationFrame||window.webkitCancelAnimationFrame||window.webkitCancelRequestAnimationFrame||window.mozCancelRequestAnimationFrame||window.oCancelRequestAnimationFrame||window.msCancelRequestAnimationFrame||clearTimeout}(),function(n,t,i){t.widget("mSlider","m.Slider",{_setFirst:!0,defaults:{orientation:"horizontal",maxValue:100,minValue:0,range:!1,animate:!1,step:1,tickItems:null,showLabel:!1,disabled:!1,showThumb:!0,showToolTip:!0,width:null,height:null,thumbStyle:"circle",enableButtonMode:!1,renderMode:"auto",renderingEngine:"client",enableTickMark:!1},dataTypes:{orientation:"enum",range:"boolean",animate:"boolean",showLabel:"boolean",disabled:"boolean",showThumb:"boolean",showToolTip:"boolean",thumbStyle:"enum",enableButtonMode:"boolean",renderMode:"enum",renderingEngine:"enum",enableTickMark:"boolean"},_init:function(){this._setValues(),this.model.renderingEngine=="client"&&this._renderControl(),this._initObjects(),this._wireEvents()},_setValues:function(){this.model.renderMode=sf.getAttrVal(this.element,"data-rendermode",this.model.renderMode),this.model.renderMode=="auto"&&sf.setRenderMode(this),this.model.sliderId=n(this.element).attr("id").split("_")[0],this.model.orientation=sf.getAttrVal(this.element,"data-orientation",this.model.orientation),this.model.maxValue=Number(sf.getAttrVal(this.element,"data-max",this.model.maxValue)),this.model.minValue=Number(sf.getAttrVal(this.element,"data-min",this.model.minValue)),this.model.value=Number(sf.getAttrVal(this.element,"data-value",0)),sf.getAttrVal(this.element,"data-rangevalues")!=null&&(this.model.rangeValues=JSON.parse(sf.getAttrVal(this.element,"data-rangevalues"))),this.model.step=Number(sf.getAttrVal(this.element,"data-step",this.model.step)),this.model.animate=sf.getBooleanVal(this.element,"data-animate",this.model.animate),this.model.range=sf.getBooleanVal(this.element,"data-range",this.model.range),this.model.enableButtonMode=sf.getBooleanVal(this.element,"data-enablebuttonmode",this.model.enableButtonMode),this.model.enableTickMark=sf.getBooleanVal(this.element,"data-enabletickmark",this.model.enableTickMark),this.model.tickFrequency=Number(sf.getAttrVal(this.element,"data-tickfrequency")),this.model.theme=sf.getAttrVal(this.element,"data-theme"),this.model.sliderTickPosition=sf.getAttrVal(this.element,"data-slidertickposition"),this.model.customThumbClass=sf.getAttrVal(this.element,"data-customthumbclass"),this.model.thumbStyle=sf.getAttrVal(this.element,"data-thumbstyle"),this.model.showThumb=sf.getBooleanVal(this.element,"data-showthumb",this.model.showThumb),this.model.showToolTip=sf.getBooleanVal(this.element,"data-showtooltip",this.model.showToolTip),sf.getAttrVal(this.element,"data-labelcollection")!=null&&(this.model.labelCollection=JSON.parse(sf.getAttrVal(this.element,"data-labelcollection"))),this.model.showLabel=sf.getBooleanVal(this.element,"data-showlabel",this.model.showLabel),this.model.disabled=sf.getBooleanVal(this.element,"data-disabled",this.model.disabled),this.model.height=Number(sf.getAttrVal(this.element,"data-height",this.model.height)),this.model.width=Number(sf.getAttrVal(this.element,"data-width",this.model.width)),this.model.onChange=sf.getAttrVal(this.element,"data-onchange"),this.model.onSlide=sf.getAttrVal(this.element,"data-onslide"),this.model.onStart=sf.getAttrVal(this.element,"data-onstart"),this.model.onStop=sf.getAttrVal(this.element,"data-onstop"),this.model.onLoad=sf.getAttrVal(this.element,"data-onload"),this._toolTipRadius=0,this._incrementHandler,this._decrementHandler,this._animate=this.model.animate,this._interval;var t=this},_renderControl:function(){var i,t,r,u;n(this.element).addClass("sf-m-"+this.model.orientation),i=n("<div><\/div>"),i.addClass("sf-slider-outer sf-m-"+this.model.renderMode+" sf-m-"+this.model.orientation),n(this.element).addClass("sf-m-slider sf-m-"+this.model.renderMode),n(this.element).append(i),t=n("<div><\/div>"),t.addClass("sf-slider-inner sf-m-"+this.model.renderMode+" sf-m-"+this.model.orientation),n(i).append(t),r=n("<div><\/div>"),r.addClass("sf-slider-handle sf-slider-left sf-m-"+this.model.renderMode+" sf-m-"+this.model.orientation),n(i).append(r),this.model.range&&(u=n("<div><\/div>"),u.addClass("sf-slider-handle sf-slider-right sf-m-"+this.model.renderMode+" sf-m-"+this.model.orientation),u.css("left",parseInt(this.model.value/this.model.maxValue*100)+20+"%"),n(i).append(u)),n(this.element).append("<input type='hidden' id='"+this.model.sliderId+"' />"),this._dragHandle=n(this.element).find(".sf-slider-handle"),this._inputValue=n(this.element).find("#"+this.model.sliderId),this._wrapperDiv=n(this.element),this._currentValue=this.model.value,this._sliderHandle=i,this._slider=n(this.element),this._selectedRegion=t,this.model.showToolTip=!1,this.model.orientation=="horizontal"?this.model.range?(t.css("left",parseInt(this.model.rangeValues[0]/this.model.maxValue*100)+"%"),t.css("width",parseInt(this.model.rangeValues[1]/this.model.maxValue*100)-parseInt(this.model.rangeValues[0]/this.model.maxValue*100)+"%"),n(this._dragHandle[0]).css("left",parseInt(this.model.rangeValues[0]/this.model.maxValue*100)+"%"),n(this._dragHandle[1]).css("left",parseInt(this.model.rangeValues[1]/this.model.maxValue*100)+"%")):(t.css("width",parseInt(this.model.value/this.model.maxValue*100)+"%"),r.css("left",parseInt(this.model.value/this.model.maxValue*100)+"%")):this.model.range?(t.css("bottom",parseInt(this.model.rangeValues[0]/this.model.maxValue*100)+"%"),t.css("height",parseInt(this.model.rangeValues[1]/this.model.maxValue*100)-parseInt(this.model.rangeValues[0]/this.model.maxValue*100)+"%"),n(this._dragHandle[0]).css("bottom",parseInt(this.model.rangeValues[0]/this.model.maxValue*100)+"%"),n(this._dragHandle[1]).css("bottom",parseInt(this.model.rangeValues[1]/this.model.maxValue*100)+"%")):(t.css("height",parseInt(this.model.value/this.model.maxValue*100)+"%"),r.css("bottom",parseInt(this.model.value/this.model.maxValue*100)+"%"))},_initObjects:function(){startEv=sf.isTouchDevice()?"touchstart":"mousedown",moveEv=sf.isTouchDevice()?"touchmove":"mousemove",endEv=sf.isTouchDevice()?"touchend":"mouseup",this._createDelegates(),this.model.renderMode=="normal"&&(this._animate=!1,this._slider=n(this.element).find("#"+this.model.sliderId+"_SliderValue"),this._wrapperDiv=n(this.element),this._inputValue=n(this.element).find("#"+this.model.sliderId),this._currentValue=this.model.value,this.model.width&&this._wrapperDiv.css("width",this.model.width),this.model.height&&this._wrapperDiv.css("height",this.model.height),this._selectedRegion=n(this.element).find("#"+this.model.sliderId+"_SelectedRegion"),this._sliderHandle=n(this.element).find("#"+this.model.sliderId+"_SliderValue .sf-slider-handle"),this._setHandleStyle(),this.model.range&&this._createHandles(),this.model.enableButtonMode&&(this._sliderButton=n(this.element).find("#"+this.model.sliderId+"_SliderValue .sf-slider-btn")),this._dragHandle=n(this.element).find("#"+this.model.sliderId+"_SliderValue .sf-slider-draghandle"),this._setThumb(),this.model.enableTickMark&&this._createTickMark(),this.model.disabled&&this._slider.addClass("sf-state-disabled"),this.model.showToolTip&&this._createToolTip(),this._generateWidth(),this._value(this.model.value))},_createDelegates:function(){this._incrementHandler=n.proxy(this._incrementValue,this),this._decrementHandler=n.proxy(this._decrementValue,this),this._mouseDownHandler=n.proxy(this._onMouseDownHandler,this),this._mouseMoveHandler=n.proxy(this._onMouseMove,this),this._mouseUpHandler=n.proxy(this._onMouseUp,this),this._buttonUpHandler=n.proxy(this._onButtonUp,this),this._buttonDownHandler=n.proxy(this._onButtonDown,this),this._mouseOverHandler=n.proxy(this._onMouseOver,this),this._mouseOutHandler=n.proxy(this._onMouseOut,this)},_setThumb:function(){var t=this;this._dragHandle.each(function(){t.model.orientation=="horizontal"?(n(this).css("top",-(sf.getDimension(n(this),"height")-sf.getDimension(t._sliderHandle,"height"))/2),n(this).css("margin-left",-(sf.getDimension(n(this),"outerWidth")/2))):(n(this).css("left",-(sf.getDimension(n(this),"width")-sf.getDimension(t._sliderHandle,"height"))/2),n(this).css("margin-bottom",-sf.getDimension(n(this),"outerHeight")/2))})},_createToolTip:function(){this._startX=1,this._startY=1,this._toolTipRadius=5,this._toolTipEl&&this._toolTipEl.remove(),this._toolTipEl=n("<canvas class = 'sf-slider-tooltip'><\/canvas>"),this._toolTipContext=this._toolTipEl[0].getContext("2d"),this._sliderHandle.append(this._toolTipEl),this._toolTipEl[0].height=35,this._toolTipEl.css("z-index",2),this.model.orientation=="horizontal"&&(this._toolTipEl[0].width=this.model.labelCollection?this._getMaximumTextWidth()+30:this._toolTipContext.measureText(this.model.maxValue).width+30,this._tWidth=(this._toolTipEl[0].width-2*this._toolTipRadius)/2,this._tHeight=10,this._slider.css("top",this._toolTipEl[0].height),this._toolTipEl.css("margin-left",-(this._toolTipEl[0].width/2)),this._toolTipEl.css("top",-(this._sliderHandle[0].offsetHeight+3+(this._dragHandle.height()-this._sliderHandle.height())/2+this._toolTipEl[0].height-this._tHeight)),this._drawHorizontalToolTip(this._toolTipContext,this._startX,this._startY,this._toolTipRadius,this._toolTipEl[0].width-2,this._toolTipEl[0].height-this._tHeight-2,this._tHeight,this._tWidth)),this.model.orientation=="vertical"&&(this._toolTipEl[0].width=this.model.labelCollection?this._getMaximumTextWidth()+30:this._toolTipContext.measureText(this.model.maxValue).width+30,this._startX=10,this._tWidth=10,this._tHeight=10,this._toolTipEl[0].height=25,this._slider.css("top",this._toolTipEl[0].height),this._toolTipEl.css("margin-bottom",-(this._toolTipEl[0].height/2)),this._toolTipEl.css("left",this._sliderHandle[0].offsetWidth+3+(this._dragHandle.width()-this._sliderHandle.width())/2),this._drawVerticalToolTip(this._toolTipContext,this._startX,this._startY,this._toolTipRadius,this._toolTipEl[0].width-this._tHeight-2,this._toolTipEl[0].height-2,this._tHeight,this._tWidth))},_drawHorizontalToolTip:function(n,t,i,r,u,f,e,o){n.strokeStyle="#b0b0b0",n.fillStyle="white",n.lineWidth=1,n.shadowColor="#9F9F9F",n.beginPath(),n.moveTo(t+r,i),n.lineTo(t+u-r,i),n.quadraticCurveTo(t+u,i,t+u,i+r),n.lineTo(t+u,i+f-r),n.quadraticCurveTo(t+u,i+f,t+u-r,i+f),n.lineTo((u+o)/2+t,i+f),n.lineTo((u+o)/2-o/2+t,i+f+e),n.lineTo((u+o)/2-o+t,i+f),n.lineTo(t+r,i+f),n.quadraticCurveTo(t,i+f,t,i+f-r),n.lineTo(t,i+r),n.quadraticCurveTo(t,i,t+r,i),n.stroke(),n.fill()},_drawVerticalToolTip:function(n,t,i,r,u,f,e,o){n.strokeStyle="#b0b0b0",n.fillStyle="white",n.lineWidth=1,n.shadowColor="#9F9F9F",n.beginPath(),n.moveTo(t+r,i),n.lineTo(t+u-r,i),n.quadraticCurveTo(t+u,i,t+u,i+r),n.lineTo(t+u,i+f-r),n.quadraticCurveTo(t+u,i+f,t+u-r,i+f),n.lineTo(t+r,i+f),n.quadraticCurveTo(t,i+f,t,i+f-r),n.lineTo(t,f+i-(f-o)/2),n.lineTo(t-e,f+i-(f-o)/2-o/2),n.lineTo(t,f+i-(f-o)/2-o),n.lineTo(t,i+r),n.quadraticCurveTo(t,i,t+r,i),n.stroke(),n.fill()},_setToolTipText:function(n){this._toolTipContext.font="bold 11px/1.5 'Segoe WP',Arial,Helvetica,sans-serif",this._toolTipContext.fillStyle="#b0b0b0",this._toolTipContext.textAlign="center",this.model.orientation=="horizontal"?(this._toolTipContext.save(),this._toolTipContext.fillStyle="white",this._toolTipContext.clearRect(this._startX+this._toolTipRadius,this._startY+this._toolTipRadius,this._toolTipEl[0].width-2*this._toolTipRadius,this._toolTipEl[0].height-this._tHeight-2*this._toolTipRadius),this._toolTipContext.fillRect(this._startX+this._toolTipRadius,this._startY+this._toolTipRadius,this._toolTipEl[0].width-2*this._toolTipRadius,this._toolTipEl[0].height-this._tHeight-2*this._toolTipRadius),this._toolTipContext.restore(),this._toolTipContext.fillText(n,this._toolTipEl[0].width/2,this._toolTipEl[0].height/2)):(this._toolTipContext.save(),this._toolTipContext.fillStyle="white",this._toolTipContext.clearRect(this._startX+this._toolTipRadius,this._startY+this._toolTipRadius,this._toolTipEl[0].width-(this._startX+2*this._toolTipRadius),this._toolTipEl[0].height-2*this._toolTipRadius),this._toolTipContext.restore(),this._toolTipContext.fillText(n,this._toolTipEl[0].width/2+5,this._toolTipEl[0].height-this._tWidth+2))},_createTickMark:function(){var e,s,t,r,i,u,f=this,o;this._canvasEl&&this._canvasEl.remove(),this._canvasEl=n("<canvas class = 'sf-slider-tick'><\/canvas>"),this._canvasElContext=this._canvasEl[0].getContext("2d"),this.model.orientation=="horizontal"&&(this._canvasEl[0].height=25,this._canvasEl[0].width=this._sliderHandle[0].offsetWidth,this._canvasEl.css("position","absolute"),this.model.enableButtonMode&&this._sliderHandle.css("float","left"),this.model.sliderTickPosition=="BottomRight"&&(this._canvasEl.insertAfter(this._sliderHandle),this.model.showThumb?this._canvasEl.css("top",this._sliderHandle.position().top+this._sliderHandle[0].offsetHeight+(this._dragHandle.height()-this._sliderHandle.height())/2):this._canvasEl.css("top",this._sliderHandle.position().top+this._sliderHandle[0].offsetHeight),this.model.enableButtonMode?this._canvasEl.css("left",this._sliderHandle.position().left):this._canvasEl.css("left",this._sliderHandle.position().left+parseInt(this._sliderHandle.css("borderLeftWidth"))+parseInt(this._sliderHandle.css("borderRightWidth"))),r=this._canvasEl[0].height-5,t=0,i=t+10),this.model.sliderTickPosition=="TopLeft"&&(this._canvasEl.insertBefore(this._sliderHandle),this._canvasEl.css("left",this._sliderHandle.position().left),this.model.enableButtonMode?this.model.showThumb?this._canvasEl.css("bottom",(this._dragHandle[0].offsetHeight-this._sliderHandle[0].offsetHeight)/2):this._canvasEl.css("bottom",0):this.model.showThumb?this._canvasEl.css("bottom",this._sliderHandle.height()+(this._dragHandle.height()-this._sliderHandle.height())/2):this._canvasEl.css("bottom",this._sliderHandle.height()),r=10,t=r+10,i=10),this.model.sliderTickPosition=="Center"&&(this._canvasEl[0].height=this.model.showThumb?this._dragHandle.height()+40:this._sliderHandle[0].offsetHeight+40,this._canvasEl.insertAfter(this._sliderHandle),this._canvasEl.css("position","absolute"),this._canvasEl.css("z-index","-1"),this._canvasEl.css("top",-(this._canvasEl[0].height/2-this._sliderHandle.height()/2)),this.model.enableButtonMode?this._canvasEl.css("left",this._sliderHandle.position().left):this._canvasEl.css("left",this._sliderHandle.position().left+parseInt(this._sliderHandle.css("borderLeftWidth"))+parseInt(this._sliderHandle.css("borderRightWidth"))),r=this._canvasEl[0].height,t=r-20,i=t+10,this._setHorizontalContext(e,t,s,r,i,this._canvasElContext),t=10,i=t+10,r=t),this.model.theme=="Office2007Blue"&&(this._canvasElContext.font="11px/1.5 'Segoe WP',Arial,Helvetica,sans-serif",this._canvasElContext.strokeStyle="#B0B0B0"),this._setHorizontalContext(e,t,s,r,i,this._canvasElContext)),this.model.orientation=="vertical"&&(f=this,this._canvasEl[0].height=this._sliderHandle[0].offsetHeight,this.model.labelCollection?(o=this._getMaximumTextWidth(!0),this._canvasEl[0].width=o+15):this._canvasEl[0].width=this._canvasElContext.measureText(this.model.maxValue).width+10,this.model.enableButtonMode&&this._sliderButton.css("float","none"),this._canvasEl.css("bottom",0),this._canvasEl.css("top",this._sliderHandle.position().top),this._canvasEl.css("position","absolute"),this.model.sliderTickPosition=="BottomRight"&&(this._slider.append(this._canvasEl),this.model.showThumb?this._canvasEl.css("left",this._sliderHandle.position().left+this._sliderHandle[0].offsetWidth+(this._dragHandle.width()-this._sliderHandle[0].offsetWidth)/2):this._canvasEl.css("left",this._sliderHandle.position().left+this._sliderHandle[0].offsetWidth),t=0,i=t+10,u=i),this.model.sliderTickPosition=="TopLeft"&&(this._slider.prepend(this._canvasEl),this.model.showThumb?this._sliderHandle.css("left",this._canvasEl[0].offsetWidth+(this._dragHandle.width()-this._sliderHandle.width())/2):this._sliderHandle.css("left",this._canvasEl[0].offsetWidth),this.model.enableButtonMode&&this._sliderButton.each(function(){n(this).css("left",f._sliderHandle.position().left-f._sliderHandle[0].offsetWidth)}),t=this._canvasEl[0].width,i=t-10,u=0),this.model.sliderTickPosition=="Center"&&(this._slider.prepend(this._canvasEl),this.model.showThumb?this._sliderHandle.css("left",this._canvasEl[0].offsetWidth+(this._dragHandle[0].offsetWidth-this._sliderHandle[0].offsetWidth)/2):this._sliderHandle.css("left",this._canvasEl[0].offsetWidth),this._canvasEl[0].width=2*(this._canvasEl[0].width+this._sliderHandle[0].offsetWidth)+(this._dragHandle.width()-this._sliderHandle.width())/2,this.model.enableButtonMode&&this._sliderButton.each(function(){n(this).css("left",f._sliderHandle.position().left-f._sliderHandle[0].offsetWidth)}),u=this._canvasEl[0].width-o,t=u,i=t-10,this._setVerticalContext(e,t,u,r,i,this._canvasElContext),u=0,t=u+o,i=t+10),this.model.theme=="Office2007Blue"&&(this._canvasElContext.font="11px/1.5 'Segoe WP',Arial,Helvetica,sans-serif",this._canvasElContext.strokeStyle="#B0B0B0"),this._setVerticalContext(e,t,u,r,i,this._canvasElContext),this._slider.css("width",this._canvasEl[0].width))},_setHorizontalContext:function(t,i,r,u,f,e){var o=this,s;if(this.model.labelCollection)n(this.model.labelCollection).each(function(n,s){s.Value&&s.Text&&(tempVal=(s.Value-o.model.minValue)/(o.model.maxValue-o.model.minValue)*100,t=parseInt(tempVal*o._sliderHandle[0].offsetWidth/100)),s.Value==o.model.minValue?(t=1,r=t,e.textAlign="left"):s.Value==o.model.maxValue?(t=t-1,r=t,e.textAlign="right"):(r=t,e.textAlign="center"),o._drawHorizontalContext(t,i,r,u,f,s.Text,e)});else for(s=this.model.minValue;s<=this.model.maxValue;s+=this.model.tickFrequency)tempVal=(s-this.model.minValue)/(this.model.maxValue-this.model.minValue)*100,t=parseInt(tempVal*this._sliderHandle.width()/100),s==o.model.minValue?(t=1,r=t,e.textAlign="left"):s==o.model.maxValue?(t=t-1,r=t,e.textAlign="right"):(r=t,e.textAlign="center"),o._drawHorizontalContext(t,i,r,u,f,s,e)},_setVerticalContext:function(t,i,r,u,f,e){var o=this,h,s;if(this.model.labelCollection)n(this.model.labelCollection).each(function(n,s){s.Value&&s.Text&&(h=o.model.maxValue-s.Value+o.model.minValue,tempVal=(h-o.model.minValue)/(o.model.maxValue-o.model.minValue)*100,t=parseInt(tempVal*o._sliderHandle.height()/100)),h==o.model.maxValue?(t=o._canvasEl[0].height-3,u=t):h==o.model.minValue?(t=2,u=t+7):(e.textAlign="left",u=t+3),o._drawVerticalContext(t,i,r,u,f,s.Text,e)});else for(s=this.model.maxValue;s>=this.model.minValue;s-=this.model.tickFrequency)tempVal=(s-this.model.minValue)/(this.model.maxValue-this.model.minValue)*100,t=parseInt(tempVal*this._sliderHandle.height()/100),textVal=this.model.maxValue-s+this.model.minValue,s==this.model.minValue?(u=8,t=1):s==this.model.maxValue?u=t:(e.textAlign="left",u=t+3),o._drawVerticalContext(t,i,r,u,f,textVal,e)},_drawHorizontalContext:function(n,t,i,r,u,f,e){e.moveTo(n,t),e.lineTo(n,u),e.lineWidth=1.3,e.fillStyle="#000000",e.fill(),this.model.showLabel&&e.fillText(f,i,r),e.stroke()},_drawVerticalContext:function(n,t,i,r,u,f,e){e.moveTo(t,n),e.lineTo(u,n),e.fillStyle="#000000",e.lineWidth=1.3,e.fill(),this.model.showLabel&&e.fillText(f,i,r),e.stroke()},_getMaximumTextWidth:function(n){for(var r=0,i,t=0;t<this.model.labelCollection.length;t++)this.model.labelCollection[t].ToolTipText&&!n?(i=this._canvasElContext?this._canvasElContext.measureText(this.model.labelCollection[t].ToolTipText).width:this._toolTipContext.measureText(this.model.labelCollection[t].ToolTipText).width,i>r&&(r=i)):(i=this._canvasElContext?this._canvasElContext.measureText(this.model.labelCollection[t].Text).width:this._toolTipContext.measureText(this.model.labelCollection[t].Text).width,i>r&&(r=i));return r},_setHandleStyle:function(){var t=n(this.element).find("#"+this.model.sliderId+" .sf-slider-draghandle");this.model.thumbStyle=="circle"&&(t.addClass("sf-slider-circle"),handle=n("<a class='sf-slider-draghandle sf-btn-corner-all sf-shadow sf-state-default sf-slider-circle'><\/a>")),this.model.thumbStyle=="rectangle"&&t.addClass("sf-slider-rectangle"),this.model.thumbStyle=="diamond"&&(t.removeClass("sf-btn-corner-all"),t.addClass("sf-slider-diamond")),this.model.thumbStyle=="custom"&&this.model.ThumbCustomStyle!=null&&t.addClass(this.model.customThumbClass)},_createHandles:function(){for(var t,f=this,r=this.model.rangeValues.length-1,u=[],i=0;i<r;i++)this.model.thumbStyle=="circle"&&(t=n("<a class='sf-slider-draghandle sf-btn-corner-all sf-shadow sf-state-default sf-slider-circle'><\/a>")),this.model.thumbStyle=="rectangle"&&(t=n("<a class='sf-slider-draghandle sf-btn-corner-all sf-shadow sf-state-default sf-slider-rectangle'><\/a>")),this.model.thumbStyle=="diamond"&&(t=n("<a class='sf-slider-draghandle  sf-shadow sf-state-default sf-slider-diamond'><\/a>")),this.model.thumbStyle=="custom"&&(t=n("<a class='sf-slider-draghandle sf-corner-all sf-shadow sf-state-default "+this.model.customThumbClass+"'><\/a>")),t.insertBefore(this._selectedRegion),u.push(t)},_onMouseDownHandler:function(t){var c,o,s,h,i,r;if(sf.blockDefaultActions(t),t=sf.isTouchDevice()?t.changedTouches[0]:t,this.model.disabled)return!1;if(this._mouseMoveStarted&&this._onMouseUp(t),this.onSliderClick=t,sf.isTouchDevice()?(sf.bindTouchEvent(document,moveEv,this._mouseMoveHandler),sf.bindTouchEvent(document,endEv,this._mouseUpHandler)):(n(document).bind(moveEv,this._mouseMoveHandler),n(document).bind(endEv,this._mouseUpHandler)),c={x:t.pageX,y:t.pageY},o=this._getNormalValue(c),this._currentValue=o,s=this,h=this.model.maxValue-this.model.minValue+1,this._dragHandle.each(function(t){var i=Math.abs(o-s._values(t));h>=i&&(h=i,s._closestHandle=n(this),r=t)}),n(this.model.range?this._closestHandle:this._dragHandle).removeClass("sf-state-hover"),n(this.model.range?this._closestHandle:this._dragHandle).addClass("sf-state-active"),this._onStart(t,r),this.model.range){var f=[],u=[],l,a,e=this.model.rangeValues[r];for(this._closestHandle=n(this._dragHandle[r]),this._handlingIndex=r,i=0;i<this.model.rangeValues.length;i++)i!=r&&u.push(this.model.rangeValues[i]),f.push(this.model.rangeValues[i]);for(u=u.sort(function(n,t){return n-t}),i=0;i<u.length;i++)e>=u[i]&&(this._closestLeftValue=u[i]);for(i=0;i<u.length;i++)if(e<=u[i]){this._closestRightValue=u[i];break}f=f.sort(function(n,t){return n-t}),a=f[0],l=f[f.length-1],e==a&&(this._closestLeftValue=this.model.minValue),e==l&&(this._closestRightValue=this.model.maxValue),n(this._dragHandle[r]).css("z-index",2)}return this.model.showToolTip&&(t.target.className.indexOf("sf-slider-draghandle")!=-1&&this._toolTipEl.css("display","block"),this.model.showToolTip&&(this.model.labelCollection?(r=this._getLabelIndex(),this._setToolTipText(this.model.labelCollection[r].ToolTipText?this.model.labelCollection[r].ToolTipText:this.model.labelCollection[r].Text)):this._setToolTipText(this.model.value)),this.model.orientation=="horizontal"?this._toolTipEl.css("left",this.model.range?n(this._dragHandle[this._handlingIndex]).css("left"):this._dragHandle.css("left")):this._toolTipEl.css("bottom",this.model.range?n(this._dragHandle[this._handlingIndex]).css("bottom"):this._dragHandle.css("bottom"))),t.preventDefault&&t.preventDefault(),!0},_onMouseMove:function(t){if(sf.blockDefaultActions(t),t=sf.isTouchDevice()?t.changedTouches[0]:t,this.model.disabled)return!1;this._mouseMoveStarted||(this._mouseMoveStarted=!0),this._slider.css("cursor","pointer"),this._animate=!1;var r={x:t.pageX,y:t.pageY},i=this._getNormalValue(r);this._currentValue=i,this._onSlide(t,i,this._handlingIndex),n(this.model.range?this._closestHandle:this._dragHandle).addClass("sf-state-active"),this.model.showToolTip&&(this.model.orientation=="horizontal"?this._toolTipEl.css("left",this.model.range?n(this._dragHandle[this._handlingIndex]).css("left"):this._dragHandle.css("left")):this._toolTipEl.css("bottom",this.model.range?n(this._dragHandle[this._handlingIndex]).css("bottom"):this._dragHandle.css("bottom"))),t.preventDefault&&t.preventDefault()},_onMouseOver:function(t){if(this.model.disabled)return!1;this._mouseMoveStarted||n(t.currentTarget).addClass("sf-state-hover")},_onMouseOut:function(t){if(this.model.disabled)return!1;n(t.currentTarget).removeClass("sf-state-hover"),n(t.currentTarget).removeClass("sf-state-active"),this.model.renderMode=="normal"&&n(t.currentTarget).addClass("sf-state-default")},_onMouseUp:function(t){if(sf.blockDefaultActions(t),t=sf.isTouchDevice()?t.changedTouches[0]:t,this.model.disabled)return!1;sf.isTouchDevice()?(sf.unBindTouchEvent(document,moveEv,this._mouseMoveHandler),sf.unBindTouchEvent(document,endEv,this._mouseUpHandler)):(n(document).unbind(moveEv,this._mouseMoveHandler),n(document).unbind(endEv,this._mouseUpHandler)),this._mouseMoveStarted&&(this._mouseMoveStarted=!1,t.target==this.onSliderClick.target&&n.data(t.target,this.model.sliderId+".preventClickEvent",!0)),this._animate=this.model.animate,this._slider.css("cursor","default");var i={x:t.pageX,y:t.pageY},r=this._getNormalValue(i);return this._onSlide(t,r,this._handlingIndex),this._onStop(t,this._handlingIndex),this._onChange(t,this._handlingIndex),n(this.model.range?this._closestHandle:this._dragHandle).removeClass("sf-state-hover"),n(this.model.range?this._closestHandle:this._dragHandle).removeClass("sf-state-active"),this.model.renderMode=="normal"&&n(this.model.range?this._closestHandle:this._dragHandle).addClass("sf-state-default"),this.model.range&&n(this._dragHandle[this._handlingIndex]).css("z-index",1),this.model.showToolTip&&this._toolTipEl.css("display","none"),!1},_values:function(n){var t,i;if(arguments.length)return this._trimValue(this.model.rangeValues[n]);for(t=this.model.rangeValues.slice(),i=0;i<t.length;i++)t[i]=this._trimValue(t[i]);return t},_refreshValue:function(){var o,t,r,s,i=this._animate?"animate":"css";if(this._inputValue.val(this._currentValue),s=this._dragHandle.width()/2/this._dragHandle.parent().width()*100,this.model.range&&this.model.rangeValues&&this.model.rangeValues.length){var u=this,e=(this._getMaximumRangeValue()-this.model.minValue)/(this.model.maxValue-this.model.minValue)*100,f=(this._getMinimumRangeValue()-this.model.minValue)/(this.model.maxValue-this.model.minValue)*100;this.model.orientation=="horizontal"?(this._selectedRegion[i]({left:f+"%"},{queue:!1}),this._selectedRegion[i]({width:e-f+"%"},{queue:!1})):(n(this._selectedRegion)[i]({bottom:f+"%"},{queue:!1}),n(this._selectedRegion)[i]({height:e-f+"%"},{queue:!1})),this._dragHandle.each(function(f){t=(u.model.rangeValues[f]-u.model.minValue)/(u.model.maxValue-u.model.minValue)*100,r=t-n(this).width()/n(n(this).parent()).width()*100,r<0&&(r=t),u.model.orientation=="horizontal"?n(this)[i]({left:t+"%"},{queue:!1}):n(this)[i]({bottom:t+"%"},{queue:!1}),o=t})}else t=this.model.minValue!=this.model.maxValue?(this.model.value-this.model.minValue)/(this.model.maxValue-this.model.minValue)*100:0,r=t-this._dragHandle.width()/n(this._dragHandle.parent()).width()*100,r<0&&(r=t),this.model.renderMode=="normal"&&(this.model.value<=0?this._selectedRegion.css("display","none"):this._selectedRegion.css("display","block")),this.model.orientation=="horizontal"?(n(this._selectedRegion)[i]({width:t+"%"},{queue:!1}),n(this._dragHandle)[i]({left:t+"%"},{queue:!1})):(n(this._dragHandle)[i]({bottom:t+"%"},{queue:!1}),n(this._selectedRegion)[i]({height:t+"%"},{queue:!1}))},_getMinimumRangeValue:function(){if(this.model.range){for(var t=this.model.rangeValues[0],n=1;n<this.model.rangeValues.length;n++)t>this.model.rangeValues[n]&&(t=this.model.rangeValues[n]);return t}},_getMaximumRangeValue:function(){if(this.model.range){for(var t=this.model.rangeValues[0],n=1;n<this.model.rangeValues.length;n++)t<this.model.rangeValues[n]&&(t=this.model.rangeValues[n]);return t}},_getNormalValue:function(n){var i,t,r,u;return this.model.orientation=="vertical"?(i=n.y-this._sliderHandle.offset().top,t=i/this._sliderHandle[0].offsetHeight):(i=n.x-this._sliderHandle.offset().left,t=i/this._sliderHandle[0].offsetWidth),t>1&&(t=1),t<0&&(t=0),this.model.orientation=="vertical"&&(t=1-t),r=this.model.maxValue-this.model.minValue,u=this.model.minValue+t*r,this._trimValue(u)},_trimValue:function(n){if(n<=this.model.minValue)return this.model.minValue;if(n>=this.model.maxValue)return this.model.maxValue;var t=this.model.step>0?this.model.step:1,i=(n-this.model.minValue)%t,r=n-i;return Math.abs(i)*2>=t&&(r+=i>0?t:-t),parseFloat(r.toFixed(5))},_onSlide:function(n,t,i){var u,r;t!=this._value()&&(this.model.rangeValues&&this.model.rangeValues.length?(this.model.value=t,t<=this._closestLeftValue?t=this._closestLeftValue:t>=this._closestRightValue&&(t=this._closestRightValue),t!=this.values(i)&&(u=this._values(),u[i]=t,r={value:this.model.value,values:u},this.model.onSlide&&this._trigger("onSlide",r),this.values(i,t),this.prevValue=this.values(i))):(r={value:t},this.model.onSlide&&this._trigger("onSlide",r),this._value(t)))},_generateWidth:function(){if(this.model.enableButtonMode){var t=n(this.element).find(".sf-slider-btn");this.model.enableTickMark||this.model.orientation=="vertical"||this._sliderHandle.css("float","left"),this.model.orientation=="horizontal"?this.model.showThumb?(this._sliderHandle.css("left",-parseInt(this._dragHandle.css("margin-left"))),this._sliderHandle.css("width",sf.getDimension(this._slider,"outerWidth")-2*sf.getDimension(t,"outerWidth")-parseInt(sf.getDimension(this._inputValue,"width"))-3*parseFloat(this._sliderHandle.css("left"))),t.last().css("left",parseInt(this._sliderHandle.css("left"))-parseInt(this._dragHandle.css("margin-left")))):this._sliderHandle.css("width",sf.getDimension(this._slider,"width")-2*sf.getDimension(t,"outerWidth")-5):(t.first().css("float","none"),this._sliderHandle.css("left",(sf.getDimension(t,"outerWidth")-sf.getDimension(this._sliderHandle,"width"))/2),this._sliderHandle.css("top",-parseFloat(this._dragHandle.css("margin-bottom"))),this._sliderHandle.css("height",parseInt(this._slider.height()-2*t[0].offsetHeight)-parseInt(this._inputValue.height())-2*parseFloat(this._sliderHandle.css("left"))),t.last().css("bottom",2*parseInt(this._dragHandle.css("margin-bottom"))))}else this.model.orientation=="horizontal"?(this._sliderHandle.css("left",-parseFloat(this._dragHandle.css("margin-left"))),this._sliderHandle.css("width",sf.getDimension(this._slider,"outerWidth")-parseInt(sf.getDimension(this._inputValue,"width"))-3*parseFloat(this._sliderHandle.css("left")))):(this._sliderHandle.css("top",-parseFloat(this._dragHandle.css("margin-bottom"))),this._sliderHandle.css("left",-parseInt(this._dragHandle.css("left"))),this._sliderHandle.css("height",this._slider[0].offsetHeight-2*parseFloat(this._sliderHandle.css("top"))));this.model.showToolTip?this._inputValue.css("top",parseInt(this._toolTipEl[0].height)-this._inputValue.height()/2):this._inputValue.css("top",-this._inputValue.height()/2),this._slider.removeClass("sf-m-sliderdisp"),this._wrapperDiv.css("visibility","visible"),this._canvasEl&&this._createTickMark()},_onButtonDown:function(t){if(this.model.disabled)return!1;this._animate=!0,t.currentTarget&&(n(t.currentTarget).removeClass("sf-state-hover"),n(t.currentTarget).addClass("sf-state-active")),n(t.currentTarget).find("> .sf-btn-arrow-left").length>0&&(this.model.orientation=="horizontal"?(this._decrementValue(),this._interval=window.setInterval(this._decrementHandler,500)):(this._incrementValue(),this._interval=window.setInterval(this._incrementHandler,500))),n(t.currentTarget).find("> .sf-btn-arrow-right").length>0&&(this.model.orientation=="horizontal"?(this._incrementValue(),this._interval=window.setInterval(this._incrementHandler,500)):(this._decrementValue(),this._interval=window.setInterval(this._decrementHandler,500))),sf.isTouchDevice()?sf.bindTouchEvent(document,endEv,n.proxy(this._onButtonUp,this)):n(document).bind("mouseup",n.proxy(this._onButtonUp,this))},_decrementValue:function(n){var t,f,i,r,u;if(!this._mouseMoveStarted)if(this.model.range){for(t=[],u=0;u<this.model.rangeValues.length;u++)t.push(this.model.rangeValues[u]);t=t.sort(function(n,t){return n-t}),i=t[0],f=t[t.length-1],r=this.model.rangeValues.indexOf(i),this.model.rangeValues[r]>this.model.minValue&&(this.model.rangeValues[this.model.rangeValues.indexOf(i)]=i-this.model.step,this._currentValue=this.model.rangeValues[this.model.rangeValues.indexOf(i)],this._refreshValue(),this._onChange(n,r)),this.model.rangeValues[r]==this.model.minValue&&window.clearInterval(this._interval)}else this.model.value>this.model.minValue&&(this.model.value=this.model.value-this.model.step,this._currentValue=this.model.value,this._refreshValue(),this._onChange(n),window.clearInterval(this._interval)),this.model.value>this.model.minValue&&window.clearInterval(this._interval)},_incrementValue:function(n){var t,i,f,r,u;if(!this._mouseMoveStarted)if(this.model.range){for(t=[],u=0;u<this.model.rangeValues.length;u++)t.push(this.model.rangeValues[u]);t=t.sort(function(n,t){return n-t}),f=t[0],i=t[t.length-1],r=this.model.rangeValues.indexOf(i),this.model.rangeValues[r]<this.model.maxValue&&(this.model.rangeValues[this.model.rangeValues.indexOf(i)]=i+this.model.step,this._currentValue=this.model.rangeValues[this.model.rangeValues.indexOf(i)],this._refreshValue(),this._onChange(n,r)),this.model.rangeValues[r]==this.model.maxValue&&window.clearInterval(this._interval)}else this.model.value<this.model.maxValue&&(this.model.value=this.model.value+this.model.step,this._currentValue=this.model.value,this._refreshValue(),this._onChange(n)),this.model.value==this.model.maxValue&&window.clearInterval(this._interval)},_onButtonUp:function(t){window.clearInterval(this._interval),t.currentTarget&&(n(t.currentTarget).removeClass("sf-state-active"),n(t.currentTarget).addClass("sf-state-default")),n(document).unbind("mouseup",this._buttonUpHandler)},_value:function(n){var i,t;return arguments.length&&(i=this,this.model.value=this._trimValue(n),this._currentValue=n,this._refreshValue(),this.model.showToolTip&&(this.model.labelCollection?(t=this._getLabelIndex(),this._setToolTipText(this.model.labelCollection[t].ToolTipText?this.model.labelCollection[t].ToolTipText:this.model.labelCollection[t].Text)):this._setToolTipText(this.model.value))),this._trimValue(this.model.value)},_getLabelIndex:function(){var t,r=this;return n(this.model.labelCollection).each(function(n,i){if(r.model.range&&r._handlingIndex!=null){if(r.model.rangeValues[r._handlingIndex]<=i.Value)return t=n,!1}else if(r.model.value<=i.Value)return t=n,!1}),t==i&&(t=this.model.range&&this._handlingIndex?this.model.labelCollection[0].Value>this.model.rangeValues[this._handlingIndex]?0:this.model.labelCollection.length-1:this.model.labelCollection[0].Value>this.model.value?0:this.model.labelCollection.length-1),t},_values:function(n,t){if(arguments.length>1){if(this.model.rangeValues[n]=this._trimValue(t),this.model.value=this.model.rangeValues[n],this._refreshValue(),this.model.showToolTip)if(this.model.labelCollection){var n=this._getLabelIndex();this._setToolTipText(this.model.labelCollection[n].ToolTipText?this.model.labelCollection[n].ToolTipText:this.model.labelCollection[n].Text)}else this._setToolTipText(this.model.value);return}return arguments.length?this.model.rangeValues&&this.model.rangeValues.length?this._values(n):this._value():this._values()},hideThumb:function(){this._dragHandle.css("display","none")},showThumb:function(){this._dragHandle.css("display","block")},enable:function(){return this._setOptionValue("Disabled",!1)},disable:function(){return this._setOptionValue("Disabled",!0)},dispose:function(){return this._destroy()},_load:function(){var n;n=this.model.rangeValues&&this.model.rangeValues.length?{values:this._values()}:{value:this.model.value},this.model.onLoad&&this._trigger("onLoad",n)},_onStart:function(n,t){var i={value:this.model.value};this.model.rangeValues&&this.model.rangeValues.length&&(i._value=this.values(t),i.values=this._values()),this.model.onStart&&this._trigger("onStart",i)},_onStop:function(n,t){var i={value:this.model.value};this.model.rangeValues&&this.model.rangeValues.length&&(i._value=this.values(t),i.values=this._values()),this.model.onStop&&this._trigger("onStop",i)},_onChange:function(n,t){var i={value:this.model.value};this.model.rangeValues&&this.model.rangeValues.length&&(i._value=this.values(t),i.values=this._values()),this.model.onChange&&this._trigger("onChange",i)},_setInputValue:function(){this._animate=this.model.animate;var n=this._inputValue.val();this._value(n)},_wireEvents:function(){sf.isTouchDevice()?(sf.bindTouchEvent(this._sliderHandle,startEv,this._mouseDownHandler),sf.bindTouchEvent(this._dragHandle,moveEv,this._mouseOverHandler),sf.bindTouchEvent(this._dragHandle,"mouseout",this._mouseOutHandler),this.model.renderMode=="normal"&&sf.bindTouchEvent(this._inputValue,"change",n.proxy(this._setInputValue,this)),this.model.enableButtonMode&&(sf.bindTouchEvent(n(this.element).find("#"+this.model.sliderId+" .sf-slider-btn"),startEv,this._buttonDownHandler),sf.bindTouchEvent(n(this.element).find("#"+this.model.sliderId+" .sf-slider-btn"),moveEv,this._mouseDownHandler),sf.bindTouchEvent(n(this.element).find("#"+this.model.sliderId+" .sf-slider-btn"),endEv,this._buttonUpHandler),sf.bindTouchEvent(n(this.element).find("#"+this.model.sliderId+" .sf-slider-btn"),"mouseout",this._mouseOutHandler))):(this._sliderHandle.bind(startEv,this._mouseDownHandler),this.model.renderMode=="normal"&&this._inputValue.bind("keyup",n.proxy(this._setInputValue,this)),this._dragHandle.bind("mouseover",this._mouseOverHandler).bind("mouseout",this._mouseOutHandler),this.model.renderMode=="normal"&&this.model.enableButtonMode&&this._sliderButton.bind("mouseover",this._mouseOverHandler).bind("mouseout",this._mouseOutHandler).bind(endEv,this._buttonUpHandler).bind(startEv,this._buttonDownHandler)),n(window).bind("unload",n.proxy(this._destroy,this))},_unWireEvents:function(){sf.isTouchDevice()?(sf.unBindTouchEvent(this._sliderHandle,startEv,this._mouseDownHandler),sf.unBindTouchEvent(this._dragHandle,moveEv,this._mouseOverHandler),sf.unBindTouchEvent(this._dragHandle,"mouseout",this._mouseOutHandler),this.model.renderMode=="normal"&&sf.unBindTouchEvent(this._inputValue,"change",n.proxy(this._setInputValue,this)),this.model.enableButtonMode&&(sf.bindTouchEvent(n(this.element).find("#"+this.model.sliderId+" .sf-slider-btn"),startEv,this._buttonDownHandler),sf.unBindTouchEvent(n(this.element).find("#"+this.model.sliderId+" .sf-slider-btn"),moveEv,this._mouseDownHandler),sf.unBindTouchEvent(n(this.element).find("#"+this.model.sliderId+" .sf-slider-btn"),endEv,this._buttonUpHandler),sf.unBindTouchEvent(n(this.element).find("#"+this.model.sliderId+" .sf-slider-btn"),"mouseout",this._mouseOutHandler))):(this._sliderHandle.unbind(startEv,this._mouseDownHandler),this.model.renderMode=="normal"&&this._inputValue.unbind("keyup",n.proxy(this._setInputValue,this)),this._dragHandle.unbind("mouseover",this._mouseOverHandler).unbind("mouseout",this._mouseOutHandler),this.model.renderMode=="normal"&&this.model.enableButtonMode&&this._sliderButton.unbind("mouseover",this._mouseOverHandler).unbind("mouseout",this._mouseOutHandler).unbind(endEv,this._buttonUpHandler).unbind(startEv,this._buttonDownHandler)),n(window).unbind("unload",n.proxy(this._destroy,this))},_focus:function(){this.model.clearClicked&&this._textBox.focus(),this.model.clearClicked=!1},_clearText:function(n){this.model.type=="password"&&(this.model.currentType=="password"?(this.model.currentType="text",document.getElementById(this.model.id).type="text"):(this.model.currentType="password",document.getElementById(this.model.id).type="password")),this.model.clearClicked=!0,n.preventDefault()},_showClear:function(){this._textBox.attr("value")!=""?n(this.model.clearBtn).css("display","inline-block"):n(this.model.clearBtn).css("display","none")},_focusInHandler:function(){this._textBox.removeClass("sf-input-focusout").addClass("sf-input-focusin"),n(this.element).parent().find(".sf-txborder-left").addClass("sf-txborder-active"),n(this.element).parent().find(".sf-txborder-right").addClass("sf-txborder-active"),this.model.renderMode=="windows"&&this.model.windows.showPassword&&this._showClear()},_focusOutHandler:function(){this._textBox.removeClass("sf-input-focusin").addClass("sf-input-focusout"),n(this.element).parent().find(".sf-txborder-left").removeClass("sf-txborder-active"),n(this.element).parent().find(".sf-txborder-right").removeClass("sf-txborder-active"),this.model.renderMode=="windows"&&this.model.windows.showPassword&&n(this.model.clearBtn).css("display","none")},_setModel:function(n){var i=!1,t;for(t in n)(t=="renderMode"||t=="orientation")&&(i=!0);i&&this._refresh(),this._trigger("modelChange",{changes:n})},_refresh:function(){this._destroy(),this.element.addClass("m-slider"),this._renderControl(),this._wireEvents()},_clearElement:function(){this.element.removeAttr("class"),this.element.removeAttr("style"),this.element.html("")},_destroy:function(){this._unWireEvents(),this._clearElement()}}),m.Slider.thumbStyle={Circle:"circle",Rectangle:"rectangle",Diamond:"diamond",Custom:"custom"}}(jQuery,Syncfusion),function(n,t){t.widget("mSplitPane","m.SplitPane",{_setFirst:!0,defaults:{renderMode:"auto",renderingEngine:"client",leftHeader:null,rightHeader:null,leftHeaderTitle:"Title",rightHeaderTitle:"Title",leftHeaderTemplate:null,rightHeaderTemplate:null,leftScrolling:!0,rightScrolling:!0,ios:{showLeftHeader:!0,showRightHeader:!0},android:{showToolbar:!0,toolbarTheme:"dark"},windows:{showHeader:!0}},dataTypes:{leftScrolling:"boolean",rightScrolling:"boolean",renderMode:"enum",renderingEngine:"enum",ios:{showLeftHeader:"boolean",showRightHeader:"boolean"},android:{showToolbar:"boolean",toolbarTheme:"enum"},windows:{showHeader:"boolean"}},_init:function(){this.model.leftHeader=null,this._nextPage=null,this._currentPage=null,this._previousPage=null,this._uniqueIds=[],this.model.rightHeader=null,this._wp=null,this._transform="-"+sf.browser()+"-transform",this._transition="-"+sf.browser()+"-transition",this._setValues(),this.model.renderingEngine=="client"&&this._renderControl(),this._wireEvents()},_setValues:function(){this._orgEle=n(this.element).clone(),this.model.id=sf.getAttrVal(this.element,"id"),this.model.renderMode=sf.getAttrVal(this.element,"data-rendermode",this.model.renderMode),this.model.renderMode=="auto"&&sf.setRenderMode(this),this.model.ios.mode=sf.getAttrVal(this.element,"data-ios-mode",this.model.ios.mode),this.model.leftScrolling=sf.getBooleanVal(this.element,"data-leftscrolling",this.model.leftScrolling),this.model.rightScrolling=sf.getBooleanVal(this.element,"data-rightscrolling",this.model.rightScrolling),this.model.renderingEngine=sf.getAttrVal(this.element,"data-mode",this.model.renderingEngine),this.model.leftHeaderTitle=sf.getAttrVal(this.element,"data-lefthdrtitle","title"),this.model.rightHeaderTitle=sf.getAttrVal(this.element,"data-righthdrtitle","title"),this.model.android.toolbarIcon=sf.getAttrVal(this.element,"data-android-iconurl"),this.model.android.showToolbar=sf.getBooleanVal(this.element,"data-android-showtoolbar",this.model.android.showToolbar),this.model.ios.showLeftHeader=sf.getBooleanVal(this.element,"data-ios-showleftheader",this.model.ios.showLeftHeader),this.model.ios.showRightHeader=sf.getBooleanVal(this.element,"data-ios-showrightheader",this.model.ios.showRightHeader),this.model.windows.showHeader=sf.getBooleanVal(this.element,"data-windows-showheader",this.model.windows.showHeader),this.model.android.toolbarTitle=sf.getAttrVal(this.element,"data-android-title"),this.model.android.toolbarTheme=sf.getAttrVal(this.element,"data-android-theme",this.model.android.toolbarTheme),this.model.android.showOverflow=sf.getAttrVal(this.element,"data-android-showoverflow",this.model.android.showOverflow),this._layouts=n(this.element).find("[data-layout='pane']")},_renderControl:function(){var t,i,r;this._homePageUrl=window.location.href,sf.isIOS()&&n(this.element).css("position","fixed"),this.model.renderMode=="android"&&this.model.android.showToolbar&&(this._andTB=n("<div id='"+this.model.id+"toolbar' data-role = 'sf-m-toolbar' id ='splitpane_toolbar' data-showoverflow='"+this.model.android.showOverflow+"' data-android-theme='"+this.model.android.toolbarTheme+"' data-title = '"+this.model.android.toolbarTitle+"' data-iconurl='"+this.model.android.toolbarIcon+"' data-position='fixedtop' data-title = 'Settings' data-rendermode = 'android'><\/div>"),this._andTB.insertBefore(this.element),this._toolbarItems=n(this.element).find("div[data-toolbaritems] ul"),this._toolbarItems.length>0&&this._andTB.append(this._toolbarItems),this._andTB.mToolbar(),n(this.element).css("min-height",window.innerHeight-this._andTB.height())),this._wp=n("<div id ='"+this.model.id+"_popup_"+parseInt(Math.random().toFixed(3)*1e3)+"' data-text = 'Loading...' data-rendermode ='"+this.model.renderMode+"' data-role ='sf-m-waitingpopup' targetid ='"+this.model.id+"'><\/div>"),sf.getCurrentPage().append(this._wp),this.element.addClass("sf-m-splitpane sf-m-"+this.model.renderMode),n(this._layouts[0]).addClass("sf-sp-left"),n(this._layouts[1]).addClass("sf-sp-right sf-firstpage ui-page").attr("id","rightelement"),t=n(this._layouts[0]).find(">* >*"),n(this._layouts[0]).find(">*").append(n("<div id ='"+this.model.id+"leftscroll' class='container'><div><\/div><\/div>")),n(this._layouts[0]).find(".container >div").append(t),(this.model.renderMode=="ios"&&this.model.ios.showLeftHeader||this.model.renderMode=="windows"&&this.model.windows.showHeader)&&(this.model.leftHeader=n("<div data-role='sf-m-header' data-rendermode ='"+this.model.renderMode+"' data-header-position='normal' data-showtitle ='true' data-title='"+this.model.leftHeaderTitle+"' data-rendernative='false'><\/div>"),this.element.find("div[data-leftheadertemplate]").length>0&&(this.model.leftHeaderTemplate=n("<div data-template='true'><\/div>"),this.model.leftHeader.attr("data-showtitle",!1),this.model.leftHeaderTemplate.html(this.element.find("div[data-leftheadertemplate]").html()),this.model.leftHeader.append(this.model.leftHeaderTemplate),this.element.find("div[data-leftheadertemplate]").remove()),n(this._layouts[0]).find(">*:first").prepend(this.model.leftHeader),this.model.leftHeader.mHeader()),this.model.leftScrolling&&(i=n("<div data-role ='sf-m-scrollpanel' data-page='false' data-rendermode ='"+this.model.renderMode+"' data-targetid = '"+this.model.id+"leftscroll' data-scrolltype='vertical'><\/div>"),i.mScrollPanel()),sf.isMobile()&&this.element.addClass("sf-mobile"),n(this._layouts[1]).find(">*").append(n("<div id ='"+this.model.id+"rightscroll' data-rendermode ='"+this.model.renderMode+"' class='container'><div><\/div><\/div>")),(this.model.renderMode=="ios"&&this.model.ios.showRightHeader||this.model.renderMode=="windows"&&this.model.windows.showHeader)&&(this.model.rightHeader=n("<div data-role='sf-m-header' data-header-position='normal' data-rendermode ='"+this.model.renderMode+"' data-title='"+this.model.rightHeaderTitle+"' data-rendernative='false'><\/div>"),this.element.find("div[data-rightheadertemplate]").length>0&&(this.model.rightHeaderTemplate=n("<div data-template='true'><\/div>"),this.model.rightHeader.attr("data-showtitle",!1),this.model.rightHeaderTemplate.html(this.element.find("div[data-rightheadertemplate]").html()),this.model.rightHeader.append(this.model.rightHeaderTemplate),this.element.find("div[data-rightheadertemplate]").remove()),n(this._layouts[1]).find(">*:first").prepend(this.model.rightHeader),this.model.rightHeader.mHeader()),this.model.leftHeaderTemplate&&sf.evalSfScripts(this.model.leftHeaderTemplate),this.model.rightHeaderTemplate&&sf.evalSfScripts(this.model.rightHeaderTemplate),this.model.rightScrolling&&(r=n("<div data-role ='sf-m-scrollpanel' data-page='false' data-rendermode ='"+this.model.renderMode+"' data-targetid = '"+this.model.id+"rightscroll' data-scrolltype='vertical'><\/div>"),r.mScrollPanel()),sf.isMobile()?(this.element.find(".sf-sp-right, .sf-sp-left").addClass("ui-page"),this.element.find(".sf-sp-left").addClass("ui-page-active"),this._currentPage=this._layouts[0],this._nextPage=this._layouts[1]):(sf.isAndroid()||this.element.addClass("sf-tablet"),this.element.find(".sf-sp-left").css("float","left"),this.element.find(".sf-sp-left").width(320),(sf.isWindowsPhone()||sf.isAndroid())&&(sf.isPortrait()?this.element.find(".sf-sp-left").width(sf.isAndroid()&&n(window).width<980?200:320):this.element.find(".sf-sp-left").width(sf.isAndroid()?320:450)),this.element.find(".sf-sp-right").width(n(window).width()-this.element.find(".sf-sp-left").outerWidth()-(this.model.renderMode=="android"?4:0)),this._currentPage=this.element.find(".sf-sp-right"),this._currentPage.css(this._transition,"-"+sf.browser()+"-transform ease-in 300ms")),n(this._layouts[0]).show(),this._wp.mWaitingPopup()},_backnavigate:function(){history.back()},loadContent:function(t){var i=this,f,r,e,u;t.reload&&(this._reload=!0),t.showheader=t.showheader==null?!0:t.showheader,this._backDelegate=n.proxy(this._backnavigate,this),n(this.element).find("div[data-url='"+t.documenturl+"']").length>0&&!t.reload?(sf.isMobile()&&(location.hash=t.documenturl,this._currentPage.attr("id")&&this._uniqueIds.push(this._currentPage.attr("id"))),sf.isMobile()||t.ishigherlevel?(location.hash=t.documenturl,this._currentPage.attr("id")||(f="page_"+parseInt(Math.random().toFixed(3)*1e3),this._currentPage.attr("id",f)),this._uniqueIds.push(this._currentPage.attr("id")),r=n(this.element).find("div[data-url='"+t.documenturl+"']"),e=n.mobile.transitionHandlers.slide||n.mobile.defaultTransitionHandler,promise=e("slide",!1,n(r),n(i._currentPage)),i._previousPage=i._currentPage,i._currentPage=r):(r=n(this.element).find("div[data-url='"+t.documenturl+"']"),this._currentPage.removeClass("ui-page-active"),r.addClass("ui-page-active"),this._previousPage=this._currentPage,this._currentPage=r)):(n(this.element).find("div[data-url='"+t.documenturl+"']").length>0&&(this._uniqueIds.pop(),n(this.element).find("div[data-url='"+t.documenturl+"']").remove()),u=n("<div class='ui-page' data-layout ='pane'><\/div>"),sf.isMobile()||(u.addClass("sf-sp-right sf-rightpage"),u.width(n(window).width()-this.element.find(".sf-sp-left").outerWidth()-(this.model.renderMode=="android"?4:0)),u.css("left",this.element.find(".sf-sp-left").outerWidth())),this.element.append(u),this._wp.mWaitingPopup("showPopUp"),t.url.match(/(.*)\.(\w+)$/)&&sf.isWindowsPhone()?Orubase.Windows.readLocalFile(t.url,{onSuccess:function(n){i._successHandler(n,u,t,i)},onFailure:function(){}}):n.ajax({type:"Post",url:t.url,type:t.type,data:t.data,success:function(n){i._successHandler(n,u,t,i)},error:function(){}}))},_successHandler:function(t,i,r,u){var e,f,h,c,l,s,o,a;sf.isWindowsPhone()&&sf.isMobile()&&!sf.getCurrentPage().find("[data-role='sf-m-tab']").length>0&&i.css("position","fixed"),(sf.isMobile()||r.ishigherlevel)&&(this._contentUrl=location.href,n.support.pushState&&this.model.renderMode!="ios"?window.history.pushState(null,r.title?r.title:null,r.documenturl):this.model.renderMode=="ios"&&sf.isIOSWebView()||(location.hash=r.documenturl)),e="page_"+parseInt(Math.random().toFixed(3)*1e3),i.addClass("ui-page-active"),i.attr("data-url",r.documenturl),r.toolbarTitle&&u.model.renderMode=="android"&&u._andTB.mToolbar("model.android.title",r.toolbarTitle),u._uniqueIds.push(e),(u.model.renderMode=="ios"&&u.model.ios.showRightHeader||u.model.renderMode=="windows"&&u.model.windows.showHeader)&&r.showheader&&(f=n("<div id ='"+e+"_header' data-header-position='normal' data-role='sf-m-header' data-rendermode ='"+u.model.renderMode+"' data-title='"+r.headertitle+"' data-rendernative='false'><\/div>"),h=n(u.element).find(".sf-sp-left div.sf-m-lb li.sf-state-active .sf-lb-text").html(),(r.ishigherlevel||sf.isMobile())&&(this.model.renderMode=="ios"&&f.attr("data-showleftbutton","true"),f.attr("data-leftbuttonstyle","back"),f.attr("data-bindback",!1),f.attr("data-leftbuttoncaption",h?h:"Back")),r.showrightbutton&&u.model.renderMode=="ios"&&(f.attr("data-showrightbutton",r.showrightbutton),f.attr("data-rightbuttoncaption",r.rightbuttontext),f.attr("data-onrightbuttonclick",r.onrightbuttonclick)),r.showleftbutton&&u.model.renderMode=="ios"&&(f.attr("data-showleftbutton",r.showleftbutton),f.attr("data-leftbuttoncaption",r.leftbuttontext),f.attr("data-onrightbuttonclick",r.onleftbuttonclick)),u.model.rightHeaderTemplate&&(f.attr("data-showtitle",!1),c=u.model.rightHeaderTemplate.clone(),f.append(c),sf.evalSfScripts(c)),i.append(f)),l=n("<div id ='"+e+"rightscroll'><\/div>"),s=n("<div><\/div>"),i.append(l),l.append(s),typeof t!="string"?s.html(n("body",t).html()):s.html(t),this.model.rightScrolling&&(u._scrollWrapper=n("<div data-role ='sf-m-scrollpanel' data-page='false' data-rendermode ='"+u.model.renderMode+"' data-targetid = '"+e+"rightscroll' data-scrolltype='vertical'><\/div>"),i.append(u._scrollWrapper)),sf.isMobile()?(n(u._currentPage).attr("id",e),o=n.mobile.transitionHandlers.slide||n.mobile.defaultTransitionHandler,promise=o("slide",!1,n(i),n(u._currentPage)),u._previousPage=u._currentPage,u._currentPage=i,promise.done(function(){u._wp.mWaitingPopup("hidePopUp")})):r.ishigherlevel?(n(u._currentPage).attr("id",e),u.element.find("sf-sp-right.sf-firstpage").remove(),o=n.mobile.transitionHandlers.slide||n.mobile.defaultTransitionHandler,promise=o("slide",!1,n(i),n(u._currentPage)),u._previousPage=u._currentPage,u._currentPage=i,promise.done(function(){u._wp.mWaitingPopup("hidePopUp")})):(u.element.find("sf-sp-right.sf-firstpage").remove(),n(u._previousPage?u._previousPage:i).attr("id",e),u._currentPage.removeClass("ui-page-active"),u._currentPage=i,u._uniqueIds.pop(),u._wp.mWaitingPopup("hidePopUp")),sf.evalSfScripts(i),u.model.onSuccess=r.onsuccess,u._wireBackEvent(i),a={element:u.element,data:u._currentPage},r.onsuccess&&u._trigger("onSuccess",a)},setRightHeaderTitle:function(n){this.model.rightHeader.mHeader("setTitle",n)},setLeftHeaderTitle:function(n){this.model.leftHeader.mHeader("setTitle",n)},_onPopState:function(t){this._uniqueIds.length==0&&n(this.element).is(":visible")&&(sf.getCurrentPage().find("[data-role='sf-m-tab']").length>0&&this.model.renderMode=="android"||this._initialPopup||this.model.renderMode!="android")&&(this.model.renderMode=="windows"?n(this.element).closest(".sf-tab-active").length>0&&Orubase.Application.exit():Orubase.Application.exit()),(sf.getCurrentPage().find("[data-role='sf-m-tab']").length>0&&this.model.renderMode=="android"||this._initialPopup||this.model.renderMode!="android")&&(this._contentUrl==location.href&&sf.isWindowsPhone()&&sf.isMobile()||(t.originalEvent.state&&n(this.element).is(":visible")||t.hashchangeState&&t.hashchangeState.direction=="back")&&!sf.isWindowsPhone()||sf.getCurrentPage().find("[data-role='sf-m-tab']").length>0&&n(this.element).is(":visible"))&&(this.model.renderMode=="windows"?(!sf.getCurrentPage().find("[data-role='sf-m-tab']").length||n(this.element).closest(".sf-tab-active").length>0)&&(this._contentUrl=null,this._loadPreviousPage()):this._loadPreviousPage()),this._initialPopup=!0},_loadPreviousPage:function(){var t=this,r=this._uniqueIds.pop(),i=n(this.element).find("#"+r),u=n.mobile.transitionHandlers.slide||n.mobile.defaultTransitionHandler;promise=u("slide",!0,n(i),n(t._currentPage)),promise.done(function(){t._reload&&n(t._currentPage).remove(),t._currentPage=i})},_onResize:function(){var t=this;sf.isMobile()||(t.element.find("div[data-layout='pane']:not(.sf-sp-left)").css("left",t.element.find(".sf-sp-left").outerWidth()),(sf.isWindowsPhone()||sf.isAndroid())&&(sf.isPortrait()?this.element.find(".sf-sp-left").width(sf.isAndroid()&&n(window).width<980?200:320):this.element.find(".sf-sp-left").width(sf.isAndroid()?320:450)),window.setTimeout(function(){t.element.find("div[data-layout='pane']:not(.sf-sp-left)").width(window.innerWidth-t.element.find(".sf-sp-left").outerWidth())},200)),this.model.renderMode=="android"&&this.model.android.showToolbar&&n(this.element).css("min-height",window.innerHeight-this._andTB.height())},_onSwipeRight:function(){sf.isPortrait()&&(this.element.find(".sf-sp-left").css(this._transition,"-"+sf.browser()+"-transform ease-in 300ms"),this.element.find(".sf-sp-left").css(this._transform,"translateX(0)"))},_hideLeftPanel:function(){this.element.find(".sf-sp-left").css(this._transform,"translateX("+-this.element.find(".sf-sp-left").width()+"px)")},_wireBackEvent:function(t){this.model.renderMode=="ios"?n(t).find("div[data-role='sf-m-header'] .sf-header-left a.sf-m-actionlink").bind("click",n.proxy(this._loadPreviousPage,this)):n(t).find("div[data-role='sf-m-header'] .sf-header-left a.sf-m-actionlink").bind("click",n.proxy(this._backnavigate,this))},_wireEvents:function(){n(window).bind("resize orientationchange",n.proxy(this._onResize,this)),this.element.find(".sf-sp-right").bind("swiperight",n.proxy(this._onSwipeRight,this)),this.element.find(".sf-sp-right").bind("swipeleft",n.proxy(this._onSwipeLeft,this)),this.model.renderMode=="ios"&&sf.isIOSWebView()||n(window).bind(n.support.pushState?"popstate":"hashchange",n.proxy(this._onPopState,this))},_setModel:function(n){var t=!1,i;for(i in n)i=="renderMode"&&(t=!0);t&&this._refresh(),this._trigger("modelChange",{changes:n})},_refresh:function(){this._destroy(),this.element.addClass("m-splitpane"),this._renderControl(),this._wireEvents()},_clearElement:function(){this.element.removeAttr("class"),this.element.html(this._orgEle.html())},_destroy:function(){this._unWireEvents(),this._clearElement()}}),m.SplitPane.ios={mode:{Auto:"auto",Tablet:"tablet",Mobile:"mobile"}}}(jQuery,Syncfusion),function(n,t,i){t.widget("mTab","m.Tab",{_setFirst:!0,defaults:{id:null,collapsible:"false",selectedItemIndex:0,contentPosition:"bottom",renderMode:"auto",renderingEngine:"client",onTabsLoad:i,onTabsDisable:i,onTabsEnable:i,onTabsSelect:i,onLoadComplete:i,allowCache:!1,ios:{scrolling:!1},android:{theme:"dark",tabStyle:"auto",scrolling:!1},windows:{swipe:!1}},dataTypes:{collapsible:"boolean",contentPosition:"enum",renderMode:"enum",renderingEngine:"enum",allowCache:"boolean",ios:{Scrolling:"boolean"},android:{theme:"enum",tabStyle:"enum",scrolling:"booelan"}},_init:function(){this._setValues(),this._tabInit()},_setValues:function(){this._orgEle=n(this.element).clone(),this.model.id=n(this.element).attr("id"),this.model.renderMode=sf.getAttrVal(this.element,"data-rendermode",this.model.renderMode),this.model.renderMode=="auto"&&sf.setRenderMode(this),this.model.renderMode=="android"&&(this.model.android.tabStyle=sf.getAttrVal(this.element,"data-android-tabstyle",this.model.android.tabStyle),this.model.android.scrolling=sf.getBooleanVal(this.element,"data-android-scroll",this.model.android.scrolling),this.model.android.theme=sf.getAttrVal(this.element,"data-android-theme",this.model.android.theme)),this.model.renderingEngine=sf.getAttrVal(this.element,"data-mode",this.model.renderingEngine),this.model.ios.scrolling=sf.getBooleanVal(this.element,"data-iosscroll",this.model.ios.scrolling),this.model.collapsible=sf.getBooleanVal(this.element,"data-collapsible",this.model.collapsible),this.model.autoFormat=sf.getAttrVal(this.element,"data-autoformat",this.model.autoFormat),this.model.tabPosition=sf.getAttrVal(this.element,"data-tabposition"),this.model.allowCache=sf.getAttrVal(this.element,"data-allowcache",this.model.allowCache),this.model.selectedItemIndex=sf.getAttrVal(this.element,"data-selecteditemindex",this.model.selectedItemIndex),this.model.contentPosition=sf.getAttrVal(this.element,"data-contentposition",this.model.contentPosition)=="top"?1:2,this.model.selectedItemIndex=Number(sf.getAttrVal(this.element,"data-selecteditemindex",this.model.selectedItemIndex)),sf.getAttrVal(this.element,"data-disabled")!=null&&(this.model.disabled=JSON.parse(sf.getAttrVal(this.element,"data-disabled"))),this.model.renderMode=="normal"&&(this.model.spinner=sf.getAttrVal(this.element,"data-spinner"),sf.getAttrVal(this.element,"data-animation")!=null&&(this.model.animation=JSON.parse(sf.getAttrVal(this.element,"data-animation")))),this.model.onTabsLoad=sf.getAttrVal(this.element,"data-ontabsload"),this.model.onTabsDisable=sf.getAttrVal(this.element,"data-ontabsdisable"),this.model.onTabsEnable=sf.getAttrVal(this.element,"data-ontabsenable"),this.model.onTabsSelect=sf.getAttrVal(this.element,"data-ontabsselect"),this.model.onLoadComplete=sf.getAttrVal(this.element,"data-onloadcomplete"),this.model.windows.swipe=sf.getAttrVal(this.element,"data-windowsswipe",this.model.windows.swipe)},_tabInit:function(){if(this.model.renderingEngine=="client"&&(this.model.renderMode=="ios"?this._renderIosTab():this.model.renderMode=="android"?this._renderAndroidTab():this.model.renderMode=="windows"&&this._renderWindowsTab(),this._renderPopup(),sf.evalSfScripts(this.element)),this._mouseMove=!1,this._itemsContainer=n(this.element).find(">.sf-tab-header"),this._items=n(this.element).find(".sf-tab-header .sf-tab-item"),this._anchors=n(this._items).find(".sf-tab-link"),n(this._anchors).removeClass("ui-link"),this._cFlag=!0,this._aFlag=!1,this._select=this.model.selectedItemIndex,this._startEv=sf.isTouchDevice()?"touchstart":"mousedown",this._moveEv=sf.isTouchDevice()?"touchmove":"mousemove",this._endEv=sf.isTouchDevice()?"touchend":"mouseup",this._tabHeader=n(this.element).find(".sf-tab-header"),this._load(),this.model.renderingEngine=="client"&&(this.model.renderMode=="ios"||this.model.renderMode=="android"||this.model.renderMode=="windows")&&this._renderControl(),this.model.renderMode=="normal"){this.model.tabPosition=="fixed"?(this._tabShown=!0,this._wrapper=sf.getCurrentPage().find("#"+this.model.id+"_wrapper"),this._contentElements=sf.getCurrentPage().find("#"+this.model.id+"_wrapper").find("> .sf-tab-content"),n(this._wrapper.find(".sf-tab-content")).addClass("sf-tab-cntitem"),this.model.contentPosition=="top"?n(this.element).appendTo(sf.getCurrentPage()):n(this.element).prependTo(sf.getCurrentPage())):(this._contentElements=n(this.element).find("> .sf-tab-content"),n(n(this.element).find(".sf-tab-content")).addClass("sf-tab-cntitem")),this._setPosition();var t=n(this._contentElements[this.model.selectedItemIndex]),i=n(this._items[this.model.selectedItemIndex]).find(".sf-tab-link");n(t).is(":empty")&&this._sendAjaxRequest(t,i),this._wireEvents(),this._totalWidth=0,this.model.tabPosition=="fixed"&&(sf.setTop(n(this.element)),this.fElHeight=sf.getDimension(n(this._tabHeader),"outerHeight"),n(this.element).height(this.fElHeight))}this.showTab()},_renderControl:function(){var u,r,s,f,t,i,e,o;this.model.renderMode=="ios"?(navigator.userAgent.indexOf("iPad")!=-1&&n(this.element).find(".sf-tab-header").addClass("sf-m-ipad"),this._tabShown=!0,this._wrapper=sf.getCurrentPage().find("#"+this.model.id+"_wrapper"),this._contentElements=sf.getCurrentPage().find("#"+this.model.id+"_wrapper").find(".sf-tab-content"),this.model.renderingEngine=="client"&&(this._wrapper=sf.getCurrentPage().find("*[data-role='sf-tab-content']"),this._contentElements=this._wrapper.find(".sf-tab-content")),u=window.innerHeight-this.element.offsetHeight,n(this._wrapper.find(".sf-tab-content")).addClass("sf-tab-cntitem"),this._wp=n("#"+this.model.id+"_wp"),n(this.element).appendTo(sf.getCurrentPage()),t=n(this._contentElements[this.model.selectedItemIndex]),i=n(this._items[this.model.selectedItemIndex]).find(".sf-tab-link"),n(t).is(":empty")&&this._sendAjaxRequest(t,i),this._iosWireEvents(),this._wrapper.css("min-height",u+"px"),this._contentElements.css("min-height",u+"px"),(this.model.android.scrolling||this.model.ios.scrolling)&&n("#"+this.model.id+"_panel").mScrollPanel("_refresh"),this._totalWidth=0):this.model.renderMode=="android"?(r=0,this._wrapper=sf.getCurrentPage().find("#"+this.model.id+"_wrapper"),this._contentElements=sf.getCurrentPage().find("#"+this.model.id+"_wrapper").find(".sf-tab-content"),this.model.renderingEngine=="client"&&(this._wrapper=sf.getCurrentPage().find("*[data-role='sf-tab-content']"),this._contentElements=this._wrapper.find(".sf-tab-content")),this.model.android.tabStyle=="scrollable"?(this._browser=/webkit/i.test(navigator.appVersion)?"webkit":/firefox/i.test(navigator.userAgent)?"Moz":/trident/i.test(navigator.userAgent)?"ms":"opera"in window?"O":"",this._has3d="WebKitCSSMatrix"in window&&"m11"in new WebKitCSSMatrix,this._transOpen="translate"+(this._has3d?"3d(":"("),this._cMovVal=0,this._mflag=!1,this._transClose=this._has3d?",0)":")",s=this,this._cContainer=n("#"+this.model.id+"_wrapper").find(".sf-tab-c-container"),this._contentElements.width(window.innerWidth),this._anrdPositionItems(),this._translate(this._cContainer[0],-window.innerWidth*this.model.selectedItemIndex),(this.model.android.scrolling||this.model.ios.scrolling)&&n("#"+this.model.id+"_panel").mScrollPanel("_refresh")):this.model.android.tabStyle=="normal"&&(n.each(this._items,function(n,t){r=r>sf.getDimension(t,"width")?r:sf.getDimension(t,"width")}),this._items.width(r),n(this.element).find("#andscrollcontent ul").width(this._items.length*r),f=n("<div data-rendermode='android' data-showscrollbar='false' data-sfscroll='content' data-page= 'false' data-scrolltype='horizontal' data-targetid ='andscrollcontent' data-targetheight='47' data-role='sf-m-scrollpanel'><\/div>"),n(this.element).append(f),f.mScrollPanel()),this._wp=n("#"+this.model.id+"_wp"),this._wp&&this._wp.appendTo(sf.getCurrentPage()),t=n(this._contentElements[this.model.selectedItemIndex]),i=n(this._items[this.model.selectedItemIndex]).find(".sf-tab-link"),n(t).is(":empty")&&this._sendAjaxRequest(t,i),this._anrdWireEvents()):this.model.renderMode=="windows"&&(this._wrapper=sf.getCurrentPage().find("#"+this.model.id+"_wrapper"),n(this._wrapper).prependTo(sf.getCurrentPage()),this._contentElements=sf.getCurrentPage().find("#"+this.model.id+"_wrapper").find(".sf-tab-content"),n(this._contentElements[0]).addClass("sf-tab-active"),this._mflag=!1,this._cContainer=n("#"+this.model.id+"_wrapper").find(".sf-tab-c-container"),this._cContainerChildren=n(this._cContainer).children(),this._contentElements.width(window.innerWidth),n("#"+this.model.id+"_wrapper").find(".sf-root-container").width((this._cContainerChildren.length+2)*window.innerWidth),n("#"+this.model.id+"_wrapper").find(".sf-headerContainer").width((this._cContainerChildren.length+2)*window.innerWidth),this._itemChanged=!1,this._headerItemChanged=!1,this._headerChanged=!1,this._hasDuplicateTab=!1,this._difference=0,this._selectedTabItemIndex=this.model.selectedItemIndex,this._selectedHeaderItemIndex=this.model.selectedItemIndex,this._hasPreviousTab=!1,this._hasPreviousHead=!1,this._hasNextTab=this._cContainerChildren.length>1?!0:!1,this._tabItemContainer=n("#"+this.model.id+"_wrapper").find("div.sf-root-container"),this._headItemContainer=n("#"+this.model.id+"_wrapper").find("div.sf-headerContainer"),t=n(this._contentElements[this._selectedTabItemIndex]),i=n(this._items[this._selectedTabItemIndex]).find(".sf-tab-windows-link"),n(t).is(":empty")&&this._sendAjaxRequest(t,i),this._windowsWireEvents(),this._header=sf.getCurrentPage().find("*[data-role='sf-m-header']"),e=n(this._header).css("height")=="0px"?"60px":n(this._header).css("height"),n(this._wrapper).css("top",e)),o={object:this},this.model.onLoadComplete&&this._trigger("onLoadComplete",o)},_renderPopup:function(){var i=n("<div id='"+this.model.id+"_popup'   data-role='sf-m-waitingpopup' data-popupmode='canvas' data-text='Loading...' data-targetid ='"+this.model.id+"_wrapper' data-showpanel='true' data-rendermode='"+this.model.renderMode+"'  data-mode='client'> <\/div>"),t;n(this.element).append(i),(this.model.ios.scrolling||this.model.android.scrolling)&&(t=n("<div data-sfscroll = 'content' class ='sf-m-sp sf-clear-all sf-m-"+this.model.renderMode.toString().toLowerCase()+"'data-rendermode = '"+this.model.renderMode+"' data-targetid ='"+this.model.id+"_wrapper' data-role='sf-m-scrollpanel' ><\/div>"),n(this.element).append(t))},_renderAndroidTab:function(){var r=this,t=n("<div id ="+this.model.id+"_wrapper class='sf-m-tab'><\/div>"),i;n(this.element).addClass("sf-m-tab sf-m-android sf-state-default sf-font-normal sf-m-tab-android"),i=n('<div id="andscrollcontent"><\/div>'),n(i).append(n(this.element).find("ul")),n(this.element).append(i),this.model.android.theme=="dark"&&n(this.element).addClass("sf-tab-black"),n(this.element).addClass("sf-m-"+this.model.android.tabStyle),n(this.element).parent().append(t),t.append(n(this.element)),t.append(this._renderTabHeaders())},_renderWindowsTab:function(){var i=this,t=n("<div id ="+this.model.id+"_wrapper class='sf-m-tab sf-m-windows-tab'><\/div>");n(this.element).addClass("sf-m-tab sf-m-windows sf-m-tab-windows sf-font-windows sf-font-normal sf-headerContainer"),n(this.element).parent().append(t),t.append(n(this.element)),t.append(this._renderTabHeadersWindows()),n(sf.getCurrentPage().find("#main")).append(t)},_renderTabHeaders:function(){var f=this,r=n(this.element).find("ul"),u,i,t;return r.addClass("sf-tab-header sf-state-default"),this.model.android.tabStyle=="scrollable"&&r.addClass("sf-tab-swipe"),u=r.find("li"),i=n("<div class='sf-tab-root-container' data-role='sf-tab-content'><\/div>"),sf.isAndroid()&&i.css("min-height",n(window).height()+"px"),t=n("<div><\/div>"),this.model.android.tabStyle=="scrollable"?t.addClass("sf-tab-c-container"):t.addClass("sf-tab-container"),i.append(t),u.each(function(n,i){f._renderTabItem(n,i,t)}),i},_renderTabHeadersWindows:function(){var u=this,i=n(this.element).find("ul");i.addClass("sf-tab-header sf-m-windows-header");var f=i.find("li"),r=n("<div id='"+this.model.id+"_container' class='sf-root-container'><\/div>"),t=n("<div id='sf-tab-c-container'><\/div>");return t.addClass("sf-tab-c-container"),r.append(t),f.each(function(n,i){u._renderTabItemWindows(n,i,t)}),r},_renderIosTab:function(){var f=this,i=n("<div id ="+this.model.id+"_wrapper class='sf-m-tab'><\/div>"),r,u,t,e;n(this.element).addClass("sf-m-tab sf-m-ios sf-state-default sf-m-tab-ios"),r=n(this.element).find("ul"),u=n(this.element).find("ul li"),r.addClass("sf-tab-header sf-clearall sf-state-default"),t=n("<div class='sf-m-tab' data-role='sf-tab-content'><\/div>"),t.append(n("<div class='sf-tab-c-container'><\/div>")),e=[],u.each(function(n,i){n<5&&f._renderTabItem(n,i,t)}),n(this.element).parent().append(i),n(i).append(t)},_renderTabItem:function(t,i,r){var u=n(i).find("a"),s=u.html(),h,e,o,f;u.empty(),sf.getAttrVal(n(this.element),"data-disabled")&&n(i).addClass("sf-state-disabled"),this.model.allowCache&&n(i).addClass("sf-tab-cache"),n(i).addClass("sf-tab-item"),this.model.renderMode=="ios"&&n(i).addClass("sf-corner-all"),t==this.model.selectedItemIndex?n(i).addClass("sf-tab-active sf-state-active"):n(i).addClass("sf-state-default"),u.addClass("sf-tab-link"),this.model.renderMode=="android"&&u.addClass("sf-tab-link sf-font-android sf-font-normal"),h=sf.getAttrVal(i,"data-activeimageurl",null),this.model.renderMode=="ios"?(h!=null&&(e=n("<div class='sf-link-image'><\/div>"),sf.getAttrVal(i,"data-imageurl")&&e.append(n("<img class = 'sf-image sf-tbtext-bottom' src = '"+sf.getAttrVal(i,"data-imageurl")+"'><\/img>")),t==this.model.selectedItemIndex&&e.find(".sf-image").hide(),sf.getAttrVal(i,"data-activeimageurl")&&e.append(n("<img class = 'sf-image sf-tab-activeimg sf-tbtext-bottom' style='display:inline' src = '"+sf.getAttrVal(i,"data-activeimageurl")+"'><\/img>")),t!=this.model.selectedItemIndex&&e.find(".sf-image.sf-tab-activeimg").hide(),u.append(e)),u.append(n("<div class='sf-link-text'>"+s+"<\/div>"))):u.append(s),o=u.attr("href"),o.charAt(0)=="#"?(f=sf.getCurrentPage().find("#"+o.replace("#","")),f.addClass("sf-tab-content sf-tab-cntitem")):f=n("<div class='sf-tab-content sf-tab-cntitem'><\/div>"),(t==this.model.selectedItemIndex||this.model.android.tabStyle=="scrollable")&&f.addClass("sf-tab-activeContent"),this.model.renderMode=="android"?r.append(f):r.find(".sf-tab-c-container").append(f),this.model.renderMode=="android"&&n(i).append(n("<div class='sf-tab-marker'><\/div>"))},_renderTabItemWindows:function(t,i,r){var u=n(i).find("a"),o=u.html(),e,f;u.empty(),sf.getAttrVal(n(this.element),"data-disabled")&&n(i).addClass("sf-state-disabled"),this.model.allowCache&&n(i).addClass("sf-tab-cache"),n(i).addClass("sf-tab-item"),u.addClass("sf-tab-link sf-font-normal sf-font-windows sf-tab-windows-link"),t==this.model.selectedItemIndex&&u.addClass("sf-tab-windows-alink"),u.append(o),e=u.attr("href"),e.charAt(0)=="#"?(f=sf.getCurrentPage().find("#"+e.replace("#","")),f.addClass("sf-tab-content sf-tab-cntitem")):f=n("<div class='sf-tab-content sf-tab-cntitem'><\/div>"),f.css("min-height",n(window).innerHeight()-45),r.append(f)},_findClrTranslate:function(n){var t=this._calculateInterval(n),i=this._findRightTrans(n),r=i-t,u=r-t;return{right:i,center:r,left:u,interval:t}},_positionItems:function(n){var t=this._calculateInterval(n),i=window.innerWidth},_wireEvents:function(){var i,t;if(this._totalWidth>this._elmtWidth)sf.bindTouchEvent(this.element,this._startEv,n.proxy(this._onMouseDownHandler,this));else for(this._mdownHandler=n.proxy(this._onClickHandler,this),i=n(this._items),t=0;t<i.length;t++)element=i[t],element.addEventListener("click",this._mdownHandler,!0);n(this._anchors).bind("click",n.proxy(this._anchorClickHandler,this)),n(window).bind("resize",n.proxy(this._wndResizeHandler,this)),this.model.tabPosition=="fixed"&&(n(document).bind("scrollstop",n.proxy(this._setPos,this)),n(this._contentElements).bind("swiperight swipeleft "+this._endEv,n.proxy(this._fixedTabSwipeHandler,this)))},_onMoveHandler:function(){this._mouseMove=!0},_unWireEvents:function(){this._totalWidth>this._elmtWidth&&sf.unBindTouchEvent(this.element,this._startEv,this._onMouseDownHandler),sf.unBindTouchEvent(this._items,this._endEv,this._mdownHandler),n(window).unbind("resize"),this.model.tabPosition=="fixed"&&(n(document).unbind("scrollstop"),n(this._contentElements).unbind("swiperight swipeleft "+this._endEv))},_iosWireEvents:function(){this._mdownHandler=n.proxy(this._onClickHandler,this),sf.bindTouchEvent(this._items,this._startEv,this._mdownHandler),n(this._anchors).bind("click",n.proxy(this._anchorClickHandler,this))},_anrdWireEvents:function(){this.model.android.tabStyle=="scrollable"?(sf.bindTouchEvent(document,this._startEv,n.proxy(this._atStartHandler,this)),sf.isTouchDevice()&&sf.bindTouchEvent(document,this._moveEv,n.proxy(this._atMoveHandler,this)),sf.bindTouchEvent(document,this._endEv,n.proxy(this._atEndHandler,this))):(this._mMoveHanlder=n.proxy(this._onMoveHandler,this),sf.bindTouchEvent(this._items,this._moveEv,this._mMoveHanlder),this._mupHandler=n.proxy(this._onClickHandler,this),sf.bindTouchEvent(this._items,this._endEv,this._mupHandler),this._pressHandler=n.proxy(this._onAnrdPressHandler,this),sf.bindTouchEvent(this._items,this._startEv,this._pressHandler)),n(this._anchors).bind("click",n.proxy(this._anchorClickHandler,this))},_windowsWireEvents:function(){this._cContainer=n("#"+this.model.id+"_wrapper").find(".sf-tab-c-container"),this.model.windows.swipe&&(sf.bindTouchEventWindows(this._cContainer[0],this._startEv,n.proxy(this._atStartHandler,this)),sf.isTouchDevice()&&sf.bindTouchEventWindows(this._cContainer[0],this._moveEv,n.proxy(this._atMoveHandler,this)),sf.bindTouchEventWindows(this._cContainer[0],this._endEv,n.proxy(this._atEndHandler,this))),n(window).bind("orientationchange",n.proxy(this._windowsOrientation,this)),n(this._anchors).bind("click",n.proxy(this._onClickHandler,this))},_calculateWidth:function(t,i){for(var u=0,r=0;r<i;r++)u+=n(t[r]).width();return u},_callTranslateIe:function(){var n=this,t=setTimeout(function(){n._translateIe(t)},400)},_translateIe:function(t){if(sf.isMobile()){if(this._hasDuplicateTab&&this._swipel&&(n(this._cContainerChildren[0]).remove(),this._selectedTabItemIndex--,n(this._tabItemContainer).animate({left:"-"+window.innerWidth*this._selectedTabItemIndex+"px"},0),this._hasDuplicateTab=!1,this._cContainerChildren=n(this._cContainer).children()),this._selectedHeaderItemIndex==this._items.length-1){var i=n(this._items).slice(0,this._selectedHeaderItemIndex);n(i).appendTo(this._itemsContainer),this._items=n("#"+this.model.id+"_wrapper").find(".sf-tab-header .sf-tab-item"),n(this._headItemContainer).animate({left:"0px"},0),n(n(this._items[0]).find(".sf-tab-windows-link")).addClass("sf-tab-windows-alink"),this._selectedHeaderItemIndex=0,this._hasPreviousHead=!1,this._headerItemChanged=!0}}else n(this._tabItemContainer).css({left:-(window.innerWidth*this._selectedHeaderItemIndex)+"px",transition:"left 250ms"});this._mflag=!1,this._swipel=!1,this._swiper=!1,clearTimeout(t)},_selectTranslateIe:function(t,i,r){if(sf.isMobile()){if(this._cContainerChildren=n(this._cContainer).children(),this._hasNextTab=!1,n(this._tabItemContainer).animate({left:"-"+window.innerWidth*this._selectedTabItemIndex+"px"},0),this._cContainerChildren=n(this._cContainer).children(),this._selectedHeaderItemIndex==this._items.length-1){var u=n(this._items).slice(0,this._selectedHeaderItemIndex);n(u).appendTo(this._itemsContainer),this._items=n("#"+this.model.id+"_wrapper").find(".sf-tab-header .sf-tab-item"),n(this._headItemContainer).animate({left:"0px"},0),n(n(this._items[0]).find(".sf-tab-windows-link")).addClass("sf-tab-windows-alink"),this._selectedHeaderItemIndex=0,this._hasPreviousHead=!1,this._headerItemChanged=!0}this._items=n(this.element).find(">.sf-tab-header .sf-tab-item")}else n(this._tabItemContainer).css({left:-(window.innerWidth*this._selectedHeaderItemIndex)+"px",transition:"left 250ms"});clearTimeout(r)},_swipeRightAndClearIEMove:function(t){var i=this._cContainerChildren.length;n(this._cContainerChildren[i-1]).remove(),n(this._items[i-1]).remove(),this._items=n("#"+this.model.id+"_wrapper").find(".sf-tab-header .sf-tab-item"),this._cContainerChildren=n(this._cContainer).children(),this._selectedTabItemIndex=0,this._selectedHeaderItemIndex=0,this._hasPreviousHead=!1,this._hasDuplicateTab=!1,this._itemChanged=!1,clearTimeout(t),this._hasPreviousTab=!1},_swipeHeaderRightAndClear:function(t){var i=this._items.length;n(this._headItemContainer).animate({left:"0px"},400),n(this._items[i-1]).remove(),this._items=n("#"+this.model.id+"_wrapper").find(".sf-tab-header .sf-tab-item"),this._selectedHeaderItemIndex=0,this._hasPreviousHead=!1,this._itemChanged=!1,clearTimeout(t)},_atStartHandler:function(t){this._items.css("-"+this._browser+"-transition-property","-"+this._browser+"-transform"),this._lFlag=!0,this._rFlag=!0,this.model.renderMode=="windows"?(this._aMove=!1,sf.isTouchDevice()?t=t.changedTouches[0]:n(this._cContainer[0]).bind(this._moveEv,n.proxy(this._atMoveHandler,this)),this._tabMoveStartPosition=n(this._tabItemContainer).position().left,this._itemsMoveStartPosition=n(this._headItemContainer).position().left):(t.preventDefault(),sf.isTouchDevice()?t=t.changedTouches[0]:n(document).bind(this._moveEv,n.proxy(this._atMoveHandler,this))),this._aStartX=t.clientX},_translate:function(n,t){n.style[this._browser+"TransitionDuration"]="400ms",n.style[this._browser+"Transform"]=this._transOpen+t+"px, 0px"+this._transClose},_atMoveHandler:function(t){var f,u;if(this._aMove=!0,sf.isTouchDevice()&&(t=t.changedTouches[0]),this._moved=t.clientX-this._aStartX,this.model.renderMode=="windows")this._moved<0?(n(this._tabItemContainer).css("left",this._tabMoveStartPosition+this._moved+"px"),n(this._headItemContainer).css("left",this._itemsMoveStartPosition+this._moved/15+"px")):this._moved>0&&(this._hasPreviousTab||this._selectedTabItemIndex!=0||(f=this._cContainerChildren.length,u=n(this._cContainerChildren[f-1]).clone(!0),n(u).prependTo(this._cContainer),this._hasPreviousTab=!0,this._tabMoveStartPosition=-window.innerWidth),this._hasPreviousHead||this._selectedHeaderItemIndex!=0||(f=this._items.length,u=n(this._items[f-1]).clone(!0),n(u).prependTo(this._itemsContainer),n(u).find(".sf-tab-windows-link").addClass("sf-tab-windows-alink"),this._hasPreviousHead=!0,this._itemsMoveStartPosition=-n(u).width(),n(n(this._items[this._selectedHeaderItemIndex]).find(".sf-tab-windows-link")).removeClass("sf-tab-windows-alink")),n(this._tabItemContainer).css("left",this._tabMoveStartPosition+this._moved+"px"),n(this._headItemContainer).css("left",this._itemsMoveStartPosition+this._moved/15+"px"));else{t.preventDefault();var i=this.model.selectedItemIndex,r=this._findClrTranslate(i),e=this._findClrTranslate(i-1),o=this._findClrTranslate(i+1);this._moved<=0?o.left<=r.center+this._moved?(this._translate(this._items[i],r.center+this._moved),this._rStart=t.clientX,this._items[i-1]&&r.center+this._moved<=o.left+this._items[i-1].offsetWidth&&(this._lFlag&&(this._lStart=t.clientX,this._lFlag=!1),this._translate(this._items[i-1],r.left+(t.clientX-this._lStart)))):o.center<=r.right+(t.clientX-this._rStart)&&(this._translate(this._items[i+1],r.right+(t.clientX-this._rStart)),this._items[i+2]&&t.clientX-this._rStart+r.right>=o.right&&this._translate(this._items[i+2],t.clientX-this._rStart+r.right)):e.right>=r.center+this._moved?(this._lStart=t.clientX,this._translate(this._items[i],r.center+this._moved),this._items[i+1]&&r.center+this._moved>=e.right-this._items[i+1].offsetWidth&&(this._rFlag&&(this._rStart=t.clientX,this._rFlag=!1),this._translate(this._items[i+1],r.right+(t.clientX-this._rStart)))):e.center>=r.left+(t.clientX-this._lStart)&&this._items[i-1]&&(this._translate(this._items[i-1],r.left+(t.clientX-this._lStart)),this._items[i-2]&&e.left>=r.left+(t.clientX-this._lStart)&&this._translate(this._items[i-2],r.left+(t.clientX-this._lStart))),this._translate(this._cContainer[0],-window.innerWidth*this.model.selectedItemIndex+this._moved)}Math.abs(this._moved)>50&&(this._mflag=!0,this._moved<0?(this._swipel=!0,this._swiper=!1):(this._swiper=!0,this._swipel=!1))},_calculateInterval:function(n){return n==0?(window.innerWidth-(this._items[0].offsetWidth+this._items[1].offsetWidth))/2:n==this._items.length-1?(window.innerWidth-(this._items[this._items.length-1].offsetWidth+this._items[this._items.length-2].offsetWidth))/2:n>0&&n<this._items.length?(window.innerWidth-(this._items[n-1].offsetWidth+this._items[n].offsetWidth+this._items[n+1].offsetWidth))/2:void 0},_atEndHandler:function(){var o,h,u,f,e,c;if(this.model.renderMode=="android"){if(this._aMove&&this.model.selectedItemIndex<this._items.length&&this.model.selectedItemIndex>=0){if(o=this.model.selectedItemIndex,this._mflag){this._swipel&&this.model.selectedItemIndex!=this._items.length-1?this.model.selectedItemIndex++:this._swiper&&this.model.selectedItemIndex>0&&this.model.selectedItemIndex--,this._anrdPositionItems();var t=this.model.selectedItemIndex,i=n(this._contentElements[t]),r=n(this._items[t]),s=i.is(":empty")||!n(r).hasClass("sf-tab-cache")&&n(r).hasClass("sf-tab-ajax");s&&o!=t&&(n(i).empty(),this._sendAjaxRequest(i,r.find(".sf-tab-link"))),this._translate(this._cContainer[0],-window.innerWidth*t),this._mflag=!1,this._swipel=!1,this._swiper=!1,this.model.onTabsSelect&&this._trigger("onTabsSelect",c)}sf.isTouchDevice()?sf.unBindTouchEvent(document,this._moveEv,this._atMoveHandler):n(document).unbind(this._moveEv),this._aMove=!1}}else if(this.model.renderMode=="windows"&&this._aMove){if(this._mflag){this._swipel?(this._selectedTabItemIndex++,this._selectedHeaderItemIndex++,n(n(this._items[this._selectedHeaderItemIndex-1]).find(".sf-tab-windows-link")).removeClass("sf-tab-windows-alink")):this._swiper&&(this._selectedTabItemIndex--,n(n(this._items[this._selectedHeaderItemIndex]).find(".sf-tab-windows-link")).removeClass("sf-tab-windows-alink"),this._selectedHeaderItemIndex--),this._swipel&&this._selectedTabItemIndex==this._cContainerChildren.length?(u=n(this._cContainerChildren[0]).clone(!0),n(u).appendTo(this._cContainer),this._itemChanged=!0,this._hasDuplicateTab=!0):this._swiper&&this._selectedTabItemIndex==-1&&(this._itemChanged=!0,this._hasDuplicateTab=!0);var t=this._selectedTabItemIndex,i=n(this._contentElements[t]),r=n(this._items[t]),s=i.is(":empty")||!n(r).hasClass("sf-tab-cache")&&n(r).hasClass("sf-tab-ajax");if(s&&o!=t&&(n(i).empty(),this._sendAjaxRequest(i,r.find(".sf-tab-windows-link"))),this._itemChanged){if(this._swipel)n(n(this._items[this._selectedHeaderItemIndex]).find(".sf-tab-windows-link")).addClass("sf-tab-windows-alink"),n(this._tabItemContainer).animate({left:"-"+window.innerWidth*this._selectedTabItemIndex+"px"},400,this._callTranslateIe()),n(this._headItemContainer).animate({left:-this._calculateWidth(this._items,this._selectedHeaderItemIndex)+"px"},400),this._itemChanged=!1;else if(this._swiper){n(this._tabItemContainer).animate({left:"0px"},400),n(this._headItemContainer).animate({left:"0px"},400);var h=this._items.length,f=this,e=setTimeout(function(){f._swipeRightAndClearIEMove(e)},0)}}else n(this._tabItemContainer).animate({left:"-"+window.innerWidth*this._selectedTabItemIndex+"px"},400,this._callTranslateIe()),this._selectedHeaderItemIndex!=-1||this._hasPreviousHead?(n(this._headItemContainer).animate({left:-this._calculateWidth(this._items,this._selectedHeaderItemIndex)+"px"},400),this._hasPreviousHead&&this._swipeHeaderRightAndClear(0)):(h=this._items.length,u=n(this._items[h-1]).clone(!0),n(u).prependTo(this._itemsContainer),n(u).find(".sf-tab-windows-link").addClass("sf-tab-windows-alink"),f=this,e=setTimeout(function(){f._swipeHeaderRightAndClear(e)},10)),n(n(this._items[this._selectedHeaderItemIndex]).find(".sf-tab-windows-link")).addClass("sf-tab-windows-alink"),this._hasDuplicateTab=!1}sf.isTouchDevice()?sf.unbindTouchEventWindows(this._cContainer[0],this._moveEv,this._atMoveHandler):n(this._cContainer[0]).unbind(this._moveEv),c={Text:n(this._items[this._selectedHeaderItemIndex]).find(".sf-tab-windows-link").html(),Id:n(this._items[this._selectedHeaderItemIndex]).attr("id"),selectedItemIndex:this._selectedHeaderItemIndex,items:this._items},this.model.onTabsSelect&&this._trigger("onTabsSelect",c),this._aMove=!1}},_findRightTrans:function(t){var i=0,r=this;return n.each(this._items,function(n,r){n<=t+1&&(i=i+r.offsetWidth)}),window.innerWidth-i},_onAnrdPressHandler:function(t){n(t.currentTarget).addClass("sf-tab-pressed")},_anchorClickHandler:function(){return this._aFlag},_setTimeout:function(){var t=this,i=t.model.contentPosition=="top"?t._fElHeight:-t._fElHeight;window.setTimeout(function(){n(t._tabHeader).css({"margin-top":i+"px"}),t._tabShown=!1},"6000")},_fContentMUpHandler:function(){this._tabShown||(n(this._tabHeader).css({"margin-top":"0px"}),this._setTimeout())},_fixedTabSwipeHandler:function(t){var i,r,u;t.type!=this._endEv&&(this._totalWidth==0&&(this._setWidth(),n(this._tabHeader).width(this._totalWidth)),i=this._select,t.type=="swipeleft"?(i=i+1,this._swipeMrgn=this._elmtWidth):(i=i-1,this._swipeMrgn=-this._elmtWidth),(i<0||i>=this._items.length)&&(i=this._select),this._select!=i&&(r=0,u=this,n.each(u._items,function(n,t){return r+=t.offsetWidth,n==i-1?!1:void 0}),this._totalWidth-this._elmtWidth<r&&(r=this._totalWidth-this._elmtWidth),r=i==0?0:r,this._totalWidth>this._elmtWidth&&n(this._tabHeader).animate({marginLeft:-r+"px"}),this._select=i,this._swipeAnimate=!0,this.select(n(this._items[i]),t)))},_wndResizeHandler:function(n){this._totalWidth=0,this._setWidth(),this.model.tabPosition=="fixed"&&this._setPos(n)},_iosUnWireEvents:function(){sf.unBindTouchEvent(this._items,this._endEv,this._mdownHandler),n(this._anchors).unbind("click")},_setPos:function(){sf.setTop(n(this.element))},_onClickHandler:function(t){if(this._cFlag){var i=n(t.currentTarget);this.model.renderMode=="ios"?this._iosSelect(i,t):this.model.renderMode=="normal"?this.select(i,t):this.model.renderMode!="android"||this._mouseMove?this.model.renderMode=="windows"&&this._windowsSelect(i,t):this._anrdSelect(i,t)}sf.isAndroid()&&n(this._items).removeClass("sf-tab-pressed"),this._mouseMove=!1},_load:function(){var n={value:this.model};this.model.onTabsLoad&&this._trigger("onTabsLoad",n)},_setPosition:function(){if(this._elmtWidth=sf.getDimension(n(this.element),"outerWidth"),this._bufferwidth=2,this._totalWidth=0,this._setWidth(),this._totalWidth>this._elmtWidth){n(this._tabHeader).width(this._totalWidth+this._bufferwidth*this._items.length).css({"margin-left":"0px"});var t=sf.getDimension(n(this._items[0]),"height");n(this.element).addClass("sf-tab-move"),this.model.android.tabStyle=="opened"&&this.model.selectedItemIndex==0&&n(this._items[0]).css({"border-left":"0px"})}},_setWidth:function(){var t=this;n.each(this._items,function(i,r){t._totalWidth+=sf.getDimension(n(r),"outerWidth")})},_onMouseDownHandler:function(t){this._totalWidth==0&&(this._setWidth(),n(this._tabHeader).width(this._totalWidth+this._bufferwidth*this._items.length)),t=sf.isTouchDevice()?t.changedTouches[0]:t,this._mMoveFlag=!1,this._mouseMoveHandler=n.proxy(this._onMouseMoveHandler,this),this._mouseUpHandler=n.proxy(this._onMouseUpHandler,this),sf.bindTouchEvent(this.element,this._moveEv,this._mouseMoveHandler),sf.bindTouchEvent(document,this._endEv,this._mouseUpHandler),this._cntSwiped=n(t.target).hasClass("sf-tab-link")||n(t.target).hasClass("sf-tab-item")||n(t.target).parent().hasClass("sf-tab-item")?!1:!0,this._mX=this.cX=t.clientX,this._cFlag=!0,this._prvMleft=parseInt(n(this._tabHeader)[0].style.marginLeft,10)},_onMouseMoveHandler:function(t){var r=sf.isTouchDevice()?t.changedTouches[0].clientX:t.clientX,i;(Math.abs(r-this.cX)>20||!this._cntSwiped)&&(sf.blockDefaultActions(t),t=sf.isTouchDevice()?t.changedTouches[0]:t,i=t.clientX-this.cX,this._tMleft=parseInt(n(this._tabHeader)[0].style.marginLeft,10),this._cntSwiped||(this._tMleft=i+this._tMleft,this._tMleft>0?this._tMleft=0:-(this._totalWidth-this._elmtWidth)>this._tMleft&&(this._tMleft=-(this._totalWidth-this._elmtWidth)),n(this._tabHeader).css({"margin-left":this._tMleft+"px"})),this.cX=t.clientX,this._cFlag=!1,this._mMoveFlag=!0)},_onMouseUpHandler:function(t){var i=sf.isTouchDevice()?t.changedTouches[0]:t,f,r,u,e,o;this._mMoveFlag?(sf.blockDefaultActions(t),r=0,e=this,this._tMleft=-this._tMleft,this._cntSwiped||n.each(this._items,function(n,t){return r+=t.offsetWidth,r>e._tMleft&&r-e._tMleft>=t.offsetWidth?(u=n,!1):void 0}),this._select!=u&&(this._swipeAnimate=!0,o=this._prvMleft>-this._tMleft?this._elmtWidth:-this._elmtWidth,this._swipeMrgn=o+"px",this._cntSwiped&&(i.clientX<this._mX?(u=this._select+1>this._items.length-1?this._items.length-1:this._select+1,this._swipeMrgn=-o+"px"):u=this._select-1<0?0:this._select-1,n.each(this._items,function(n,t){return r+=t.offsetWidth,n==u-1?!1:void 0}),this._totalWidth-this._elmtWidth<r&&(r=this._totalWidth-this._elmtWidth),r=u==0?0:r,n(this._tabHeader).animate({marginLeft:-r+"px"})),this._select!=u&&(this._select=u,this.select(n(this._items[u]),i)))):(n(i.target).hasClass("sf-tab-link")||n(i.target).hasClass("sf-tab-item")||n(i.target).parent().hasClass("sf-tab-link"))&&(f=n(i.target),n(i.target).parent().hasClass("sf-tab-link")?f=n(i.target).parent().parent():n(i.target).hasClass("sf-tab-link")&&(f=n(i.target).parent()),this.select(f,i)),sf.unBindTouchEvent(this.element,this._moveEv,this._mouseMoveHandler),sf.unBindTouchEvent(document,this._endEv,this._mouseUpHandler),this._mMoveFlag=!1},_getContentElement:function(n){var t,r,i,u;if(!isNaN(+n)){for(t=this._contentElements,r=new RegExp("-"+(n+1)+"$"),i=0,u=t.length;i<u;i++)if(r.test(t[i].id))return t[i];if(this.model.renderingEngine=="client")return t[n]}},_ajaxSuccessHandler:function(t,i,r,u,f){f!=null&&n(u).html(f),i.html(t),sf.evalSfScripts(i),i.addClass("sf-tab-loaded"),this.model.renderMode=="normal"?this._tabHeader.css("width",this._tabHeader.width()+this._bufferWidth-16+"px"):n("#"+this.model.id+"_popup").mWaitingPopup("hidePopUp"),this.model.renderMode!="normal"&&(this.model.android.scrolling||this.model.ios.scrolling)&&n("#"+this.model.id+"_panel").sfScrollPanel("_refresh")},_sendAjaxRequest:function(t,i){var r="",u,f,e;this.model.spinner!=null&&this.model.spinner!=""&&(u=n(i).html(),n(i).html(this.model.spinner)),this.model.renderMode=="normal"?(r=n("<span class='sf-ajax-loading'/>"),this._tabHeader.css("width",this._tabHeader.width()+this._bufferWidth+16+"px"),n(i).prepend(r)):n("#"+this.model.id+"_popup").mWaitingPopup("showPopUp"),f=this,e={type:"GET",cache:!1,url:i.attr("href").replace("#",""),data:{},successHandler:function(n){f._ajaxSuccessHandler(n,t,r,i,u)}},sf.sendAjaxRequest(e)},enable:function(t){var i,r;n.isArray(t)?(i=this,n.each(t,function(t,r){n(i._items[r]).removeClass("sf-state-disabled")})):n(this._items[t]).removeClass("sf-state-disabled"),r={enabledItemsIndex:t},this.model.onTabsEnable&&this._trigger("onTabsEnable",r)},disable:function(t){var i,r;n.isArray(t)?(i=this,n.each(t,function(t,r){n(i._items[r]).addClass("sf-state-disabled")})):n(this._items[t]).addClass("sf-state-disabled"),r={disabledItemsIndex:t},this.model.onTabsDisable&&this._trigger("onTabsDisable",r)},disableAll:function(){var t=[],i;n.each(this._items,function(i,r){n(r).addClass("sf-state-disabled"),t.push(i)}),i={disabledItemsIndex:t},this.model.onTabsDisable&&this._trigger("onTabsDisable",i)},enableAll:function(){var t=[],i;n.each(this._items,function(i,r){n(r).removeClass("sf-state-disabled"),t.push(i)}),i={enabledItemsIndex:t},this.model.onTabsDisable&&this._trigger("onTabsDisable",i)},showTab:function(){n(this.element).css("visibility","visible")},hideTab:function(){n(this.element).css("visibility","hidden")},length:function(){return this._items.length},url:function(t,i){n(n(this._items[i]).find(".sf-tab-link")).attr("href",t)},animateContent:function(t,i){i.IsAnimate&&(i.Height==""&&(i.Height=t.offsetHeight),i.Width==""&&(i.Width=t.offsetWidth),n(t).animate({height:i.Height,width:i.Width,opacity:i.Opacity},i.Duration))},selectItem:function(t){var i=n(this._items[t]);this.model.selectedItemIndex=t,this.model.renderMode=="ios"?this._iosSelect(i):this.model.renderMode=="normal"?this.select(i):this._anrdSelect(i)},selectedItemIndex:function(){return this._items.index(n(this.element).find(".sf-tab-item.sf-tab-active"))},selectedItem:function(){return n(this.element).find(".sf-tab-item.sf-tab-active")},selectedItemText:function(){return n(this.element).find(".sf-tab-item.sf-tab-active .sf-link-text").html()},select:function(t,i){var e,o,f,s,c;if(n(t).hasClass("sf-state-disabled"))i!=null&&sf.blockDefaultActions(i);else{e=n(t).find(".sf-tab-link"),o="",e.attr("href")&&(o=e.attr("href"));var r=n(this._getContentElement(t.index())),h=r.is(":empty"),u=n(this.element).find(".sf-tab-header .sf-tab-active")[0];if(o.charAt(0)=="#"||h||r.hasClass("sf-tab-loaded"))f=n(this._getContentElement(this.model.selectedItemIndex)),u!=t[0]&&(s=this.model.animation[t.index()],this._swipeAnimate?(n(r).css({visibility:"hidden",display:"block"}),n(r).removeAttr("style"),n(r).css({"margin-left":this._swipeMrgn,display:"block"}),s.IsAnimate?r.animate({"margin-left":"0px"}):r.css({"margin-left":"0px"}),this._swipeAnimate=!1):this.animateContent(r,s)),n(u).removeClass("sf-tab-active").removeClass("sf-state-active").addClass("sf-state-default"),this.model.Collapsible&&u==t[0]&&n(f).hasClass("sf-tab-activeContent")?n(this._contentElements).removeClass("sf-tab-activeContent").removeAttr("style"):(n(t).addClass("sf-tab-active").addClass("sf-state-active").removeClass("sf-state-default"),n(f).removeClass("sf-tab-activeContent").removeAttr("style"),n(r).addClass("sf-tab-activeContent"),this.model.android.tabStyle=="closed"&&this.model.contentPosition=="bottom"?(n(u).removeClass("sf-tab-border-bottom"),n(t).addClass("sf-tab-border-bottom"),n(f).removeClass("sf-tab-tactiveContent"),n(r).addClass("sf-tab-tactiveContent")):this.model.android.tabStyle=="closed"&&this.model.contentPosition=="top"?(n(u).removeClass("sf-tab-border-top"),n(t).addClass("sf-tab-border-top"),n(f).removeClass("sf-tab-bactiveContent"),n(r).addClass("sf-tab-bactiveContent")):this.model.android.tabStyle=="opened"&&this.model.contentPosition=="bottom"?(n(f).removeClass("sf-tab-tactiveContent"),n(r).addClass("sf-tab-tactiveContent"),n(u).addClass("sf-tab-tophdr"),n(t).removeClass("sf-tab-tophdr")):this.model.android.tabStyle=="opened"&&this.model.contentPosition=="top"&&(n(f).removeClass("sf-tab-bactiveContent"),n(r).addClass("sf-tab-bactiveContent"),n(u).addClass("sf-tab-btmhdr"),n(t).removeClass("sf-tab-btmhdr"))),this._select=this.model.selectedItemIndex=t.index(),c={Text:n(t).find(".sf-tab-link").html(),Id:n(t).attr("id"),selectedItemIndex:this.model.selectedItemIndex,lastSelectedItemIndex:n(u).index(),items:this._items},this.model.onTabsSelect&&this._trigger("onTabsSelect",c),h&&this._sendAjaxRequest(r,e),i!=null&&sf.blockDefaultActions(i);else{n(t).hasClass("sf-tab-nav")&&(n(u).removeClass("sf-tab-active").removeClass("sf-state-active").addClass("sf-state-default"),n(t).addClass("sf-tab-active").addClass("sf-state-active").removeClass("sf-state-default"),this.model.android.tabStyle=="opened"&&this.model.contentPosition=="bottom"?(n(u).addClass("sf-tab-tophdr"),n(t).removeClass("sf-tab-tophdr")):this.model.android.tabStyle=="opened"&&this.model.contentPosition=="top"&&(n(u).addClass("sf-tab-btmhdr"),n(t).removeClass("sf-tab-btmhdr"))),this._aFlag=!0;return}}},_ajaxContent:function(t,i){return t.is(":empty")||!n(i).hasClass("sf-tab-cache")&&n(i).hasClass("sf-tab-ajax")},_iosSelect:function(t,i){var o,h,r,s,c,l;if(n(t).hasClass("sf-state-disabled"))i!=null&&sf.blockDefaultActions(i);else{o=n(t).find(".sf-tab-link"),h="",o.attr("href")&&(h=o.attr("href")),r=n(this._getContentElement(t.index())),s=this._ajaxContent(r,t),s&&n(r).empty();var e=n(this.element).find(".sf-tab-header .sf-tab-active")[0],u=n(e).find("img"),f=n(t).find("img");if(h.charAt(0)=="#"||s||r.hasClass("sf-tab-loaded"))c=n(this._getContentElement(this.model.selectedItemIndex)),n(e).removeClass("sf-tab-active").removeClass("sf-state-active"),u.length==2&&(n(u[0]).css("display","inline"),n(u[1]).css("display","none")),this.model.Collapsible&&e==t[0]&&n(c).hasClass("sf-tab-activeContent")?n(this._contentElements).removeClass("sf-tab-activeContent").removeAttr("style"):(n(t).addClass("sf-tab-active").addClass("sf-state-active").removeClass("sf-state-default"),f.length==2&&(n(f[0]).css("display","none"),n(f[1]).css("display","inline")),n(c).removeClass("sf-tab-activeContent").removeAttr("style"),n(r).addClass("sf-tab-activeContent")),(this.model.android.scrolling||this.model.ios.scrolling)&&n("#"+this.model.id+"_panel").mScrollPanel("_refresh"),this._select=this.model.selectedItemIndex=t.index(),l={Text:n(t).find(".sf-link-text").html(),Id:n(t).attr("id"),selectedItemIndex:this.model.selectedItemIndex,lastSelectedItemIndex:n(e).index(),items:this._items},this.model.onTabsSelect&&this._trigger("onTabsSelect",l),s&&this._sendAjaxRequest(r,o),i!=null&&sf.blockDefaultActions(i);else{n(t).hasClass("sf-tab-nav")&&(n(e).removeClass("sf-tab-active").removeClass("sf-state-active"),u.length==2&&(n(u[0]).css("display","inline"),n(u[1]).css("display","none")),n(t).addClass("sf-tab-active").addClass("sf-state-active").removeClass("sf-state-default"),f.length==2&&(n(f[0]).css("display","none"),n(f[1]).css("display","inline"))),this._aFlag=!0;return}}},_windowsOrientation:function(){var t=n(this._cContainer).children().length;n(this.element).find(this.model.id+"_container").width(t*window.innerWidth+"px"),n(this._cContainer).children().width(window.innerWidth+"px"),n(this._cContainer).children().height(window.innerHeight+"px"),n(this._tabItemContainer).animate({left:"-"+window.innerWidth*this._selectedTabItemIndex+"px"},100,this._callTranslateIe())},_anrdSelect:function(t,i){var u,o,r,f,s,e,h;if(n(t).hasClass("sf-state-disabled"))i!=null&&sf.blockDefaultActions(i);else if(u=n(t).find(".sf-tab-link"),o="",u.attr("href")&&(o=u.attr("href")),r=n(this._getContentElement(t.index())),f=this._ajaxContent(r,t),f&&n(r).empty(),s=n(this._getContentElement(this.model.selectedItemIndex)),e=n(this.element).find(".sf-tab-header .sf-tab-active")[0],this.model.android.tabStyle=="scrollable")this._anrdPositionItems(),f&&this._sendAjaxRequest(r,u),this._translate(this._cContainer[0],-window.innerWidth*this.model.selectedItemIndex);else if(o.charAt(0)=="#"||f||r.hasClass("sf-tab-loaded"))n(e).removeClass("sf-tab-active").removeClass("sf-state-active").addClass("sf-state-default"),this.model.Collapsible&&e==t[0]&&n(s).hasClass("sf-tab-activeContent")?n(this._contentElements).removeClass("sf-tab-activeContent").removeAttr("style"):(n(t).addClass("sf-tab-active").addClass("sf-state-active").removeClass("sf-state-default"),n(s).removeClass("sf-tab-activeContent").removeAttr("style"),n(r).addClass("sf-tab-activeContent")),(this.model.android.scrolling||this.model.ios.scrolling)&&n("#"+this.model.id+"_panel").sfScrollPanel("_refresh"),this._select=this.model.selectedItemIndex=t.index(),h={Text:n(t).find(".sf-tab-link").html(),Id:n(t).attr("id"),selectedItemIndex:this.model.selectedItemIndex,lastSelectedItemIndex:n(e).index(),items:this._items},this.model.onTabsSelect&&this._trigger("onTabsSelect",h),f&&this._sendAjaxRequest(r,u),i!=null&&sf.blockDefaultActions(i);else{n(t).hasClass("sf-tab-nav")&&(n(e).removeClass("sf-tab-active").removeClass("sf-state-active").addClass("sf-state-default"),n(t).addClass("sf-tab-active").addClass("sf-state-active").removeClass("sf-state-default")),this._aFlag=!0;return}},_windowsSelect:function(t,i){var o,a,s,r,f,h,u,e,c,l;if(this.model.selectedItemIndex=t.index(),n(n(this._headItemContainer).find(".sf-tab-windows-link")).removeClass("sf-tab-windows-alink"),this._clickedHeaderItemIndex=this._items.index(n(t).parents("li")),o=n(this.element).find(".sf-tab-header .sf-tab-active")[0],this._difference=this._clickedHeaderItemIndex-this._selectedHeaderItemIndex,a=n(t).find(".sf-tab-link"),s="",n(t).attr("href")&&(s=n(t).attr("href")),r=n(this._getContentElement(this._anchors.index(t))),this._contentElements.removeClass("sf-tab-active"),r.addClass("sf-tab-active"),f=this._ajaxContent(r,t),f&&n(r).empty(),this._hasNextTab=this._selectedTabItemIndex==this._items.length-1||this._selectedTabItemIndex+this._difference>=this._items.length?!1:!0,n(n(this._items[this._selectedHeaderItemIndex]).find(".sf-tab-windows-link")).removeClass("sf-tab-windows-alink"),n(n(this._items[this._clickedHeaderItemIndex]).find(".sf-tab-windows-link")).addClass("sf-tab-windows-alink"),this._hasNextTab||(this._difference=this._clickedHeaderItemIndex-this._selectedHeaderItemIndex),this._hasNextTab)this._selectedHeaderItemIndex=this._clickedHeaderItemIndex,this._selectedTabItemIndex=this._selectedTabItemIndex+this._difference,n(this._tabItemContainer).animate({left:"-"+window.innerWidth*this._selectedTabItemIndex+"px"},400,this._callTranslateIe()),sf.isMobile()&&n(this._headItemContainer).animate({left:-this._calculateWidth(this._items,this._selectedHeaderItemIndex)+"px"},400);else if(this._cContainerChildren=n(this._cContainer).children(),h=[],u=0,this._selectedHeaderItemIndex+=this._difference,this._difference>0&&sf.isMobile()){while(u<this._difference)n(this._cContainerChildren[u]).appendTo(this._cContainer),u++;this._cContainerChildren=n(this._cContainer).children(),n("#"+this.model.id+"_wrapper").find(".sf-root-container").width((this._cContainerChildren.length+h.length+2)*window.innerWidth),n(this._tabItemContainer).animate({left:"-"+window.innerWidth*(this._selectedTabItemIndex+this._difference)+"px"},400),this._items=n(this.element).find(">.sf-tab-header .sf-tab-item"),e=this,c=setTimeout(function(){e._selectTranslateIe(0,e._difference,c)},400),n(this._headItemContainer).animate({left:-this._calculateWidth(this._items,this._selectedHeaderItemIndex)+"px"},400)}else sf.isMobile()||n(this._tabItemContainer).css({left:-(window.innerWidth*this._selectedHeaderItemIndex)+"px",transition:"left 250ms"});f&&this._sendAjaxRequest(r,n(t)),i!=null&&sf.blockDefaultActions(i),l={Text:n(t).html(),Id:n(t).attr("id"),selectedItemIndex:this.model.selectedItemIndex,lastSelectedItemIndex:n(o).index(),items:this._items},this.model.onTabsSelect&&this._trigger("onTabsSelect",l)},_setModel:function(n){var i=!1,t;for(t in n)(t=="renderMode"||t=="contentPosition"||t=="android"||t=="ios")&&(i=!0);i&&this._refresh(),this._trigger("modelChange",{changes:n})},_refresh:function(){this._destroy(),this.element.addClass("m-tab"),this._tabInit()},_clearElement:function(){this.element.removeAttr("class"),this.element.html(this._orgEle.html())},_destroy:function(){this._unWireEvents(),this._clearElement()}}),m.Tab.android={tabStyle:{Normal:"normal",Auto:"auto",Scrollable:"scrollable"}},m.Tab.contentPosition={Top:"top",Bottom:"bottom"},m.Tab.tabPositon={Auto:"auto",Fixed:"fixed"}}(jQuery,Syncfusion),function(n,t){t.widget("mTextBox","m.TextBox",{_setFirst:!0,defaults:{autoFormat:"darknight",renderMode:"auto",renderingEngine:"client",android:{theme:"dark"},windows:{showReset:!0}},dataTypes:{android:{theme:"enum"},windows:{showReset:"boolean"},renderMode:"enum"},_init:function(){this._setValues(),this.model.renderingEngine=="client"&&this._renderControl(),this._wireEvents()},_setValues:function(){this.model.renderMode=sf.getAttrVal(this.element,"data-rendermode",this.model.renderMode),this.model.renderMode=="auto"&&sf.setRenderMode(this),this.model.id=n(this.element).attr("id"),this._textbox=n(this.element),this.model.type=sf.getAttrVal(this._textbox,"data-type",this.model.type),this.model.currentType=this.model.type,this.model.autoFormat=sf.getAttrVal(this.element,"data-autoformat",this.model.autoFormat),this.model.android.theme=sf.getAttrVal(this.element,"data-android-theme",this.model.android.theme),this.model.windows.showReset=sf.getBooleanVal(this.element,"data-showreset",this.model.windows.showReset),this._clearClicked=!1,n(this.element).attr("data-role","none");var t=n(this.element);n(document).bind("pageinit",function(){t.attr("data-role","sf-m-textbox")})},_renderControl:function(){var t=document.createElement("div"),r,u,i;n(t).attr("id",this.model.id+"_input").addClass("sf-m-"+this.model.renderMode+" sf-m-textbox"),n(this.element).attr("data-modelbinding")=="true"&&(r=n(this.element).parent(),n(r).after(this.element),n(r).remove()),n(this.element).after(t),n(t).append(this.element),n(this.element).addClass("sf-m-input sf-input-focusout"),this._textbox[0].style.width==""&&this._setWidth(),n(t).width(this._textbox[0].style.width),this._setWidth(),n(this.element).attr("name",this.model.id),this.model.renderMode!="android"&&this.model.renderMode!="windows"?n(this.element).addClass("sf-corner-all"):this.model.renderMode=="android"&&(n(t).addClass("sf-m-"+this.model.android.theme),u=document.createElement("span"),n(u).addClass("sf-textspan"),n(t).append(u)),this.model.renderMode=="normal"&&n(t).addClass("sf-m-"+this.model.autoFormat),this.model.renderMode=="windows"&&this.model.windows.showReset&&(i=document.createElement("div"),n(i).attr("id",this.model.id+"_clearbtn"),n(i).addClass("sf-windows-clear"),n(t).append(i),this._clearBtn=i,n(this._clearBtn).css("display","none"))},_setWidth:function(){this._textbox.width("100%")},_wireEvents:function(){var i,t;this._focusInProxy=n.proxy(this._focusInHandler,this),this._focusOutProxy=n.proxy(this._focusOutHandler,this),sf.isTouchDevice()?(sf.bindTouchEvent(this._textbox,"focusin",this._focusInProxy),sf.bindTouchEvent(this._textbox,"focusout",this._focusOutProxy)):(this._textbox.bind("focusin",this._focusInProxy),this._textbox.bind("focusout",this._focusOutProxy)),this.model.renderMode=="windows"&&this.model.windows.showReset&&(this._textbox.bind("keyup",n.proxy(this._showClear,this)),i=sf.isTouchDevice()?"touchend":"mouseup",this._textbox.bind(i,n.proxy(this.focus,this)),t=sf.isTouchDevice()?"touchstart":"mousedown",sf.isTouchDevice()?sf.bindTouchEvent(this._clearBtn,t,n.proxy(this._clearText,this)):n(this._clearBtn).bind(t,n.proxy(this._clearText,this)))},_unWireEvents:function(){var i,t;this._focusInProxy=n.proxy(this._focusInHandler,this),this._focusOutProxy=n.proxy(this._focusOutHandler,this),sf.isTouchDevice()?(sf.unBindTouchEvent(this._textbox,"focusin",this._focusInProxy),sf.unBindTouchEvent(this._textbox,"focusout",this._focusOutProxy)):(this._textbox.unbind("focusin",this._focusInProxy),this._textbox.unbind("focusout",this._focusOutProxy)),this.model.renderMode=="windows"&&this.model.windows.showReset&&(this._textbox.unbind("keyup",n.proxy(this._showClear,this)),i=sf.isTouchDevice()?"touchend":"mouseup",this._textbox.unbind(i,n.proxy(this.focus,this)),t=sf.isTouchDevice()?"touchstart":"mousedown",sf.isTouchDevice()?sf.unBindTouchEvent(this._clearBtn,t,n.proxy(this._clearText,this)):n(this._clearBtn).unbind(t,n.proxy(this._clearText,this)))},_focus:function(){this._clearClicked&&this._textbox.focus(),this._clearClicked=!1},_clearText:function(t){this._textbox.val(""),n(this._clearBtn).css("display","none"),this._clearClicked=!0,t.preventDefault()},_showClear:function(){this._textbox.attr("value")!=""?n(this._clearBtn).css("display","inline-block"):n(this._clearBtn).css("display","none")},_focusInHandler:function(){this._textbox.removeClass("sf-input-focusout").addClass("sf-input-focusin"),n(this.element).parent().find(".sf-textspan").addClass("sf-active"),this.model.renderMode=="windows"&&this.model.windows.showReset&&this._showClear()},_focusOutHandler:function(){this._textbox.removeClass("sf-input-focusin").addClass("sf-input-focusout"),n(this.element).parent().find(".sf-textspan").removeClass("sf-active"),this.model.renderMode=="windows"&&this.model.windows.showReset&&n(this._clearBtn).css("display","none")},_setModel:function(n){var i=!1,t;for(t in n)(t=="renderMode"||t=="windows")&&(i=!0);i&&this._refresh(),this._trigger("modelChange",{changes:n})},_refresh:function(){this._destroy(),this.element.addClass("m-textbox"),this._renderControl(),this._wireEvents()},_clearElement:function(){var t=n("#"+this.model.id+"_input");this.element.insertAfter(t),t.remove(),this.element.removeAttr("class")},_destroy:function(){this._unWireEvents(),this._clearElement()}})}(jQuery,Syncfusion),function(n,t){t.widget("mTextArea","m.TextArea",{_setFirst:!0,defaults:{renderMode:"auto",android:{theme:"dark"},renderingEngine:"client"},dataTypes:{renderMode:"enum"},_init:function(){this._setValues(),this.model.renderingEngine=="client"&&this._renderControl(),this._wireEvents()},_setValues:function(){this._textarea=n(this.element),this.model.id=sf.getAttrVal(this.element,"id"),this.model.renderMode=sf.getAttrVal(this.element,"data-rendermode",this.model.renderMode),this.model.android.theme=sf.getAttrVal(this.element,"data-android-theme",this.model.android.theme),this.model.renderMode=="auto"&&sf.setRenderMode(this),n(this.element).attr("data-role","none");var t=n(this.element);n(document).bind("pageinit",function(){t.attr("data-role","sf-m-textarea")})},_renderControl:function(){this.defaultHeight=this._textarea[0].style.height==""?50:parseInt(this._textarea[0].style.height);var t=this._textarea.parent(".sf-m-wraparea");t.length==0&&(t=n("<div class = 'sf-m-wraparea sf-m-"+this.model.renderMode+"'><\/div>"),this._textarea.wrap(t)),this._textarea[0].style.width==""&&this._setWidth(),t.width(this._textarea[0].style.width),this._setWidth(),this._textarea.addClass("sf-m-textarea"),this.model.renderMode=="android"&&n(this._textarea).parent().addClass("sf-m-"+this.model.android.theme+" sf-m-default").append('<span class="sf-innerspan"><\/span>'),sf.isMobile()&&sf.isWindowsPhone()&&this._textarea.addClass("sf-m-phone"),this._textarea.focus(),this._textarea.attr("rows",1)},_setWidth:function(){this._textarea.width("100%")},_wireEvents:function(){this.resize=n.proxy(this._resize,this),this.delayedResize=n.proxy(this._delayedResize,this),this._textarea.bind("change",this.resize).bind("cut",this.delayedResize).bind("paste",this.delayedResize).bind("keydown",this.delayedResize),this.model.renderMode=="android"&&(this.focus=n.proxy(this._focus,this),this.blur=n.proxy(this._blur,this),this._textarea.bind("focus",this.focus).bind("blur",this.blur))},_unWireEvents:function(){this._textarea.unbind("change",this.resize).unbind("cut",this.delayedResize).unbind("paste",this.delayedResize).unbind("keydown",this.delayedResize)},_resize:function(){this._textarea.css("height","auto"),this._textarea[0].scrollHeight>=this.defaultHeight?this._textarea.css("height",this._textarea[0].scrollHeight+"px"):this._textarea.css("height",this.defaultHeight)},_delayedResize:function(){window.setTimeout(this.resize,0)},_focus:function(){n(this._textarea).parent().removeClass("sf-m-default").addClass("sf-m-active")},_blur:function(){n(this._textarea).parent().removeClass("sf-m-active").addClass("sf-m-default")},_setModel:function(n){var t=!1,i;for(i in n)i=="renderMode"&&(t=!0);t&&this._refresh(),this._trigger("modelChange",{changes:n})},_refresh:function(){this._destroy(),this.element.addClass("m-textarea"),this._renderControl(),this._wireEvents()},_clearElement:function(){var t=n("#"+this.model.id+"_input");this.element.insertAfter(t),t.remove(),this.element.removeAttr("class")},_destroy:function(){this._unWireEvents(),this._clearElement()}})}(jQuery,Syncfusion),function(n,t,r){t.widget("mTimePicker","m.TimePicker",{_setFirst:!0,defaults:{renderMode:"auto",renderingEngine:"client",id:null,hourMode:"hours12",showButton:!0,enable:!0,timeFormat:"hh:mm",displayDefaultDate:!1,disableManualInput:!1},dataTypes:{renderMode:"enum",renderingEngine:"enum",hourMode:"enum",enable:"boolean",showButton:"boolean",displayDefaultDate:"boolean",disableManualInput:"boolean"},_init:function(){this._setValues(),this._maxTime=this.model.maximumTime,this._minTime=this.model.minimumTime,this._clock=sf.getCurrentPage().find(".sf-timepicker-control"),this._timeFormat=this.model.timeFormat,this._defaultLocalizedString='{"am":"AM","cancel":"Cancel","Hour":"Hr","Hours":"Hrs","Minute":"Mins","Minutes":"Mins","pm":"PM","settime":"Set Time","timeSeparator":":"}',this._timeMode=this.model.timeMode,this._hourMode=this.model.hourMode,this._localizedString=this.model.localization==null?JSON.parse(this._defaultLocalizedString):JSON.parse(this.model.localization),this._value=this.model.Value,this._enable=this.model.enable,this.model.renderMode=="normal"&&(this._input=sf.getCurrentPage().find(this.element).find(".sf-timepicker-input")),this._tpClock=sf.getCurrentPage().find(".sf-icon-timepicker",this.element),this._startEv=sf.isTouchDevice()?"touchstart":"mousedown",this._moveEv=sf.isTouchDevice()?"touchmove":"mousemove",this._endEv=sf.isTouchDevice()?"touchend":"mouseup",this._scrollEv=sf.isTouchDevice()?"scrollstart":"DOMMouseScroll",this._oriEv=sf.isTouchDevice()?"orientationchange":"resize",this._meridianInput=n(this.element).find(".sf-meridian-input"),this._minuteInput=n(this.element).find(".sf-minute-input"),this._hourInput=n(this.element).find(".sf-hour-input"),this._sfClock=sf.getCurrentPage().find("#"+this.model.id+"_clock"),this._sfHours=n(".sf-hours",this._sfClock),this._sfminutes=n(".sf-minutes",this._sfClock),this._sfmeridian=n(".sf-meridian",this._sfClock),this._sfHourText=this._sfHours.find(".sf-hour-text"),this._sfMinuteText=this._sfminutes.find(".sf-minutes-text"),this._disableMaualInput(),this.model.renderingEngine=="client"&&this.model.renderMode!="normal"?(this._input=n(this.element),this._renderControl()):this._input=n(this.element).find("input"),this._initializeControl(),n(this._input).val(this._formatter(new Date(this.model.defaultTime),this.model.timeFormat)),this._sfCalTable=".sf-clock-container table",this._sfwrapper=n(".sf-clock-container",this._sfClock),this._cWrapper=n(".sf-control-wrapper",this._sfClock),n(this._meridianInput,this._minuteInput,this._hourInput).attr("readonly",!0),this._isShowDp=!0,this.isScroller=!1,this._hourMoved=!1,this._minuteMoved=!1,this._meridianMoved=!1,this._flag=!0,this._load(),this._enable?this.enablepicker():this.disablepicker(),this._wireHoverEvents(),this._wireEvents()},_setValues:function(){this.model.id=n(this.element).attr("id").split("_Wrapper")[0],this.model.renderMode=sf.getAttrVal(this.element,"data-rendermode","auto"),this.model.renderMode=="auto"&&sf.setRenderMode(this),this.model.renderingEngine=sf.getAttrVal(this.element,"data-mode",this.model.renderingEngine),this.model.showButton=sf.getAttrVal(this.element,"data-showbtn",this.model.showButton),this.model.timeMode=sf.getAttrVal(this.element,"data-timemode",this.model.timeMode)=="normal"?0:1,this.model.autoFormat=sf.getAttrVal(this.element,"data-autoformat"),this.model.displayDefaultTime=sf.getBooleanVal(this.element,"data-displaydefaulttime",this.model.displayDefaultDate),this.model.disableManualInput=sf.getBooleanVal(this.element,"data-disablemanualip",this.model.disableManualInput),this.model.minimumTime=Number(sf.getAttrVal(this.element,"data-mintime")),this.model.timeFormat=sf.getAttrVal(this.element,"data-timeformat",this.model.timeFormat),this.model.maximumTime=Number(sf.getAttrVal(this.element,"data-maxtime")),this.model.enable=sf.getBooleanVal(this.element,"data-enable"),this.model.hourMode=sf.getAttrVal(this.element,"data-hourmode",this.model.hourMode),sf.getAttrVal(this.element,"data-localization")!=null&&(this.model.localization=JSON.parse(sf.getAttrVal(this.element,"data-localization"))),this.model.localize=sf.getAttrVal(this.element,"data-localize"),this.model.localizationPath=sf.getAttrVal(this.element,"data-localizationpath"),this.model.onTimePickerLoad=sf.getAttrVal(this.element,"data-load"),this.model.onTimeSelected=sf.getAttrVal(this.element,"data-timeselected"),this.model.onTimeChanged=sf.getAttrVal(this.element,"data-timechanged"),this.model.onTouchStart=sf.getAttrVal(this.element,"data-touchstart"),this.model.onTouchMove=sf.getAttrVal(this.element,"data-touchmove"),this.model.onTouchEnd=sf.getAttrVal(this.element,"data-touchend"),this.model.onTransitionEnd=sf.getAttrVal(this.element,"data-transitionend"),this.model.defaultTime=sf.getAttrVal(this.element,"data-defaulttime",new Date),this.model.renderMode=="ios"?(this._displacement=40,this._targetHeight=195):this.model.renderMode=="android"?(this._displacement=45,this._targetHeight=225):this.model.renderMode=="windows"&&(this._displacement=94,this._targetHeight=104),this._currentTime=this.model.defaultTime},_setWidth:function(){this._textBox.width("100%")},_renderControl:function(){var f,r,e,t,i,o,u;for(this._textBox=n(this.element),f=n(this.element).wrap("<div id='"+this.model.id+"_Wrapper'><\/div>"),n(this.element).attr("name",this.model.id),n(this.element).attr("readonly",!0),n(this.element).addClass("sf-timepicker-input"),n(this.element).attr("data-role","none"),this._textBox[0].style.width==""&&this._setWidth(),n("#"+this.model.id+"_Wrapper").width(sf.getDimension(n(this.element),"width")),this._setWidth(),this.element=n(this.element).parent(),n(this.element).addClass("sf-m-timepicker"),this.model.renderMode=="android"&&n(this.element).append("<span class='sf-textspan'><\/div>"),n(this.element).addClass("sf-m-timepicker sf-m-"+this.model.renderMode).attr("id",this.model.id+"_wrapper"),r=n('<div id="'+this.model.id+'_tp" class="sf-m-'+this.model.renderMode+' sf-m-tp"><\/div>'),this.model.renderMode=="windows"&&r.append(n('<div class="sf-tp-header">Select Time<\/div>')),this.model.renderMode=="ios"&&(r.append("<div class='sf-tp-ptr'><\/div>"),this._header=sf.isTablet()?n('<div id="'+this.model.id+'_header" data-role="sf-m-header" data-showtitle="false" data-rightbuttoncaption="Clear" data-showrightbutton="true"><\/div>'):n('<div id="'+this.model.id+'_header" data-role="sf-m-header" data-showtitle="false" data-showleftbutton="true" data-leftbuttonstyle="header" data-leftbuttoncaption="Clear" data-rightbuttoncaption="Done" data-showrightbutton="true"><\/div>'),r.append(this._header),this._header.mHeader()),e=n('<div class="sf-m-tpinner"><\/div>'),t=n('<div class="sf-m-tpwrap"><\/div>'),i=this.model.renderMode=="ios"?n('<div class="sf-m-tp sf-m-tphr sf-left"><div class="sf-timewrapper"><div id="'+this.model.id+'_tphr"><div class="sf-tpouter"><div class="sf-m-text"><\/div><div class="sf-m-text"><\/div><\/div><\/div><\/div><div class="sf-overlay"><\/div><\/div>'):this.model.renderMode=="android"?n('<div class="sf-m-tp sf-m-tphr sf-left"><div class="sf-tp-hr sf-imgup"><\/div><div class="sf-timewrapper"><div id="'+this.model.id+'_tphr"><div class="sf-tpouter"><div class="sf-m-text"><\/div><div class="sf-m-text"><\/div><\/div><\/div><\/div><div class="sf-overlay"><\/div><div class="sf-tp-hr sf-imgdown"><\/div><\/div>'):n('<div class="sf-m-tp sf-m-tphr sf-left"><div class="sf-timewrapper"><div id="'+this.model.id+'_tphr" class="sf-m-tphr"><div class="sf-tpouter"><\/div><\/div><\/div><\/div>'),o=this.model.hourMode=="hours12"?12:23,this.model.hourMode==1&&i.find(".sf-tpouter").append('<div class="sf-m-text">00<\/div>'),u=1;u<=o;u++)u<=9?i.find(".sf-tpouter").append('<div class="sf-m-text">0'+u+"<\/div>"):i.find(".sf-tpouter").append('<div class="sf-m-text">'+u+"<\/div>");this.model.renderMode!="windows"?i.find(".sf-tpouter").append('<div class="sf-m-texthidden"><div class="sf-m-text"><\/div><div class="sf-m-text"><\/div>'):i.find(".sf-tpouter").append('<div class="sf-m-texthidden">'),n(t).append(i),this.model.renderMode=="ios"?n(t).append(n('<div class="sf-m-tp sf-m-tpmin sf-center"><div class="sf-timewrapper"><div id="'+this.model.id+'_tpmin"><div class="sf-tpouter"><div class="sf-m-text"><\/div><div class="sf-m-text"><\/div><div class="sf-m-text">00<\/div><div class="sf-m-text">01<\/div><div class="sf-m-text">02<\/div><div class="sf-m-text">03<\/div><div class="sf-m-text">04<\/div><div class="sf-m-text">05<\/div><div class="sf-m-text">06<\/div><div class="sf-m-text">07<\/div><div class="sf-m-text">08<\/div><div class="sf-m-text">09<\/div><div class="sf-m-text">10<\/div><div class="sf-m-text">11<\/div><div class="sf-m-text">12<\/div><div class="sf-m-text">13<\/div><div class="sf-m-text">14<\/div><div class="sf-m-text">15<\/div><div class="sf-m-text">16<\/div><div class="sf-m-text">17<\/div><div class="sf-m-text">18<\/div><div class="sf-m-text">19<\/div><div class="sf-m-text">20<\/div><div class="sf-m-text">21<\/div><div class="sf-m-text">22<\/div><div class="sf-m-text">23<\/div><div class="sf-m-text">24<\/div><div class="sf-m-text">25<\/div><div class="sf-m-text">26<\/div><div class="sf-m-text">27<\/div><div class="sf-m-text">28<\/div><div class="sf-m-text">29<\/div><div class="sf-m-text">30<\/div><div class="sf-m-text">31<\/div><div class="sf-m-text">32<\/div><div class="sf-m-text">33<\/div><div class="sf-m-text">34<\/div><div class="sf-m-text">35<\/div><div class="sf-m-text">36<\/div><div class="sf-m-text">37<\/div><div class="sf-m-text">38<\/div><div class="sf-m-text">39<\/div><div class="sf-m-text">40<\/div><div class="sf-m-text">41<\/div><div class="sf-m-text">42<\/div><div class="sf-m-text">43<\/div><div class="sf-m-text">44<\/div><div class="sf-m-text">45<\/div><div class="sf-m-text">46<\/div><div class="sf-m-text">47<\/div><div class="sf-m-text">48<\/div><div class="sf-m-text">49<\/div><div class="sf-m-text">50<\/div><div class="sf-m-text">51<\/div><div class="sf-m-text">52<\/div><div class="sf-m-text">53<\/div><div class="sf-m-text">54<\/div><div class="sf-m-text">55<\/div><div class="sf-m-text">56<\/div><div class="sf-m-text">57<\/div><div class="sf-m-text">58<\/div><div class="sf-m-text">59<\/div><div class="sf-m-texthidden"><div class="sf-m-text"><\/div><div class="sf-m-text"><\/div><\/div><\/div><\/div><div class="sf-overlay"><\/div><\/div>')):this.model.renderMode=="android"?n(t).append(n('<div class="sf-m-tp sf-m-tpmin sf-center"><div class="sf-tp-min sf-imgup"><\/div><div class="sf-timewrapper"><div id="'+this.model.id+'_tpmin"><div class="sf-tpouter"><div class="sf-m-text"><\/div><div class="sf-m-text"><\/div><div class="sf-m-text">00<\/div><div class="sf-m-text">01<\/div><div class="sf-m-text">02<\/div><div class="sf-m-text">03<\/div><div class="sf-m-text">04<\/div><div class="sf-m-text">05<\/div><div class="sf-m-text">06<\/div><div class="sf-m-text">07<\/div><div class="sf-m-text">08<\/div><div class="sf-m-text">09<\/div><div class="sf-m-text">10<\/div><div class="sf-m-text">11<\/div><div class="sf-m-text">12<\/div><div class="sf-m-text">13<\/div><div class="sf-m-text">14<\/div><div class="sf-m-text">15<\/div><div class="sf-m-text">16<\/div><div class="sf-m-text">17<\/div><div class="sf-m-text">18<\/div><div class="sf-m-text">19<\/div><div class="sf-m-text">20<\/div><div class="sf-m-text">21<\/div><div class="sf-m-text">22<\/div><div class="sf-m-text">23<\/div><div class="sf-m-text">24<\/div><div class="sf-m-text">25<\/div><div class="sf-m-text">26<\/div><div class="sf-m-text">27<\/div><div class="sf-m-text">28<\/div><div class="sf-m-text">29<\/div><div class="sf-m-text">30<\/div><div class="sf-m-text">31<\/div><div class="sf-m-text">32<\/div><div class="sf-m-text">33<\/div><div class="sf-m-text">34<\/div><div class="sf-m-text">35<\/div><div class="sf-m-text">36<\/div><div class="sf-m-text">37<\/div><div class="sf-m-text">38<\/div><div class="sf-m-text">39<\/div><div class="sf-m-text">40<\/div><div class="sf-m-text">41<\/div><div class="sf-m-text">42<\/div><div class="sf-m-text">43<\/div><div class="sf-m-text">44<\/div><div class="sf-m-text">45<\/div><div class="sf-m-text">46<\/div><div class="sf-m-text">47<\/div><div class="sf-m-text">48<\/div><div class="sf-m-text">49<\/div><div class="sf-m-text">50<\/div><div class="sf-m-text">51<\/div><div class="sf-m-text">52<\/div><div class="sf-m-text">53<\/div><div class="sf-m-text">54<\/div><div class="sf-m-text">55<\/div><div class="sf-m-text">56<\/div><div class="sf-m-text">57<\/div><div class="sf-m-text">58<\/div><div class="sf-m-text">59<\/div><div class="sf-m-texthidden"><div class="sf-m-text"><\/div><div class="sf-m-text"><\/div><\/div><\/div><\/div><div class="sf-overlay"><\/div><div class="sf-tp-min sf-imgdown"><\/div><\/div>')):n(t).append(n('<div class="sf-m-tp sf-m-tpmin sf-center"><div class="sf-timewrapper"><div id="'+this.model.id+'_tpmin"><div class="sf-tpouter"><div class="sf-m-text">00<\/div><div class="sf-m-text">01<\/div><div class="sf-m-text">02<\/div><div class="sf-m-text">03<\/div><div class="sf-m-text">04<\/div><div class="sf-m-text">05<\/div><div class="sf-m-text">06<\/div><div class="sf-m-text">07<\/div><div class="sf-m-text">08<\/div><div class="sf-m-text">09<\/div><div class="sf-m-text">10<\/div><div class="sf-m-text">11<\/div><div class="sf-m-text">12<\/div><div class="sf-m-text">13<\/div><div class="sf-m-text">14<\/div><div class="sf-m-text">15<\/div><div class="sf-m-text">16<\/div><div class="sf-m-text">17<\/div><div class="sf-m-text">18<\/div><div class="sf-m-text">19<\/div><div class="sf-m-text">20<\/div><div class="sf-m-text">21<\/div><div class="sf-m-text">22<\/div><div class="sf-m-text">23<\/div><div class="sf-m-text">24<\/div><div class="sf-m-text">25<\/div><div class="sf-m-text">26<\/div><div class="sf-m-text">27<\/div><div class="sf-m-text">28<\/div><div class="sf-m-text">29<\/div><div class="sf-m-text">30<\/div><div class="sf-m-text">31<\/div><div class="sf-m-text">32<\/div><div class="sf-m-text">33<\/div><div class="sf-m-text">34<\/div><div class="sf-m-text">35<\/div><div class="sf-m-text">36<\/div><div class="sf-m-text">37<\/div><div class="sf-m-text">38<\/div><div class="sf-m-text">39<\/div><div class="sf-m-text">40<\/div><div class="sf-m-text">41<\/div><div class="sf-m-text">42<\/div><div class="sf-m-text">43<\/div><div class="sf-m-text">44<\/div><div class="sf-m-text">45<\/div><div class="sf-m-text">46<\/div><div class="sf-m-text">47<\/div><div class="sf-m-text">48<\/div><div class="sf-m-text">49<\/div><div class="sf-m-text">50<\/div><div class="sf-m-text">51<\/div><div class="sf-m-text">52<\/div><div class="sf-m-text">53<\/div><div class="sf-m-text">54<\/div><div class="sf-m-text">55<\/div><div class="sf-m-text">56<\/div><div class="sf-m-text">57<\/div><div class="sf-m-text">58<\/div><div class="sf-m-text">59<\/div><div class="sf-m-texthidden"><\/div><\/div><\/div><\/div>')),this.model.hourMode=="hours12"&&(this.model.renderMode=="ios"?n(t).append(n('<div class="sf-m-tp sf-m-tpampm sf-right"><div class="sf-timewrapper"><div id="'+this.model.id+'_tpampm"><div class="sf-tpouter"><div class="sf-m-text"><\/div><div class="sf-m-text"><\/div><div class="sf-m-text">AM<\/div><div class="sf-m-text">PM<\/div><div class="sf-m-texthidden"><div class="sf-m-text"><\/div><div class="sf-m-text"><\/div><\/div><\/div><\/div><div class="sf-overlay"><\/div><\/div>')):this.model.renderMode=="android"?n(t).append(n('<div class="sf-m-tp sf-m-tpampm sf-right"><div class="sf-tp-ampm sf-imgup"><\/div><div class="sf-timewrapper"><div id="'+this.model.id+'_tpampm"><div class="sf-tpouter"><div class="sf-m-text"><\/div><div class="sf-m-text"><\/div><div class="sf-m-text">AM<\/div><div class="sf-m-text">PM<\/div><div class="sf-m-text"><\/div><div class="sf-m-text"><\/div><\/div><\/div><\/div><div class="sf-overlay"><\/div><div class="sf-tp-ampm sf-imgdown"><\/div><\/div>')):n(t).append(n('<div class="sf-m-tp sf-m-tpampm sf-right"><div class="sf-timewrapper"><div id="'+this.model.id+'_tpampm"><div class="sf-tpouter"><div class="sf-m-text ">AM<\/div><div class="sf-m-text">PM<\/div><div class="sf-m-texthidden"><\/div><\/div><\/div><\/div>'))),n(e).append(t),n(r).append(e),this.model.renderMode=="ios"||this.model.renderMode=="windows"?(n(f).append(r),this._toolbar=n('<div id="'+this.model.id+'_toolbar" data-role="sf-m-toolbar" data-showoverflow="true" data-rendermode="windows"><ul><li data-imgtype="correct" data-text="Done"><\/li><li data-imgtype="cancel" data-text="Cancel"><\/li><\/ul><\/div>'),n(this._wrapper).append(this._toolbar),this._toolbar.css("display","none"),this._toolbar.mToolbar()):this.model.renderMode=="android"&&(this._dialog=n('<div id="'+this.model.id+'_dialog" data-role="sf-m-dialog" data-title="Set Time" data-android-leftbuttontext="Cancel" data-android-rightbuttontext="Set" data-android-dialogmode="confirm" data-rendermode="android"><\/div>'),n(this._dialog).append(r),n(f).append(this._dialog),this._dialog.mDialog(),this._dialog.find("#"+this.model.id+"_tphr").css("z-index","2"),this._dialog.find("#"+this.model.id+"_tpmin").css("z-index","2"),this._dialog.find("#"+this.model.id+"_tpampm").css("z-index","2")),this._hidePicker()},_disableMaualInput:function(){this.model.disableManualInput&&n(this._input).attr("readonly",!0)},_initializeControl:function(){var t,i,r;n(".sf-input-wrapper",this.element).show(),t=n(this.element).find("#"+this.model.id+"_clock"),sf.getCurrentPage().length!=0?sf.getCurrentPage().append(t):n("body").append(t),i=this._theTime=new Date,this._setTop(n(t)),this.model.minimumTime<=1?this._sfHourText.text(this._localizedString.Hour):this._sfHourText.text(this._localizedString.Hours),this._value&&(this._theTime.setHours(this._value.Hours),this._theTime.setMinutes(this._value.Minutes)),this._timeMode==0&&n(".sf-header-wrapper",this._sfClock).addClass("active"),this._theTime.getHours()>this._maxTime&&this._theTime.setHours(this._theTime.getHours()-(this._maxTime-this._minTime)),n(this._minuteInput).attr("data-role","none").val(this._theTime.getMinutes()),n(this._hourInput).attr("data-role","none").val(this._theTime.getHours()),this._hourMode==0&&n(this._meridianInput).attr("data-role","none").val(Globalize.format(i,"tt")),this.model.renderMode!="normal"&&(this._wrapper=n(this.element).find("#"+this.model.id+"_tp"),this.model.renderMode=="ios"&&sf.isTablet()&&this._wrapper.addClass("sf-tablet"),this._hour=n("<div id='"+this.model.id+"tphr_scrollpanel' data-targetid ='"+this.model.id+"_tphr' data-role='sf-m-scrollpanel' data-scrolltype='vertical' data-targetheight='"+this._targetHeight+"'><\/div>"),this._wrapper.find("#"+this.model.id+"_tphr").append(this._hour),this._hour.mScrollPanel(),n("#"+this.model.id+"tphr_scrollpanel").mScrollPanel("getModel").onScrollEnd=n.proxy(this._onScrollStop,this),n("#"+this.model.id+"tphr_scrollpanel").mScrollPanel("getModel").onScrollStart=n.proxy(this._onScrollStart,this),n("#"+this.model.id+"tphr_scrollpanel").mScrollPanel("getModel").bounce=!1,n("#"+this.model.id+"tphr_scrollpanel").mScrollPanel("model.vScrollbar",!1),this._hour.mScrollPanel("resize"),this._min=n("<div id='"+this.model.id+"tpmin_scrollpanel' data-targetid ='"+this.model.id+"_tpmin' data-role='sf-m-scrollpanel' data-scrolltype='vertical' data-targetheight='"+this._targetHeight+"'><\/div>"),this._wrapper.find("#"+this.model.id+"_tpmin").append(this._min),this._min.mScrollPanel(),n("#"+this.model.id+"tpmin_scrollpanel").mScrollPanel("getModel").onScrollEnd=n.proxy(this._onScrollStop,this),n("#"+this.model.id+"tpmin_scrollpanel").mScrollPanel("getModel").onScrollStart=n.proxy(this._onScrollStart,this),n("#"+this.model.id+"tpmin_scrollpanel").mScrollPanel("getModel").bounce=!1,n("#"+this.model.id+"tpmin_scrollpanel").mScrollPanel("model.vScrollbar",!1),this._min.mScrollPanel("resize"),this.model.hourMode=="hours12"&&(this._ampm=n("<div id='"+this.model.id+"tpampm_scrollpanel' data-targetid ='"+this.model.id+"_tpampm' data-role='sf-m-scrollpanel' data-scrolltype='vertical' data-targetheight='"+this._targetHeight+"'><\/div>"),this._wrapper.find("#"+this.model.id+"_tpampm").append(this._ampm),this._ampm.mScrollPanel(),n("#"+this.model.id+"tpampm_scrollpanel").mScrollPanel("getModel").onScrollEnd=n.proxy(this._onScrollStop,this),n("#"+this.model.id+"tpampm_scrollpanel").mScrollPanel("getModel").onScrollStart=n.proxy(this._onScrollStart,this),n("#"+this.model.id+"tpampm_scrollpanel").mScrollPanel("getModel").bounce=!1,n("#"+this.model.id+"tpampm_scrollpanel").mScrollPanel("model.vScrollbar",!1),this._ampm.mScrollPanel("resize")),sf.getCurrentPage().length!=0?sf.getCurrentPage().append(this._wrapper):n("body").append(this._wrapper)),this.model.renderMode=="windows"&&(n(this._wrapper).css({"z-index":this._max_zindex()+1}),n(this._wrapper).find(".sf-m-tpwrap .sf-m-tp").css("padding-top",window.innerHeight/2-120+"px")),r=n(this.element).find("input"),n(document).bind("pageinit",function(){r.attr("data-role","sf-m-timepicker")})},_setInitialTime:function(t){this._setNativeTime(t),this.model.renderMode=="windows"?(n(n("#"+this.model.id+"_tphr").find(".sf-tpouter .sf-m-text")[this.model.hourMode=="hours12"?t.getHours()%12==0?11:t.getHours()%12-1:t.getHours()]).addClass("sf-text-active"),n(n("#"+this.model.id+"_tpmin").find(".sf-tpouter .sf-m-text")[t.getMinutes()-1]).addClass("sf-text-active"),this.model.hourMode=="hours12"&&n(n("#"+this.model.id+"_tpampm").find(".sf-tpouter .sf-m-text")[t.getHours()>=12?1:0]).addClass("sf-text-active")):(n(n("#"+this.model.id+"_tphr").find(".sf-tpouter .sf-m-text")[this.model.hourMode=="hours12"?t.getHours()%12+1:t.getHours()+2]).addClass("sf-text-active"),n(n("#"+this.model.id+"_tpmin").find(".sf-tpouter .sf-m-text")[t.getMinutes()+2]).addClass("sf-text-active"),this.model.hourMode=="hours12"&&n(n("#"+this.model.id+"_tpampm").find(".sf-tpouter .sf-m-text")[(t.getHours()>=12?1:0)+2]).addClass("sf-text-active")),this._setProperTime(0)},_setNativeTime:function(n){this.model.renderMode=="windows"?(this.model.hourMode=="hours12"?this._hour.mScrollPanel("scrollTo",0,-this._displacement*(n.getHours()%12==0?12:n.getHours()%12)):this._hour.mScrollPanel("scrollTo",0,-this._displacement*n.getHours()),this._min.mScrollPanel("scrollTo",0,-this._displacement*n.getMinutes()),this.model.hourMode=="hours12"&&(this._ampm.mScrollPanel("scrollTo",0,-this._displacement*0),n.getHours()>=12&&this._ampm.mScrollPanel("scrollTo",0,-this._displacement*1))):(this.model.hourMode=="hours12"?this._hour.mScrollPanel("scrollTo",0,-this._displacement*(n.getHours()%12==0?12:n.getHours()%12-1)):this._hour.mScrollPanel("scrollTo",0,-this._displacement*n.getHours()),this._min.mScrollPanel("scrollTo",0,-this._displacement*n.getMinutes()),this.model.hourMode=="hours12"&&(this._ampm.mScrollPanel("scrollTo",0,-this._displacement*0),n.getHours()>=12&&this._ampm.mScrollPanel("scrollTo",0,-this._displacement*1)))},_clearTime:function(){this.model.renderMode=="ios"&&(n(this._input).val(""),this._currentTime=this.model.defaultTime)},_onScrollStop:function(){this._setProperTime(500),this.model.renderMode=="android"?(n(".sf-tp-hr.sf-imgup").css("display",""),n(".sf-tp-hr.sf-imgdown").css("display",""),n(".sf-tp-min.sf-imgup").css("display",""),n(".sf-tp-min.sf-imgdown").css("display",""),n(".sf-tp-ampm.sf-imgup").css("display",""),n(".sf-tp-ampm.sf-imgdown").css("display","")):this.model.renderMode=="windows"&&(this._hourMoved?(this._wrapper.find("#"+this.model.id+"_tpmin").css("overflow","hidden"),this._wrapper.find("#"+this.model.id+"_tpampm").css("overflow","hidden"),this._hourMoved=!1):this._minuteMoved?(this._wrapper.find("#"+this.model.id+"_tphr").css("overflow","hidden"),this._wrapper.find("#"+this.model.id+"_tpampm").css("overflow","hidden"),this._minuteMoved=!1):this._meridianMoved&&(this._wrapper.find("#"+this.model.id+"_tphr").css("overflow","hidden"),this._wrapper.find("#"+this.model.id+"_tpampm").css("overflow","hidden"),this._meridianMoved=!1))},_onScrollStart:function(t){this.model.renderMode=="android"?t.target=="tphr"?(n(".sf-tp-hr.sf-imgup").css("display","none"),n(".sf-tp-hr.sf-imgdown").css("display","none")):t.target=="tpmin"?(n(".sf-tp-min.sf-imgup").css("display","none"),n(".sf-tp-min.sf-imgdown").css("display","none")):t.target=="tpampm"&&(n(".sf-tp-ampm.sf-imgup").css("display","none"),n(".sf-tp-ampm.sf-imgdown").css("display","none")):this.model.renderMode=="windows"&&(t.target=="tphr"?(this._meridianMoved||this._minuteMoved||(this._wrapper.find("#"+this.model.id+"_tpmin").css("overflow","hidden"),this._wrapper.find("#"+this.model.id+"_tpampm").css("overflow","hidden")),this._hourMoved=!0,this._minuteMoved=!1,this._meridianMoved=!1,this._wrapper.find("#"+this.model.id+"_tphr").find(".sf-tpouter .sf-m-text").removeClass("sf-text-active"),this._wrapper.find("#"+this.model.id+"_tphr").css("overflow","visible")):t.target=="tpmin"?(this._hourMoved||this._meridianMoved||(this._wrapper.find("#"+this.model.id+"_tphr").css("overflow","hidden"),this._wrapper.find("#"+this.model.id+"_tpampm").css("overflow","hidden")),this._hourMoved=!1,this._minuteMoved=!0,this._meridianMoved=!1,this._wrapper.find("#"+this.model.id+"_tpmin").find(".sf-tpouter .sf-m-text").removeClass("sf-text-active"),this._wrapper.find("#"+this.model.id+"_tpmin").css("overflow","visible")):t.target=="tpampm"&&(this._hourMoved||this._minuteMoved||(this._wrapper.find("#"+this.model.id+"_tphr").css("overflow","hidden"),this._wrapper.find("#"+this.model.id+"_tpmin").css("overflow","hidden")),this._hourMoved=!1,this._minuteMoved=!1,this._meridianMoved=!0,this._wrapper.find("#"+this.model.id+"_tpampm").find(".sf-tpouter .sf-m-text").removeClass("sf-text-active"),this._wrapper.find("#"+this.model.id+"_tpampm").css("overflow","visible")))},_refreshScroller:function(){n("#"+this.model.id+"tphr_scrollpanel").mScrollPanel("resize"),n("#"+this.model.id+"tpmin_scrollpanel").mScrollPanel("resize"),this.model.hourMode=="hours12"&&n("#"+this.model.id+"tpampm_scrollpanel").mScrollPanel("resize")},_setProperTime:function(t){var e=Math.round(this._hour.mScrollPanel("model").y/this._displacement),r=this.model.hourMode=="hours12"?-e+1:-e,o,i,s,h,u,f;this._hour.mScrollPanel("scrollTo",0,e*this._displacement,t),o=Math.round(this._min.mScrollPanel("model").y/this._displacement),i=-o,this._min.mScrollPanel("scrollTo",0,o*this._displacement,t),this.model.hourMode=="hours12"&&(s=Math.round(this._ampm.mScrollPanel("model").y/this._displacement),h=-s,this._ampm.mScrollPanel("scrollTo",0,s*this._displacement,t)),u=new Date,u.setHours(r),u.setMinutes(i<=9?"0"+i+"":i),this.model.renderMode=="ios"?(f=this,setTimeout(function(){n(f._input).val(f._formatter(u,f.model.timeFormat))},t)):this.model.renderMode=="windows"&&(n("#"+this.model.id+"_tphr").find(".sf-tpouter .sf-m-text").removeClass("sf-text-active"),n("#"+this.model.id+"_tpmin").find(".sf-tpouter .sf-m-text").removeClass("sf-text-active"),n(n("#"+this.model.id+"_tphr").find(".sf-tpouter .sf-m-text")[this.model.hourMode=="hours12"?r==12?11:r-1:r]).addClass("sf-text-active"),n(n("#"+this.model.id+"_tpmin").find(".sf-tpouter .sf-m-text")[i]).addClass("sf-text-active"),this.model.hourMode=="hours12"&&(n("#"+this.model.id+"_tpampm").find(".sf-tpouter .sf-m-text").removeClass("sf-text-active"),n(n("#"+this.model.id+"_tpampm").find(".sf-tpouter .sf-m-text")[h]).addClass("sf-text-active")))},_setTimeInput:function(){var r=Math.round(this._hour.mScrollPanel("getModel").y/this._displacement),f=Math.round(this._min.mScrollPanel("getModel").y/this._displacement),u,e;this.model.hourMode=="hours12"&&(u=Math.round(this._ampm.mScrollPanel("getModel").y/this._displacement),e=-u);var o=this.model.hourMode=="hours12"?-r+1:-r,i=-f,t=new Date;t.setHours(o),t.setMinutes(i<=9?"0"+i+"":i),n(this._input).val(this._formatter(t,this.model.timeFormat)),this._currentTime=t,this._hidePicker(),n(this._input).removeClass("sf-m-selected")},_hidePicker:function(){if(this.model.renderMode=="ios"){n(this._wrapper).css({bottom:-n(this._wrapper).innerHeight()+"px"});var t=this;setTimeout(function(){n(t._wrapper).css({display:"none"}),n(t._wrapper).find(".sfheader").css({display:"none"}),n(t._input).blur()},500)}else this.model.renderMode=="android"?this._dialog.mDialog("hide"):(n("#"+this.model.id+"_tphr").find(".sf-tpouter .sf-m-text").removeClass("sf-text-active"),n("#"+this.model.id+"_tpmin").find(".sf-tpouter .sf-m-text").removeClass("sf-text-active"),n("#"+this.model.id+"_tpampm").find(".sf-tpouter .sf-m-text").removeClass("sf-text-active"),n(n("#"+this.model.id+"_tphr").find(".sf-tpouter .sf-m-text")[0]).addClass("sf-text-active"),n(n("#"+this.model.id+"_tpmin").find(".sf-tpouter .sf-m-text")[0]).addClass("sf-text-active"),n(n("#"+this.model.id+"_tpampm").find(".sf-tpouter .sf-m-text")[0]).addClass("sf-text-active"),n(this._wrapper).css({top:"",bottom:"-"+window.innerHeight+"px",display:"none"}),this._toolbar.css("display","none"))},_onScrollAppend:function(){},_androidUp:function(t){n(t.target).hasClass("sf-tp-hr")?this._hour.mScrollPanel("scrollTo",0,this._hour.mScrollPanel("getModel").y-45,200):n(t.target).hasClass("sf-tp-min")?this._min.mScrollPanel("scrollTo",0,this._min.mScrollPanel("getModel").y-45,200):n(t.target).hasClass("sf-tp-ampm")&&this._ampm.mScrollPanel("scrollTo",0,this._ampm.mScrollPanel("getModel").y-45,200)},_androidDown:function(t){n(t.target).hasClass("sf-tp-hr")?this._hour.mScrollPanel("scrollTo",0,this._hour.mScrollPanel("getModel").y+45,200):n(t.target).hasClass("sf-tp-min")?this._min.mScrollPanel("scrollTo",0,this._min.mScrollPanel("getModel").y+45,200):n(t.target).hasClass("sf-tp-ampm")&&this._ampm.mScrollPanel("scrollTo",0,this._ampm.mScrollPanel("getModel").y+45,200)},_showTimePicker:function(t){if(t.preventDefault(),this.model.renderMode=="ios"){n(this._wrapper).css({display:""}),n(this._wrapper).find(".sfheader").css({display:""}),this._refreshScroller();var i=this,r=setTimeout(function(){i._setNativeTime(new Date(i._currentTime)),clearTimeout(r)},100);n(this._wrapper).css({bottom:"0px"})}else this.model.renderMode=="android"?this._dialog.mDialog("show"):this.model.renderMode=="windows"?(n(this._wrapper).css({top:"0px",bottom:"",display:"inline"}),this._toolbar.css("display",""),this._wrapper.find("#"+this.model.id+"_tphr").css("overflow","hidden"),this._wrapper.find("#"+this.model.id+"_tpmin").css("overflow","hidden"),this._wrapper.find("#"+this.model.id+"_tpampm").css("overflow","hidden")):n(this._wrapper).css({bottom:"0px"});n(this._input).addClass("sf-m-selected")},_max_zindex:function(){var t=1;return t=Math.max.apply(null,n.map(n("body *"),function(t){if(n(t).css("position")=="absolute")return parseInt(n(t).css("z-index"))||1})),(t==r||t==null)&&(t=1),t},_setTime:function(t){t.preventDefault(),n(this._wrapper).css({bottom:"-265px"}),n(this._input).removeClass("sf-m-selected")},_setAutoHeight:function(t){n(t).css({height:"100%",width:"100%"})},_setTop:function(t){var i=n(window).scrollTop(),e=this._getOffsetTop(t[0]),o=t.css("top")=="auto"?0:parseFloat(t.css("top")),r=window.innerHeight,u=t.outerHeight(),s=t.parents(".ui-page:not(.ui-page-fullscreen)").length,f;return f=i+r-u-(e-o),topVal=i+r-u,t.css("top",s?f:parseInt(topVal)<0?0:topVal)},_getOffsetTop:function(n){var t=0,i,r;if(n)for(r=document.body,i=n.offsetParent,t=n.offsetTop;n&&n!=r;)t+=n.scrollTop||0,n==i&&(t+=i.offsetTop,i=n.offsetParent),n=n.parentNode;return t},_wireHoverEvents:function(){var i=sf.getCurrentPage().find("#"+this.model.id+"_clock"),r=n(".sf-icon-plus,.sf-icon-minus,.sf-time-cancel,.sf-time-set,.sf-header-wrapper",i),t=n(".sf-icon-plus, .sf-icon-minus,.sf-time-set,.sf-time-cancel",i);sf.bindTouchEvent(n(t),this._startEv,n.proxy(this._hDownHandler,this)),sf.bindTouchEvent(n(t),this._endEv,n.proxy(this._hUpHandler,this)),sf.bindTouchEvent(n(t),this._moveEv,n.proxy(this._hUpHandler,this))},_wireEvents:function(){startEvent=sf.isTouchDevice()?"touchstart":"mousedown",moveEvent=sf.isTouchDevice()?"touchmove":"mousemove",endEvent=sf.isTouchDevice()?"touchend":"mouseup",this.model.renderMode=="ios"?(sf.isTablet()?(sf.bindTouchEvent(n(document),cancelevent,n.proxy(this._docClick,this)),sf.bindTouchEvent(this._header.find(".sf-header-right"),endEvent,n.proxy(this._clearTime,this))):(sf.bindTouchEvent(this._header.find(".sf-header-left"),endEvent,n.proxy(this._clearTime,this)),sf.bindTouchEvent(this._header.find(".sf-header-right"),endEvent,n.proxy(this._setTimeInput,this))),sf.bindTouchEvent(this._input,"focus",n.proxy(this._showTimePicker,this))):this.model.renderMode=="android"?(sf.bindTouchEvent(this._dialog.find("#"+this.model.id+"_dialog_btnA_btnwrapper"),endEvent,n.proxy(this._hidePicker,this)),sf.bindTouchEvent(this._dialog.find("#"+this.model.id+"_dialog_btnB_btnwrapper"),endEvent,n.proxy(this._setTimeInput,this)),sf.bindTouchEvent(n(".sf-m-tpinner .sf-imgup"),endEvent,n.proxy(this._androidUp,this)),sf.bindTouchEvent(n(".sf-m-tpinner .sf-imgdown"),endEvent,n.proxy(this._androidDown,this)),sf.bindTouchEvent(this._input,"focus",n.proxy(this._showTimePicker,this))):this.model.renderMode=="windows"?(sf.bindTouchEvent(this._toolbar.find("li.sf-tbitem"),endEvent,n.proxy(this._winToolbarItem,this)),sf.bindTouchEvent(n(this._wrapper).find(".sf-m-tpwrap .sf-m-tp"),startEvent,n.proxy(this._outerScroll,this)),sf.bindTouchEvent(this._input,"focus",n.proxy(this._showTimePicker,this))):(sf.bindTouchEvent(n(this._input,this.element),"keyup",n.proxy(this._showTimePicker,this)),this.model.showButton?this._timeMode==0?sf.bindTouchEvent(n(".sf-icon-timepicker",this.element),this._endEv,n.proxy(this._showSimpleHandler,this)):sf.bindTouchEvent(n(".sf-icon-timepicker",this.element),this._endEv,n.proxy(this._showScrollerHandler,this)):this._timeMode==0?sf.bindTouchEvent(n(".sf-timepicker-input",this.element),"focus",n.proxy(this._showSimpleHandler,this)):sf.bindTouchEvent(n(".sf-timepicker-input",this.element),"focus",n.proxy(this._showScrollerHandler,this)),sf.bindTouchEvent(n(".sf-icon-plus,.sf-icon-minus",this._sfClock),this._startEv,n.proxy(this._onTimeNavHandler,this)),sf.bindTouchEvent(n(".sf-icon-plus,.sf-icon-minus",this._sfClock),this._endEv,n.proxy(this._onTimeNavHandler,this)),sf.bindTouchEvent(n(".sf-time-set,.sf-time-cancel",this._sfClock),this._endEv,n.proxy(this._onSetCancelTimeHandler,this)),n(window).bind(this._oriEv,n.proxy(this._windowResize,this)),n(document).bind("scrollstop",n.proxy(this._positionPage,this)),sf.bindTouchEvent(n(this._input,this.element),"focus",n.proxy(this._showTimePicker,this)))},_winToolbarItem:function(t){n(t.target).parent().attr("data-text")=="Done"||n(t.target).parent().parent().attr("data-text")=="Done"||n(t.target).attr("data-text")=="Done"?this._setTimeInput():this._hidePicker()},_outerScroll:function(t){n(t.target).hasClass("sf-m-tphr")?(this._wrapper.find("#"+this.model.id+"_tphr").css("overflow","visible"),this._wrapper.find("#"+this.model.id+"_tpmin").css("overflow","hidden"),this._wrapper.find("#"+this.model.id+"_tpampm").css("overflow","hidden")):n(t.target).hasClass("sf-m-tpmin")?(this._wrapper.find("#"+this.model.id+"_tphr").css("overflow","hidden"),this._wrapper.find("#"+this.model.id+"_tpmin").css("overflow","visible"),this._wrapper.find("#"+this.model.id+"_tpampm").css("overflow","hidden")):n(t.target).hasClass("sf-m-tpampm")&&(this._wrapper.find("#"+this.model.id+"_tphr").css("overflow","hidden"),this._wrapper.find("#"+this.model.id+"_tpmin").css("overflow","hidden"),this._wrapper.find("#"+this.model.id+"_tpampm").css("overflow","visible"))},_unWireEvents:function(){this.model.showButton?this._timeMode==0?sf.unBindTouchEvent(n(".sf-icon-timepicker",this.element),this._endEv,this._showSimpleHandler):sf.unBindTouchEvent(n(".sf-icon-timepicker",this.element),this._endEv,this,this._showScrollerHandler):this._timeMode==0?sf.unBindTouchEvent(n(".sf-timepicker-input",this.element),"focus",this._showSimpleHandler):sf.unBindTouchEvent(n(".sf-timepicker-input",this.element),"focus",this._showScrollerHandler),sf.unBindTouchEvent(n(".sf-icon-plus,.sf-icon-minus",this._sfClock),this._startEv,this._onTimeNavHandler),sf.unBindTouchEvent(n(".sf-icon-plus,.sf-icon-minus",this._sfClock),this._endEv,this._onTimeNavHandler),sf.unBindTouchEvent(n(".sf-icon-plus,.sf-icon-minus",this._sfClock),this._endEv,this._onSetCancelTimeHandler),n(window).unbind(this._oriEv,this._windowResize),n(document).unbind("scrollstop",this._positionPage)},_windowResize:function(){if(this._isShowDp){n(this._sfClock).removeAttr("style");var t=/ipad|xoom|sch-i800|playbook|tablet|kindle/i.test(navigator.userAgent.toLowerCase());t?n(".sf-control-wrapper",this._sfClock).css({height:window.innerHeight/2+"px",width:window.innerWidth-3+"px"}):n(".sf-control-wrapper",this._sfClock).css({height:window.innerHeight-2+"px",width:window.innerWidth-3+"px"}),n(this._cWrapper).css({marginTop:"0px"}),this._setTop(n(this._sfClock))}},_positionPage:function(){if(this._isShowDp){n(this._sfClock).removeAttr("style");var t=/ipad|xoom|sch-i800|playbook|tablet|kindle/i.test(navigator.userAgent.toLowerCase());t?n(".sf-control-wrapper",this._sfClock).css({height:window.innerHeight/2+"px",width:window.innerWidth-3+"px"}):n(".sf-control-wrapper",this._sfClock).css({height:window.innerHeight-2+"px",width:window.innerWidth-3+"px"}),n(this._cWrapper).css({marginTop:"0px"}),this._setTop(n(this._sfClock))}},_showSimpleHandler:function(){var t,r,u,i;n(this._cWrapper).show(),t=sf.getCurrentPage().find("#"+this.model.id+"_clock"),n(t).show(),r=/ipad|xoom|sch-i800|playbook|tablet|kindle/i.test(navigator.userAgent.toLowerCase()),u=t.find(".sf-header-wrapper").height()+t.find(".sf-next-wrapper").height()+t.find(".sf-input-container").height()+t.find(".sf-prev-wrapper").height()+t.find(".sf-time-set").height()+15,r?n(".sf-control-wrapper",this._sfClock).css({height:window.innerHeight/2+"px",width:window.innerWidth-3+"px"}):n(".sf-control-wrapper",this._sfClock).css({height:window.innerHeight-2+"px",width:window.innerWidth-3+"px"}),(/iphone|ipod|blackberry|opera|mini|windows\sce|palm|smartphone|iemobile/i.test(navigator.userAgent.toLowerCase())||/mobile/i.test(navigator.userAgent.toLowerCase()))&&window.innerWidth>window.innerHeight&&(i=this._sfClock.find(".sf-settime-wrapper"),i.height("12%"),i.find("span").css("top","0%")),n(this._cWrapper).css({marginTop:"0px"}),this._setTop(n(t)),this._isShowDp=!0},_showScrollerHandler:function(){var o,s,f,u,l,r,e,y,w,b;if(n(this._cWrapper).show(),o=n("#"+this.model.id+"_clock"),n(o).show(),s=/ipad|xoom|sch-i800|playbook|tablet|kindle/i.test(navigator.userAgent.toLowerCase()),s?n(".sf-control-wrapper",this._sfClock).css({height:window.innerHeight/2+"px",width:window.innerWidth-3+"px"}):n(".sf-control-wrapper",this._sfClock).css({height:window.innerHeight-2+"px",width:window.innerWidth-3+"px"}),this._flag){var t=this._sfHours.find(".ul-hour-list").height()/2,h=this._sfClock.find(".tp-container"),c=this._sfHours.find(".sf-hour-text"),k=this._sfminutes.find(".sf-minutes-text");h.css("margin-top",this._sfHours[0].offsetTop),f=t%30,t=f>=15?t+(30-f):t-f,u=t,l=h.height()/6,(s||/iphone|ipod|blackberry|opera|mini|windows\sce|palm|smartphone|iemobile/i.test(navigator.userAgent.toLowerCase())||/mobile/i.test(navigator.userAgent.toLowerCase()))&&(c.css("top",l),k.css("top",l)),r=this._sfClock.find(".sf-settime-wrapper"),window.innerHeight>window.innerWidth?t=t*2+30:(u=u-30,t=t*2-30),r.find("span").css("top",(r.find("div").height()-r.find("span").height())/2),this._sfClock.find(".ul-hour-list , .ul-minutes-list,.ul-meridian-list,.sf-hours,.sf-minutes,.sf-meridian").height(t),this._sfClock.find(".hour-brk,.mins-brk").height(t),e=n(".parent-time-container"),e.height(t+2*this._sfHours[0].offsetTop),y=this._sfClock.find(".hidden-val-text").css("margin-top",u),h.css("top",u);var a=this._sfHours.find(".ul-hour-top ul"),v=this._sfminutes.find(".ul-min-top ul"),p=this._sfmeridian.find(".ul-mdn-top ul");a.css("margin-right",c.width()),v.css("margin-right",c.width()),w=Math.round(parseInt(y.css("margin-top"))/32),b=(this._sfClock.find(".sf-time-container").height()-(e[0].offsetTop+e.height())-r.height())/2,r.css("margin-top",b),this._flag=!1}if(!this.isScroller){for(i=1;i<=w;i++)a.prepend("<li><\/li>"),a.append("<li><\/li>"),v.prepend("<li><\/li>"),v.append("<li><\/li>"),p.prepend("<li><\/li>"),p.append("<li><\/li>");n(this._sfHours.find(".ul-hour-list")).mScroller({ID:"hourscrollerframe",boundThreshold:50,_onTransitionEnd:n.proxy(this._onTransitionEnd,this),_onTouchStart:n.proxy(this._onTouchStart,this),_onTouchEnd:n.proxy(this._onTouchEnd,this),_onTouchMove:n.proxy(this._onTouchMove,this)}),n(this._sfminutes.find(".ul-minutes-list")).mScroller({ID:"minutescrollerframe",boundThreshold:50,_onTransitionEnd:n.proxy(this._onTransitionEnd,this),_onTouchStart:n.proxy(this._onTouchStart,this),_onTouchEnd:n.proxy(this._onTouchEnd,this),_onTouchMove:n.proxy(this._onTouchMove,this)}),this._hourMode==0&&n(this._sfmeridian.find(".ul-meridian-list")).mScroller({ID:"meridiancrollerframe",boundThreshold:50,_onTransitionEnd:n.proxy(this._onTransitionEnd,this),_onTouchStart:n.proxy(this._onTouchStart,this),_onTouchEnd:n.proxy(this._onTouchEnd,this),_onTouchMove:n.proxy(this._onTouchMove,this)}),this.isScroller=!0}n(this._cWrapper).css({marginTop:"0px"}),this._setTop(n(o)),this._isShowDp=!0},_onTransitionEnd:function(n,t){var i=t.contentOffsetY%30,r,u;t.direction=i>=0?"down":"up",t.direction=="up"?t.contentOffsetY=-i>=15?t.contentOffsetY-(30+i):t.contentOffsetY-i:t.direction=="down"&&(t.contentOffsetY=i>=15?t.contentOffsetY+(30-i):t.contentOffsetY+i),newY=t.contentOffsetY,this._namingString(t),r=this._getDisplayedValue(),u=this._hourMode==0?{ID:this.model.id,displayedHour:r.Hour,displayedMinute:r.Minute,displayedMeridian:r.Meridian}:{ID:this.model.id,displayedHour:r.Hour,displayedMinute:r.Minute},this.model.onTransitionEnd&&this._trigger("onTransitionEnd",u)},_getDisplayedValue:function(){var i=Math.round(Math.abs(parseInt(this._sfminutes.find(".ul-min-top")[0].style.webkitTransform.split(",")[1])/30)),n=Math.round(Math.abs(parseInt(this._sfHours.find(".ul-hour-top")[0].style.webkitTransform.split(",")[1])/30)),t;return this._minTime>0&&(n+=this._hourMode==0?this._minTime-1:this._minTime),this._hourMode==0&&this._maxTime<=12&&(n+=1,t=Math.round(Math.abs(parseInt(this._sfmeridian.find(".ul-mdn-top")[0].style.webkitTransform.split(",")[1])/30))==0?"AM":"PM"),{Hour:n,Minute:i,Meridian:t}},_onTouchStart:function(n,t){this._namingString(t);var i=this._getDisplayedValue(),r=this._hourMode==0?{ID:this.model.id,displayedHour:i.Hour,displayedMinute:i.Minute,displayedMeridian:i.Meridian}:{ID:this.model.id,displayedHour:i.Hour,displayedMinute:i.Minute};this.model.onTouchStart&&this._trigger("onTouchStart",r)},_onTouchEnd:function(n,t){this._namingString(t);var i=this._getDisplayedValue(),r=this._hourMode==0?{ID:this.model.id,displayedHour:i.Hour,displayedMinute:i.Minute,displayedMeridian:i.Meridian}:{ID:this.model.id,displayedHour:i.Hour,displayedMinute:i.Minute};this.model._onTouchEnd&&this._trigger("onTouchEnd",r)},_onTouchMove:function(n,t){this._namingString(t);var i=this._getDisplayedValue(),r=this._hourMode==0?{ID:this.model.id,displayedHour:i.Hour,displayedMinute:i.Minute,displayedMeridian:i.Meridian}:{ID:this.model.id,displayedHour:i.Hour,displayedMinute:i.Minute};this.model.onTimeChanged&&this._trigger("onTimeChanged",r),this.model.onTouchMove&&this._trigger("onTouchMove",r)},_namingString:function(n){n.model.id=="hourscrollerframe"?Math.abs(n.contentOffsetY)/30>=1?this._sfHourText.text(this._localizedString.Hours):this._sfHourText.text(this._localizedString.Hour):n.model.id=="minutescrollerframe"&&(Math.abs(n.contentOffsetY)/30>=1?this._sfMinuteText.text(this._localizedString.Minutes):this._sfMinuteText.text(this._localizedString.Minute))},_hDownHandler:function(t){t.preventDefault(),n(t.currentTarget).addClass("sf-state-active"),n(t.currentTarget).hasClass("sf-icon-plus")?n(t.currentTarget).addClass("sf-next-active"):n(t.currentTarget).hasClass("sf-icon-minus")&&n(t.currentTarget).addClass("sf-prev-active")},_hUpHandler:function(t){t.preventDefault(),n(t.currentTarget).removeClass("sf-state-active"),n(t.currentTarget).hasClass("sf-icon-plus")?n(t.currentTarget).removeClass("sf-next-active"):n(t.currentTarget).hasClass("sf-icon-minus")&&n(t.currentTarget).removeClass("sf-prev-active")},_onTimeNavHandler:function(n){var t=this,i=this._hourMode==0?{ID:this.model.id,displayedHour:this._theTime.getHours(),displayedMinute:this._theTime.getMinutes(),displayedMeridian:this._meridianInput.val()}:{ID:this.model.id,displayedHour:this._theTime.getHours(),displayedMinute:this._theTime.getMinutes()};if(this.model.onTouchStart&&this._trigger("onTouchStart",i),n.preventDefault(),n.type==this._endEv)return clearTimeout(this._timeout),t._processTime(n),!1;n.type==this._startEv&&(this._timeout=setInterval(function(){t._processTime(n)},150))},_processTime:function(t){var f=t.target.tagName=="DIV"?n(t.target).parent()[0].className:n(t.target).parent().parent()[0].className,i=this._theTime,r=this._meridianInput.val(),u;switch(f){case"sf-meridian-next":r=this._addMeridian(this._meridianInput.val());break;case"sf-minute-next":this._theTime.getHours()==this._maxTime&&this._theTime.getMinutes()>=59&&(this._theTime=this._addHours(this._theTime,-(this._maxTime-this._minTime+1))),this._theTime=this._addMinutes(this._theTime,1);break;case"sf-hour-next":this._theTime=this._theTime.getHours()==this._maxTime?this._addHours(this._theTime,-(this._maxTime-this._minTime)):this._addHours(this._theTime,1);break;case"sf-meridian-prev":r=this._addMeridian(this._meridianInput.val());break;case"sf-minute-prev":this._theTime=this._theTime.getHours()==this._minTime&&this._theTime.getMinutes()<=0?this._addHours(this._theTime,this._maxTime-this._minTime):this._addMinutes(this._theTime,-1);break;case"sf-hour-prev":this._theTime=this._theTime.getHours()==this._minTime?this._addHours(this._theTime,this._maxTime-this._minTime):this._addHours(this._theTime,-1)}i=this._theTime,this._update(i,r),u=this._hourMode==0?{ID:this.model.id,displayedHour:i.getHours(),displayedMinute:i.getMinutes(),displayedMeridian:r}:{ID:this.model.id,displayedHour:i.getHours(),displayedMinute:i.getMinutes()},this.model.onTimeChanged&&this._trigger("onTimeChanged",u),this.model._onTouchEnd&&this._trigger("onTouchEnd",u)},_formatter:function(n,t){var c=this,r,s,h,f;if(!n)return"";var e=function(n){var i=r+1<t.length&&t.charAt(r+1)==n;return i&&r++,i},u=function(n,t,i){var r=""+t;if(e(n))while(r.length<i)r="0"+r;return r},i="",o=!1;if(n)for(r=0;r<t.length;r++)if(o)t.charAt(r)!="'"||e("'")?i+=t.charAt(r):o=!1;else switch(t.charAt(r)){case"h":i+=u("h",n.getHours(),2);break;case"H":i+=this._hourMode==1||this._maxTime>12?u("H",n.getHours(),0):u("h",n.getHours(),2);break;case"m":i+=u("m",n.getMinutes(),2);break;case"M":i+=u("M",n.getMinutes(),0);break;case"t":this._hourMode==0&&(this._timeMode==0&&this._maxTime<=12?this.model.renderMode=="normal"?i+=this._meridianInput.val():(s=Math.round(this._ampm.mScrollPanel("getModel").y/this._displacement),h=-s,i+=h==1?"PM":"AM"):(f=Math.round(Math.abs(parseInt(this._sfmeridian.find(".ul-mdn-top")[0].style.webkitTransform.split(",")[1])/30)),i+=f==0?"am":"pm"));break;case"T":this._hourMode==0&&(this._timeMode==0&&this._maxTime<=12?i+=this._meridianInput.val():(f=Math.round(Math.abs(parseInt(this._sfmeridian.find(".ul-mdn-top")[0].style.webkitTransform.split(",")[1])/30)),i+=f==0?"AM":"PM"));break;case":":r=r-1,e(":")?i+=this._localizedString.timeSeparator:o=!0;break;default:i+=t.charAt(r)}return i},_load:function(){var n={value:this.model};this.model.onTimePickerLoad&&this._trigger("onTimePickerLoad",n)},disablepicker:function(){this._clock.attr("disabled","disabled"),this._clock.hasClass("sf-state-disabled")||this._clock.addClass("sf-state-disabled"),this._unWireEvents()},enablepicker:function(){this._clock.removeAttr("disabled"),this._clock.hasClass("sf-state-disabled")&&this._clock.removeClass("sf-state-disabled"),this._wireEvents()},_update:function(t,i){n(this._meridianInput).val(i),n(this._minuteInput).val(t.getMinutes()),n(this._hourInput).val(t.getHours()),this._theTime=t},_addMeridian:function(n){return n=="AM"?"PM":"AM"},_addHours:function(n,t){return n.setHours(n.getHours()+t),n},_addMinutes:function(n,t){var i=n.getHours();return n.setMinutes(n.getMinutes()+t),n},_onSetCancelTimeHandler:function(t){var i,u,r,f;t.preventDefault(),n(t.currentTarget).hasClass("sf-time-set")&&(this._timeMode==0?(n(this._input,this.element).val(this._formatter(this._theTime,this.model.timeFormat)),i=this._meridianInput.val()):(u=Math.round(Math.abs(parseInt(this._sfminutes.find(".ul-min-top")[0].style.webkitTransform.split(",")[1])/30)),r=Math.round(Math.abs(parseInt(this._sfHours.find(".ul-hour-top")[0].style.webkitTransform.split(",")[1])/30)),this._minTime>0&&(r+=this._hourMode==0?this._minTime-1:this._minTime),this._hourMode==0&&this._maxTime<=12&&(i=Math.round(Math.abs(parseInt(this._sfmeridian.find(".ul-mdn-top")[0].style.webkitTransform.split(",")[1])/30))==0?"AM":"PM"),this._theTime.setHours(r),this._theTime.setMinutes(u),n(this._input,this.element).val(this._formatter(this._theTime,this.model.timeFormat)))),f=this._hourMode==0?{ID:this.model.id,TimeMode:this.model.timeMode,TimeFormat:this.model.timeFormat,selectedHour:this._theTime.getHours(),selectedMinute:this._theTime.getMinutes(),selectedMeridian:i}:{selectedHour:this._theTime.getHours(),selectedMinute:this._theTime.getMinutes(),TimeMode:this.model.timeMode,TimeFormat:this.model.timeFormat,ID:this.model.id},this.model.onTimeSelected&&this._trigger("onTimeSelected",f),this._sfClock.animate({top:document.documentElement.offsetHeight},700,function(){n(this).hide(100)}),n(this._cWrapper).hide(),this._isShowDp=!1},_setModel:function(n){var i=!1,t;for(t in n)(t=="renderMode"||t=="hourMode")&&(i=!0);i&&this._refresh(),this._trigger("modelChange",{changes:n})},_refresh:function(){this._destroy(),this.element.addClass("m-timepicker"),this._renderControl(),this._initializeControl(),this._wireEvents()},_clearElement:function(){var t=n("#"+this.model.id+"_wrapper");this._input.insertAfter(t),t.remove(),this._dialog?(this._dialog.remove(),this._dialog=null):this._toolbar&&(this._toolbar.remove(),this._toolbar=null),this.element=n(this._input),this.element.removeAttr("class"),this._wrapper.remove()},_destroy:function(){this._unWireEvents(),this._clearElement()}}),m.TimePicker.hourMode={Hours12:"hours12",Hours24:"hours24"}}(jQuery,Syncfusion),function(n,t,i){t.widget("mToggleButton","m.ToggleButton",{_setFirst:!0,defaults:{autoFormat:"darknight",animate:"true",toggleState:"On",renderMode:"auto",renderingEngine:"client",onStateText:"On",offStateText:"Off",onTouchStart:i,onTouchEnd:i},dataTypes:{renderMode:"enum",animate:"boolean"},_init:function(){this._setValues(),this._browser=/webkit/i.test(navigator.appVersion)?"webkit":/firefox/i.test(navigator.userAgent)?"Moz":/trident/i.test(navigator.userAgent)?"ms":"opera"in window?"O":"",this._has3d="WebKitCSSMatrix"in window&&"m11"in new WebKitCSSMatrix,this._transOpen="translate"+(this._has3d?"3d(":"("),this._transClose=this._has3d?",0)":")",this.model.renderingEngine=="client"&&this._renderControl(),this.model.renderMode=="normal"&&this._setTogglePosition(),this._wireEvents()},_setValues:function(){this._orgEle=n(this.element).clone(),this.model.id=n(this.element).attr("id"),this.model.renderMode=sf.getAttrVal(this.element,"data-rendermode",this.model.renderMode).toLowerCase(),this.model.renderMode=="auto"&&sf.setRenderMode(this),this.model.renderingEngine=sf.getAttrVal(this.element,"data-mode",this.model.renderingEngine).toLowerCase(),this.model.animate=sf.getBooleanVal(this.element,"data-animate",this.model.animate),this.model.onStateText=sf.getAttrVal(this.element,"data-onstatetext",this.model.onStateText),this.model.offStateText=sf.getAttrVal(this.element,"data-offstatetext",this.model.offStateText),this.model.onStateImageUrl=sf.getAttrVal(this.element,"data-onstateimageurl"),this.model.offStateImageUrl=sf.getAttrVal(this.element,"data-offstateimageurl"),this.model.toggleState=sf.getAttrVal(this.element,"data-togglestate",this.model.toggleState),this.model.onTouchStart=sf.getAttrVal(this.element,"data-ontouchstart",this.model.onTouchStart),this.model.onTouchEnd=sf.getAttrVal(this.element,"data-ontouchend",this.model.onTouchEnd),this.model.autoFormat=sf.getAttrVal(this.element,"data-autoformat",this.model.autoFormat)},_renderControl:function(){this.model.renderMode=="windows"?(n(this.element).attr("id",this.model.id+"_wrapper").addClass("sf-tbutton sf-m-windows"),input=document.createElement("input"),n(input).attr("type","checkbox").attr("id",this.model.id).attr("name",this.model.id),n(input).attr("data-role","none"),n(input).css("display","none"),n(this.element).append(input),n(this.element).attr("Draggable","false"),innerdiv=n("<div><\/div>"),innerdiv.addClass("sf-m-windows sf-m-tbtn-inner"),filler=n("<div><\/div>"),n(filler).addClass("sf-m-windows sf-m-filler"),n(innerdiv).append(filler),n(this.element).append(innerdiv),slider=n("<div><\/div>"),n(slider).addClass("sf-m-windows sf-m-tslider"),n(this.element).append(slider)):(n(this.element).attr("id",this.model.id).addClass("sf-syncmtbtn sf-tbutton sf-m-"+this.model.renderMode).css({visibility:"hidden"}),this.model.renderMode=="ios"&&n(this.element).addClass("sf-ioscorner-all"),input=document.createElement("input"),n(input).attr("type","checkbox").attr("id",this.model.id+"chk").attr("name",this.model.id),n(input).attr("data-role","none"),onLabel=document.createElement("div"),n(onLabel).addClass("sf-innerdiv"),innerOnSpan=document.createElement("span"),innerOnSpan.innerHTML=this.model.onStateText,n(innerOnSpan).addClass("sf-offstate"),innerOffSpan=document.createElement("span"),innerOffSpan.innerHTML=this.model.offStateText,n(innerOffSpan).addClass("sf-onstate"),innerSpan=document.createElement("span"),n(innerSpan).addClass("sf-innerstate"),this.model.toggleState=="On"?(n(input).attr("checked","checked").attr("value",!0),n(innerOnSpan).addClass("sf-active")):(n(input).attr("value",!1),n(innerOffSpan).addClass("sf-default")),n(input).attr("class","sf-input"),input.style.display="none",this.model.renderMode=="android"?(statusText=document.createElement("span"),n(statusText).addClass("sf-toggle-status"),n(onLabel).append(innerSpan),statusText.innerHTML=this.model.toggleState=="On"?this.model.offStateText:this.model.onStateText,n(statusText).addClass("sf-font-small sf-font-android"),n(onLabel).append(statusText)):(n(onLabel).append(innerOnSpan),n(onLabel).append(innerSpan),n(onLabel).append(innerOffSpan)),n(this.element).append(input),n(this.element).append(onLabel)),this._setToggleNativePosition()},_wireEvents:function(){this._startEvent=sf.isTouchDevice()?"touchstart":"mousedown",this._mouseMove=sf.isTouchDevice()?"touchmove":"mousemove",this._endEvent=sf.isTouchDevice()?"touchend":"mouseup",this._touchStartHandler=n.proxy(this._onTouchStartHandler,this),this._touchEndHandler=n.proxy(this._onTouchEndHandler,this),this._touchMoveHandler=n.proxy(this._onTouchMoveHandler,this),sf.isTouchDevice()?sf.bindTouchEvent(this.element,this._startEvent,this._touchStartHandler):n(this.element).bind(this._startEvent,this._touchStartHandler),this.model.renderMode=="ios"&&(n(this._innerdiv).bind("webkitTransitionEnd",n.proxy(this._transitionend,this)),n(this._innerdiv).bind("transitionend",n.proxy(this._transitionend,this)))},_unWireEvents:function(){sf.unBindTouchEvent(this.element,this._startEvent,this._touchStartHandler),sf.unBindTouchEvent(this.element,this._endEvent,this._touchEndHandler),n(this.element).unbind(this._startEvent,this._touchStartHandler),n(this.element).unbind(this._endEvent,this._touchEndHandler)},_onTouchStartHandler:function(t){var i,r;this.model.renderMode!="normal"?(this._flag=!0,t=sf.isTouchDevice()?t.changedTouches[0]:t,this.maxMove=this.model.renderMode=="ios"||"windows"?n(this.element).width()-this._innerstate.width()-2:this._innerstate.width(),i={x:t.pageX,y:t.pageY},this.startX=i.x,this._innerstate.addClass("sf-state-active"),this.startValue=this._getNormalValue(i),this.model.renderMode!="windows"&&(this._handleX=parseInt(getComputedStyle(this._innerdiv[0],null)[this._browser+"Transform"].replace(/[^0-9-.,]/g,"").split(",")[4])),sf.bindTouchEvent(document,this._endEvent,this._touchEndHandler),sf.bindTouchEvent(document,this._mouseMove,this._touchMoveHandler)):sf.bindTouchEvent(document,this._endEvent,this._touchEndHandler),r={element:n(this.element),state:this.model.toggleState},this.model.onTouchStart&&this._trigger("onTouchStart",r)},_onTouchMoveHandler:function(t){var s,h,e,i,f,r,u,o;if(this._flag=!1,this.model.renderMode=="normal")n(".sf-onstate").css("visibility","visible"),n(".sf-offstate").css("visibility","visible"),s=0,h=this,currentX=sf.isTouchDevice()?t.changedTouches[0].clientX:t.clientX,this.innerleft=0,this.innerDivleft=Number(n(".sf-innerdiv").css("margin-left").split("px")[0]),this.maindivleft=Number(n(".sf-tbutton").css("margin-left").split("px")[0]),this.maindivwid=n(".sf-tbutton").width(),this.ondivwid=n(".sf-onstate").width(),this.offdivwid=n(".sf-offstate").width(),this.inneroffsetleft=n(".sf-innerdiv")[0].offsetLeft,e=n(".sf-onstate").hasClass("sf-active")?this.ondivwid:this.offdivwid,currentX=e-currentX,this.currentLeft=currentX,n(".sf-innerdiv").css("margin-left",this.currentLeft);else if(t=sf.isTouchDevice()?t.changedTouches[0]:t,i={x:t.pageX,y:t.pageY},f=this._getNormalValue(i),this._curValue=f-this.startValue,this.model.renderMode=="windows")r=n(this.element).find(".sf-m-tslider"),u=n(this.element).find(".sf-m-filler"),sf.getAttrVal(this.element,"data-togglestate",this.model.toggleState)=="Off"?i.x-this.startX>=0&&i.x-this.startX<59&&(r.css("-"+this._browser+"-transition-duration","0.3s"),r.css("-"+this._browser+"-transform","translate("+(i.x-this.startX)+"px)"),u.css("-"+this._browser+"-transition","width 0.3s"),u.css({width:i.x-this.startX+"px"})):i.x-38<58&&i.x-38>=0&&(r.css("-"+this._browser+"-transition-duration","0.3s"),r.css("-"+this._browser+"-transform","translate("+(i.x-38)+"px)"),u.css("-"+this._browser+"-transition","width 0.3s"),u.css({width:+(i.x-38)+"px"}));else{if(this.model.renderMode=="ios"&&(this._offstate.css("opacity",1),this._onstate.css("opacity",1),this._innerdiv[0].style[this._browser+"TransitionDuration"]="0ms"),f>this.startValue){if(this._handleX>=this.maxMove)return}else if(this._handleX<=0)return;this._input.attr("checked")?this._handleX+this._curValue>=0&&this._handleX+this._curValue<=this.maxMove&&(this._innerdiv[0].style[this._browser+"Transform"]=this._transOpen+(this._handleX+this._curValue)+"px, 0px"+this._transClose):this._curValue>=0&&this._curValue<=this.maxMove&&(this._innerdiv[0].style[this._browser+"Transform"]=this._transOpen+this._curValue+"px, 0px"+this._transClose),this.model.renderMode=="android"&&(this._handleX+this._curValue>=this.maxMove/2?(this._statusText.html(this.model.onStateText),this._input.attr("checked","checked").attr("value",!0)):(this._statusText.html(this.model.offStateText),this._input.removeAttr("checked","checked").attr("value",!1)))}o={element:n(this.element)},this.model.OnTouchMove&&sf.triggerEvent("OnTouchMove",this,o)},_onTouchEndHandler:function(t){var i,r,u,f;sf.unBindTouchEvent(document,this._mouseMove,this._touchMoveHandler),sf.unBindTouchEvent(document,this._endEvent,this._touchEndHandler),this.model.renderMode=="normal"?(this.fatag=n(this.element).find(".sf-fatbutton"),this.model.animate!="true"||this._onState.hasClass("sf-transition")||(this._onState.addClass("sf-transition"),this._offState.addClass("sf-transition"),this.model.onStateImageUrl!=null&&this.model.offStateImageUrl!=null&&(this._onImage.addClass("sf-transition"),this._offImage.addClass("sf-transition"))),this._onState.hasClass("sf-active")?(n(this.element).css({width:this.divoffwid+"px"}),this._innerdiv.css({width:this.inneroffwidth+"px"}),this._offState.addClass("sf-active").css({"margin-left":this.offwidth+"px"}),this._onState.css({"margin-left":"-"+this.offwidth+"px"}).removeClass("sf-active"),this.model.onStateImageUrl!=null&&this.model.offStateImageUrl!=null&&(this._onImage.css({"margin-left":"-"+this.offwidth+"px"}),this._offImage.css({"margin-left":this.offwidth+"px"}))):(n(this.element).css({width:this.divonwid+"px"}),this._innerdiv.css({width:this.inneronwidth+"px"}),this._onState.addClass("sf-active").css({"margin-left":"0px"}),this._offState.css({"margin-left":this.onwidth+"px"}).removeClass("sf-active"),this.fatag.css({"margin-left":"0px"}),this.model.onStateImageUrl!=null&&this.model.offStateImageUrl!=null&&(this._onImage.css({"margin-left":"0px"}),this._offImage.css({"margin-left":this.divonwid+"px"})))):this.model.renderMode=="windows"?(i=n(this.element).find(".sf-m-tslider"),r=n(this.element).find(".sf-m-filler"),sf.getAttrVal(this.element,"data-togglestate",this.model.toggleState)=="On"?(n(this.element).attr("data-togglestate","Off"),n(this.element).find("#"+this.model.id).removeAttr("checked"),i.css("-"+this._browser+"-transition-duration","0.1s"),i.css("-"+this._browser+"-transform","translate(0px,0px)"),r.css("-"+this._browser+"-transition","width 0s"),r.css({width:"0px"})):(n(this.element).attr("data-togglestate","On"),n(this.element).find("#"+this.model.id).attr("checked","checked"),i.css("-"+this._browser+"-transition-duration","0.1s"),i.css("-"+this._browser+"-transform","translate(58px,0px)"),r.css("-"+this._browser+"-transition","width 0s"),r.css({width:"69px"}))):(t=sf.isTouchDevice()?t.changedTouches[0]:t,u=parseInt(getComputedStyle(this._innerdiv[0],null)[this._browser+"Transform"].replace(/[^0-9-.,]/g,"").split(",")[4]),this.model.animate!="true"||this._innerdiv.hasClass("sf-transition")||this._innerdiv.addClass("sf-transition"),this.model.renderMode=="ios"?this._flag?this._onstate.hasClass("sf-active")?this._offState():this._onState():u<this.maxMove/2?this._offState():this._onState():this._flag?this._input.attr("checked")?this._offStateAnd():this._onStateAnd():u<this.maxMove/2?this._offStateAnd():this._onStateAnd()),f={element:n(this.element),state:this.model.toggleState},this.model.onTouchEnd&&this._trigger("onTouchEnd",f)},_setTogglePosition:function(){this._offState=n(this.element).find(".sf-offstate"),this._onState=n(this.element).find(".sf-onstate"),this.model.onStateImageUrl!=null&&this.model.offStateImageUrl!=null&&(this._onImage=n(this.element).find(".sf-fimage"),this._offImage=n(this.element).find(".sf-simage"),this._onState.css({"text-indent":"25px"}),this._offState.css({"text-indent":"25px"})),this._innerdiv=n(this.element).find(".sf-innerdiv"),this.onwidth=sf.getDimension(this._onState,"width")+20,this.offwidth=sf.getDimension(this._offState,"width")+20,this.divonwid=this.onwidth*2,this.divoffwid=this.offwidth*2,this.inneronwidth=this.divonwid+this.offwidth+20,this.inneroffwidth=this.divoffwid+this.onwidth+20,this.model.toggleState=="On"?(n(this.element).css({width:this.divonwid+"px"}),this._innerdiv.css({width:this.inneronwidth+"px"}),this._offState.css({"margin-left":this.onwidth+"px"}),this._onState.addClass("sf-active").css({"margin-left":"0px"}),this.model.onStateImageUrl!=null&&this.model.offStateImageUrl!=null&&(this._onImage.css({"margin-left":"0px"}),this._offImage.css({"margin-left":this.divonwid+"px"}))):(n(this.element).css({width:this.divoffwid+"px"}),this._innerdiv.css({width:this.inneroffwidth+"px"}),this._offState.css({"margin-left":this.offwidth+"px"}),this._onState.addClass("sf-active").css({"margin-left":"-"+this.offwidth+"px"}),this.model.onStateImageUrl!=null&&this.model.offStateImageUrl!=null&&(this._onImage.css({"margin-left":"-"+this.offwidth+"px"}),this._offImage.css({"margin-left":this.offwidth+"px"}))),n(this.element).css({visibility:"visible"})},_setToggleNativePosition:function(){var i,r,u,t,f;if(this.model.renderMode=="ios")this._innerdiv=n(this.element).find(".sf-innerdiv"),this._onstate=n(this.element).find(".sf-onstate"),this._offstate=n(this.element).find(".sf-offstate"),this._innerstate=n(this.element).find(".sf-innerstate"),this._input=n("#"+this.model.id+"chk"),i=sf.getDimension(this._onstate.removeClass("sf-onstate"),"outerWidth"),r=sf.getDimension(this._offstate.removeClass("sf-offstate"),"outerWidth"),this._onstate.addClass("sf-onstate"),this._offstate.addClass("sf-offstate"),u=sf.getDimension(this._innerdiv,"width"),t=Math.max(i,r),t>u&&(n(this._innerdiv).width(t+sf.getCurrentPage().find(this._innerstate,"width")+20),this._onstate.width(t+sf.getCurrentPage().find(this._innerstate,"width")+20),this._offstate.width(t+sf.getCurrentPage().find(this._innerstate,"width")+20)),f=Math.max(sf.getDimension(this._onstate,"width"),sf.getDimension(this._offstate,"width")),this._flag=!1,this._innerdiv[0].style[this._browser+"TransitionProperty"]="-"+this._browser.toLowerCase()+"-transform",this._innerdiv[0].style[this._browser+"TransitionDuration"]="0ms",this._innerdiv.css("-"+this._browser+"-user-select","none"),t>u&&this._offstate.css("left",-(t-sf.getDimension(this._innerstate,"width")/2+this._innerstate.width()+10)),this.model.toggleState=="On"?this._onState():this._offState(),this._innerdiv[0].style[this._browser+"TransitionDuration"]="300ms";else if(this.model.renderMode=="windows")this._innerstate=n(this.element).find(".sf-m-tbtn-inner"),this.model.toggleState=="On"?(n(this.element).find("#"+this.model.id).attr("checked","checked"),n(this.element).find(".sf-m-tslider").css("-"+this._browser+"-transform","translate(58px,0px)")):(n(this.element).find("#"+this.model.id).removeAttr("checked"),n(this.element).find(".sf-m-tslider").css("-"+this._browser+"-transform","translate(0px,0px)"),n(this.element).find(".sf-m-filler").css("width","0px"));else{this._innerdiv=n(this.element).find(".sf-innerdiv"),this._innerstate=n(this.element).find(".sf-innerstate"),this._statusText=n(this.element).find(".sf-toggle-status");var r=sf.MeasureText(this.model.offStateText).width+parseInt(this._statusText.css("paddingLeft"))+parseInt(this._statusText.css("paddingRight")),i=sf.MeasureText(this.model.onStateText).width+parseInt(this._statusText.css("paddingLeft"))+parseInt(this._statusText.css("paddingRight")),t=Math.max(i,r);n(this.element).width(2*t),this._innerdiv.width(t+9),this._statusText.width(t-parseInt(this._statusText.css("paddingLeft"))-parseInt(this._statusText.css("paddingRight"))-Math.abs(parseInt(this._innerdiv.css("left")))),this._input=n("#"+this.model.id+"chk"),this._flag=!1,this._innerdiv[0].style[this._browser+"TransitionProperty"]="-"+this._browser.toLowerCase()+"-transform",this._innerdiv[0].style[this._browser+"TransitionDuration"]="0ms",this.model.toggleState=="On"?this._onStateAnd():this._offStateAnd(),this._innerdiv.css("-"+this._browser+"-user-select","none")}n(this.element).css({visibility:"visible"})},_transitionend:function(){this._onstate.hasClass("sf-active")?this._onstate.css("opacity",0):this._offstate.css("opacity",0),n(this.element).css({visibility:"visible"})},_offState:function(){this._input.removeAttr("checked","checked").attr("value",!1),this._onstate.addClass("sf-default").removeClass("sf-active"),this._onstate.css("opacity",1),this.model.toggleState="off",this._innerdiv[0].style[this._browser+"TransitionDuration"]="200ms",this._innerdiv[0].style[this._browser+"Transform"]=this._transOpen+0+"px, 0px"+this._transClose},_onState:function(){this._input.attr("checked","checked").attr("value",!0),this._offstate.css("opacity",1),this.model.toggleState="on",this._innerdiv[0].style[this._browser+"TransitionDuration"]="200ms",this._innerdiv[0].style[this._browser+"Transform"]=this._transOpen+(sf.getDimension(this._innerdiv,"width")-sf.getDimension(this._innerstate,"width")-2)+"px, 0px"+this._transClose,this._onstate.addClass("sf-active").removeClass("sf-default")},_offStateAnd:function(){this._input.removeAttr("checked","checked").attr("value",!1),this._innerdiv[0].style[this._browser+"TransitionDuration"]="0ms",this._innerdiv[0].style[this._browser+"Transform"]=this._transOpen+"0px, 0px"+this._transClose,this._statusText.html(this.model.offStateText),this._innerstate.removeClass("sf-state-active")},_onStateAnd:function(){this._input.attr("checked","checked").attr("value",!0),this._innerdiv[0].style[this._browser+"TransitionDuration"]="0ms",this._innerdiv[0].style[this._browser+"Transform"]=this._transOpen+sf.getDimension(this._innerdiv,"width")+"px, 0px"+this._transClose,this._statusText.html(this.model.onStateText),this._innerstate.addClass("sf-state-active")},_getNormalValue:function(t){var i,r,u,f;return i=t.x-n(this.element).offset().left,r=i/this.element[0].offsetWidth,u=n(this.element).width(),f=r*u,this._trimValue(f)},_trimValue:function(n){var t=1,i=n%t,r=n-i;return Math.abs(i)*2>=t&&(r+=i>0?t:-t),parseFloat(r.toFixed(5))},_setModel:function(n){var i=!1,t;for(t in n)(t=="renderMode"||t=="onStateText"||t=="toggleState"||t=="offStateText")&&(i=!0);i&&this._refresh(),this._trigger("modelChange",{changes:n})},_refresh:function(){this._destroy(),this.element.addClass("m-togglebutton"),this._renderControl(),this._wireEvents()},_clearElement:function(){this.element.removeAttr("class"),this.element.removeAttr("style"),this.element.html(this._orgEle.html())},_destroy:function(){this._unWireEvents(),this._clearElement()}})}(jQuery,Syncfusion),function(n,t,i){t.widget("mToolbar","m.Toolbar",{_setFirst:!0,defaults:{renderMode:"auto",renderingEngine:"client",height:0,width:0,menuCount:0,onCreate:i,onClick:i,onMouseDown:i,onMouseUp:i,ios:{position:"center",toolbarStyle:"theme1"},android:{toolbarStyle:"dark",mode:"actionbar",showOverflow:!1},windows:{showOverflow:!1}},dataTypes:{renderMode:"enum",renderingEngine:"enum",ios:{iosPosition:"enum",toolbarStyle:"enum"},android:{toolbarStyle:"enum",androidMode:"enum",andShowOverflow:"boolean"},windows:{winShowOverflow:"boolean"}},_init:function(){typeof Orubase!="undefined"?Orubase&&Orubase.Utility.getDeviceName()=="windows_phone"&&sf.browser()=="ms"&&(sf.getBooleanVal(this.element,"data-rendernative",this.model.renderNative)||parseInt(sf.browserDetect.version)<=9)?(this.element.hide(),this._renderNativeToolbar()):(this._setValues(),this._toolBarInit(),this._wireEvents()):(this._setValues(),this._toolBarInit(),this._wireEvents())},_renderNativeToolbar:function(){var f={add:"add",back:"back",like:"like",call:"call",microphone:"microphone",cancel:"cancel",check:"check",close:"close","delete":"delete",download:"download",edit:"edit",addtofavourite:"favs.addto",favourite:"favs",alarm:"feature.alarm",calendar:"feature.calendar",camera:"feature.camera",email:"feature.email",search:"feature.search",settings:"feature.settings",folder:"folder",minus:"minus",next:"next",overflow:"overflowdots",question:"questionmark",refresh:"refresh",save:"save",share:"share",stop:"stop",forward:"transport.ff",pause:"transport.pause",play:"transport.play",rewind:"transport.rew",upload:"upload",video:"feature.video"},i,u,r,t;if(Orubase.Utility.getDeviceName(),Orubase.WindowsPhone.showAppBar({onSuccess:function(){},onFailure:function(){}}),i=this.element.find("ul:first").children("li"),i.length>0)for(t=0;t<i.length;t++)n(i[t]).attr("data-nativeimgurl")?Orubase.WindowsPhone.createAppBarItem(n(i[t]).attr("data-text"),{type:"custom",path:n(i[t]).attr("data-nativeimgurl")},{onSuccess:function(){},onFailure:function(){}}):Orubase.WindowsPhone.createAppBarItem(n(i[t]).attr("data-text"),{type:f[n(i[t]).attr("data-imgtype")]},{onSuccess:function(){},onFailure:function(){}});else Orubase.WindowsPhone.changeAppBarMode("MINIMIZED",{onSuccess:function(){},onFailure:function(){}});if(u=this,this.model.onItemTap=this.element.attr("data-onitemtap"),this.model.onItemTap&&Orubase.WindowsPhone.AppBarItemPressed({onSuccess:function(n){u._trigger("onItemTap",{text:n})},onFailure:function(){}}),r=this.element.find("div[data-type='menuitem'] ul").children("li"),r.length>0){for(t=0;t<r.length;t++)Orubase.WindowsPhone.createAppBarMenuItem(n(r[t]).attr("data-text"),{onSuccess:function(){},onFailure:function(){}});this.model.onMenuItemTap=this.element.attr("data-onmenuitemtap"),this.model.onMenuItemTap&&Orubase.WindowsPhone.AppBarMenuItemPressed({onSuccess:function(n){u._trigger("onMenuItemTap",{text:n})},onFailure:function(){}})}},_setValues:function(){this._orgEle=n(this.element).clone(),this.model.id=n(this.element).attr("id"),this.model.renderingEngine=sf.getAttrVal(this.element,"data-mode",this.model.renderingEngine),this.model.height=Number(sf.getAttrVal(this.element,"data-height",this.model.height)),this.model.width=Number(sf.getAttrVal(this.element,"data-width",this.model.width)),this.model.renderMode=sf.getAttrVal(this.element,"data-rendermode",this.model.renderMode),this.model.renderMode=="auto"&&sf.setRenderMode(this),this.model.renderMode=="normal"&&(this.model.autoFormat=sf.getAttrVal(this.element,"data-autoformat",this.model.autoFormat)),this.model.showAt=sf.getAttrVal(this.element,"data-showat"),this.model.allowDrag=sf.getBooleanVal(this.element,"data-allowdrag"),this.model.allowMultipleRows=sf.getBooleanVal(this.element,"data-allowmultiplerows"),this.model.position=sf.getAttrVal(this.element,"data-position"),this.model.onCreate=sf.getAttrVal(this.element,"data-oncreate"),this.model.onClick=sf.getAttrVal(this.element,"data-ontouch"),this.model.onMouseDown=sf.getAttrVal(this.element,"data-ontouchstart"),this.model.onMouseUp=sf.getAttrVal(this.element,"data-ontouchend"),this.model.onDrag=sf.getAttrVal(this.element,"data-ondrag"),this.model.onDragStart=sf.getAttrVal(this.element,"data-ondragstart"),this.model.onDragStop=sf.getAttrVal(this.element,"data-ondragstop"),this.model.onItemTap=sf.getAttrVal(this.element,"data-onitemtap"),this.model.customCss=sf.getAttrVal(this.element,"data-cuscss"),this.model.cssClass=sf.getAttrVal(this.element,"data-cssclass",this.model.cssClass),this.model.menuCount=sf.getAttrVal(this.element,"data-menucount",this.model.menuCount),this._moved=!1,this.model.renderMode=="ios"?(this.model.ios.toolbarStyle=sf.getAttrVal(this.element,"data-iosstyle",this.model.ios.toolbarStyle),this.model.ios.position=sf.getAttrVal(this.element,"data-iosposition",this.model.ios.position)):this.model.renderMode=="android"?(this.model.android.toolbarStyle=sf.getAttrVal(this.element,"data-android-theme",this.model.android.toolbarStyle),this.model.android.mode=sf.getAttrVal(this.element,"data-android-mode",this.model.android.mode),this.model.android.iconUrl=sf.getAttrVal(this.element,"data-iconurl"),this.model.android.title=sf.getAttrVal(this.element,"data-title"),this.model.android.showOverflow=sf.getBooleanVal(this.element,"data-showoverflow",this.model.android.showOverflow)):this.model.renderMode=="windows"&&(this.model.windows.showOverflow=sf.getBooleanVal(this.element,"data-showoverflow",this.model.windows.showOverflow)),this._isPanning=!1,this._toolbarItems=[],sf.browserDetect.webkit&&this.element.addClass("sf-m-webkit"),this.model.renderingEngine=="client"&&this._renderControl()},_renderControl:function(){var r,t,i,u,f;if(this.model.renderMode=="ios"){if(this.model.customCss!=null?this.element.addClass(this.model.CustomCss):this.element.addClass("sf-m-ios sf-m-tb"),this.model.ios.toolbarStyle=="theme1"?this.element.addClass("sf-tb-blue"):this.model.ios.toolbarStyle=="theme2"?this.element.addClass("sf-tb-gray"):this.element.addClass("sf-tb-black"),t=this.element.find("ul").children("li"),t.length>0){if(outerDiv=n("<div class='sf-tb-container' id='"+this.model.id+"_ToolbarContainer'><\/div>"),rootToolbar=this.element.find("ul"),n(rootToolbar).addClass("sf-toolbar sf-clearall"),this.model.ios.position=="center"?n(rootToolbar).addClass("sf-tb-cen"):this.model.ios.position=="left"?n(rootToolbar).addClass("sf-tb-lt"):n(rootToolbar).addClass("sf-tb-rt"),t!=null&&t.length!=0)for(i=0;i<t.length;i++)this._renderToolbarItems(t[i],!0),n(rootToolbar).append(this._toolbarNode);n(outerDiv).append(rootToolbar),this.element.append(outerDiv)}}else if(this.model.renderMode=="android"){if(this.model.customCss!=null?this.element.addClass(this.model.CustomCss):this.element.addClass("sf-m-android sf-m-tb sf-font-android"),this.model.android.toolbarStyle=="light"?this.element.addClass("sf-tb-light"):this.element.addClass("sf-tb-dark"),this.model.android.mode=="actionbar"?(this.element.addClass("sf-tb-actbar"),abar=n("<div class='sf-tb-lt-container'><\/div>"),idiv=n("<div class='sf-tb-iContainer'><\/div>"),pimg=n("<img class='sf-tb-navimg'/>"),r="prevnav-dark",this.model.android.toolbarStyle=="dark"&&(r="prevnav-light"),n(pimg).addClass("sf-"+r+""),n(idiv).append(pimg),this.model.android.iconUrl&&(img=n("<img class='sf-tb-img'/>"),n(img).attr("src",this.model.android.iconUrl),n(idiv).append(img)),n(abar).append(idiv),this.model.android.title!=null&&(tit=n("<div class='sf-tb-title sf-font-normal sf-font-android'>"+this.model.android.title+"<\/div>"),n(abar).append(tit)),aview=n("<div class='sf-tb-vswitcher sf-font-normal'><\/div>"),n(abar).append(aview),this.element.append(abar)):this.element.addClass("sf-tb-btmbar"),t=this.element.find("ul").children("li"),t.length>0){if(outerDiv=n("<div class='sf-tb-container' id='"+this.model.id+"_ToolbarContainer'><\/div>"),rootToolbar=this.element.find("ul"),n(rootToolbar).addClass("sf-toolbar sf-clearall"),t!=null&&t.length!=0)for(i=0;i<t.length;i++)this._renderToolbarItems(t[i],!0),n(rootToolbar).append(this._toolbarNode);this.model.android.showOverflow&&(r="oflow-light",this.model.android.toolbarStyle=="light"&&(r="oflow-dark"),ellipsisDiv=n("<li class='sf-tbitem sf-toolbar-width sf-tb-ellipsis' id="+this.model.id+"_oflow><\/li>"),aTag=n("<a data-role='none' class='sf-tbitem-anchor'><\/a>"),n(aTag).append(n("<div class='sf-tbitem-img sf-"+r+"'><\/div>")),n(ellipsisDiv).append(aTag),n(rootToolbar).append(ellipsisDiv)),n(outerDiv).append(rootToolbar),this.element.append(outerDiv)}}else if(this.model.renderMode=="windows"&&(this.model.customCss!=null?this.element.addClass(this.model.CssClass).addClass(this.model.CustomCss).addClass("sf-shadow sf-state-default sf-clearall"):this.element.addClass("sf-m-tb sf-m-windows"),t=this.element.find("ul:first").children("li"),t.length>0)){if(outerDiv=n("<div class='sf-toolbar-container' id='"+this.model.id+"_ToolbarContainer'><\/div>"),rootToolbarDiv=n("<div><\/div>"),n(rootToolbarDiv).addClass("sf-tbitem-container"),rootToolbar=this.element.find("ul:first"),n(rootToolbar).addClass("sf-toolbar sf-clearall"),t!=null&&t.length!=0){for(i=0;i<t.length;i++)this._renderToolbarItems(t[i],!0),n(rootToolbar).append(this._toolbarNode);n(rootToolbarDiv).append(rootToolbar)}n(outerDiv).append(rootToolbarDiv),this.model.windows.showOverflow&&(ellipsisDiv=n("<div class='sf-tb-ellipsis' id="+this.model.id+"_oflow><\/div>"),u=this.model.id+"_ellipsis",f=!0,ellipsisImgDiv=n("<div class='sf-tb-overflow sf-tbitem'><\/div>"),u!=null&&u!=""&&n(ellipsisImgDiv).attr("id",u),aTag=n("<a data-role='none' class='sf-tb-anchor'><\/a>"),n(ellipsisImgDiv).append(aTag),n(ellipsisDiv).append(ellipsisImgDiv),n(outerDiv).append(ellipsisDiv)),this.element.append(outerDiv)}n(this.element).find("ul:empty").remove()},_renderToolbarItems:function(t){var h=sf.getBooleanVal(t,"sf-m-IsSeparator",!1),i=sf.getAttrVal(t,"sf-m-Value"),r=sf.getAttrVal(t,"sf-m-ActionMapper"),u=sf.getAttrVal(t,"data-navigateurl"),f,e,o,s;f=n(t).attr("data-imgurl"),e=n(t).attr("data-activeimgurl"),o=n(t).innerHTML,this.model.renderMode=="normal"&&n(t).addClass("sf-corner-all sf-border"),n(t).addClass("sf-tbitem"),h?n(t).addClass("sf-separator"):(i!=null&&i!=""&&n(t).attr("id",i),n(t).addClass("sf-toolbar-width"),aTag=n("<a data-role='none'class='sf-tbitem-anchor'><\/a>"),n(aTag).css({"line-height":this.model.height>this._borderWidth+this._itemsPadding?this.model.height-(this._borderWidth+this._itemsPadding)+"px":"normal"}),r!=null&&r.trim()!=""?n(aTag).attr("href",r.trim()):u!=null&&u.trim()!=""&&n(aTag).attr("href",u),containerDiv=n("<div class='sf-tb-cont'><\/div>"),f?(image=n("<img class='sf-tbitem-img' src='"+f+"'><\/img>)"),this.model.renderMode=="ios"?n(containerDiv).append(image):n(aTag).append(image),this.model.renderMode=="ios"&&(gl=n("<div class='sf-tb-glow'><\/div>"),this.model.renderMode=="ios"?n(containerDiv).append(gl):n(aTag).append(gl)),this.model.renderMode=="ios"&&n(aTag).append(containerDiv)):this.model.renderMode=="windows"&&(image=n("<span class='sf-tbitem-img'><\/span>)"),image.addClass("sf-imgtype-"+sf.getAttrVal(t,"data-imgtype","save")),n(aTag).append(image)),e&&this.model.renderMode=="windows"?(image=n("<img class='sf-tbitem-activeimg' src='"+e+"'><\/img>)"),n(aTag).append(image)):this.model.renderMode=="windows"&&(image=n("<span class='sf-tbitem-activeimg'><\/span>)"),image.addClass("sf-imgtype-"+sf.getAttrVal(t,"data-imgtype","save")),n(aTag).append(image)),o&&this.model.renderMode=="normal"&&(spanTag=n("<span class='sf-tbitem-span'>"+o+"<\/span>"),n(aTag).append(spanTag)),n(t).append(aTag),this.model.renderMode=="windows"&&(s=n("<span>"+sf.getAttrVal(t,"data-text")+"<\/span>"),s.addClass("sf-m-windows sf-m-tooltxt"),n(t).append(s))),this._toolbarNode=t},_toolBarInit:function(){this._toolbar=this.element;var t={element:this._toolbar};this.model.onCreate&&this._trigger("onCreate",t),this.model.renderMode=="normal"?this.model.position=="fixedtop"?(this._toolbar.addClass("sf-top-fixed sffixed"),this._toolbar.css("position","relative"),this._toolbar.css("z-index",100),this._toolbar.prependTo(sf.getCurrentPage()),this._toolbar.css("text-align","center"),this._toolbar.css("width","100%"),sf.setTop(this._toolbar)):this.model.position=="fixedbottom"&&(this._toolbar.addClass("sffixed"),this._toolbar.css("position","relative"),this._toolbar.appendTo(sf.getCurrentPage()),this._toolbar.css("text-align","center"),this._toolbar.css("width","100%"),sf.setTop(this._toolbar),n(document).find(".sf-m-tb").hasClass("sf-top-fixed")&&(this._headheight=n(document).find(".sf-m-tb").height(),this._foottop=this._toolbar.css("top"),this._foottop=parseInt(this._foottop.replace("px",""))-this._headheight,this._toolbar.css({top:this._foottop}))):(this.model.renderMode=="ios"||this.model.renderMode=="windows")&&(navigator.userAgent.indexOf("iPad")!=-1?n(this._toolbar).addClass("sf-m-ipad"):sf.getCurrentPage().append(this._toolbar)),this.model.renderMode=="android"&&sf.isAndroid()&&!sf.isTablet()&&sf.isPortrait()&&sf.getDimension(this._toolbar,"outerWidth")<=320&&this._toolbar.addClass("sf-tb-removeact"),this._toolbar.css("visibility","visible")},_renderToolbar:function(){this._renderSeparator(),this.model.position!="fixedtop"&&this._setToolbarWidth()},_renderSeparator:function(){var i=this._toolbar.find(".sf-separator"),r,t,u;(i.find(".sf-separator-item")==null||i.find(".sf-separator-item").length<=0)&&(r=this._toolbar.find("li.sf-tbitem").height(),t=document.createElement("div"),n(t).addClass("sf-separator-item").css("line-height",r+"px"),u=document.createElement("div"),n(u).addClass("sf-tbitem-separator").css("height",r-10+"px"),t.appendChild(u),i.html(t))},_setToolbarWidth:function(){var n,i,t;this.model.allowMultipleRows||(n=this._toolbar.find("ul.sf-toolbar"),sf.browserDetect.mozilla?n.width("-moz-max-content"):(i=n.width(),t=this._getLiWidth(),t>i&&n.width(t+"px")))},_getLiWidth:function(){var n=0;return this._toolbar.find("li").each(function(){n+=this._offsetWidth+1}),n},_wireEvents:function(){startEvent=sf.isTouchDevice()?"touchstart":"mousedown",moveEvent=sf.isTouchDevice()?"touchmove":"mousemove",endEvent=sf.isTouchDevice()?"touchend":"mouseup",sf.bindTouchEvent(this.element,startEvent,n.proxy(this._onMouseDownHandler,this)),sf.bindTouchEvent(this.element,endEvent,n.proxy(this._onMouseUpHandler,this)),this.model.renderMode=="normal"&&(sf.bindTouchEvent(this.element,moveEvent,n.proxy(this._onMouseEnterHandler,this)),sf.bindTouchEvent(this.element.find("li"),moveEvent,n.proxy(this._onMouseMoveHandler,this)),(this.model.position=="fixedtop"||this.model.position=="fixedbottom")&&(this._resizeHandler=n.proxy(this._resize,this),n(window).bind("resize",this._resizeHandler),this._scrollStartHandler=n.proxy(this._scrollStart,this),n(document).bind("scrollstart",this._scrollStartHandler),this._scrollStopHandler=n.proxy(this._scrollStop,this),n(document).bind("scrollstop",this._scrollStopHandler)),this._toolbarOutHanlder=n.proxy(this._onToolbarOutHandler,this),this._toolbar.bind("mouseleave",this._toolbarOutHanlder)),this.model.renderMode=="android"&&(sf.bindTouchEvent(this.element.find(".sf-tb-iContainer"),endEvent,n.proxy(this._onAnrdHdrClick,this)),sf.bindTouchEvent(this.element.find(".sf-tb-iContainer"),startEvent,n.proxy(this._onAnrdHdrdown,this))),this.model.renderMode=="windows"&&(this._toolbarOutHanlder=n.proxy(this._onToolbarOutHandler,this),this._toolbar.bind("mouseleave",this._toolbarOutHanlder),this._toolbar.find(".sf-tb-overflow.sf-tbitem").bind(endEvent,n.proxy(this._ellipsisClicked,this)),n(document).bind(endEvent,n.proxy(this._docClick,this)),n(document).bind(moveEvent,n.proxy(this._onTouchMove,this)));var t=this.element.find("ul").children("li.sf-tbitem"),r=this.model.onItemTap,i=this;n(t).bind(endEvent,function(n,t){i._trigger("onItemTap",t)})},_docClick:function(t){t.target.id==this.model.id+"_ellipsis"&&!this._toolbar.hasClass("sf-toolbar-open")||n(t.target).hasClass("sf-menu-item")||n(t.target).parents().hasClass("sf-menu-item")?this._toolbar.addClass("sf-toolbar-open"):(this._toolbar.css("-"+sf.browser()+"-transition","height 0.3s ease"),this._toolbar.css("height",""),this._toolbar.removeClass("sf-toolbar-open"),parseInt(this.model.menuCount)>0&&n("#"+this.model.id+"_oflow_menuwrapper").mMenu("hideMenu"))},_ellipsisClicked:function(){this._toolbar.css("-"+sf.browser()+"-transition","height 0.3s ease"),this._toolbar.css("height","70px")},_onAnrdHdrdown:function(){this.element.find(".sf-tb-lt-container").hasClass("sf-tb-llevel")&&this.element.find(".sf-tb-iContainer").addClass("active")},_onAnrdHdrClick:function(t){this.element.find(".sf-tb-lt-container").hasClass("sf-tb-llevel")&&(window.history.back(),this.element.find(".sf-tb-iContainer").removeClass("active"));var i={element:n(t.currentTarget),itemType:"title"};this.model.onClick&&this._trigger("onClick",i)},_resize:function(){sf.setTop(this._toolbar)},_scrollStart:function(){this._toolbar.hide()},_scrollStop:function(){sf.setTop(this._toolbar),this.model.Position=="fixedbottom"&&n(document).find(".sf-m-tb").hasClass("sf-top-fixed")&&(this._headheight=n(document).find(".sf-m-tb").height(),this._foottop=this._toolbar.css("top"),this._foottop=parseInt(this._foottop.replace("px",""))-this._headheight,this._toolbar.css({top:this._foottop})),this._toolbar.fadeIn()},_onTouchMove:function(){this._moved=!0},_helperCreateHandler:function(){return this._toolbar},_unWireEvents:function(){},_onToolbarClickHandler:function(t){var i=t.target.nodeName=="LI"?n(t.target):n(t.target).hasClass("sf-tb-glow")||t.target.nodeName=="A"||t.target.nodeName=="IMG"||t.target.nodeName=="SPAN"?n(t.target).parents("li:first"):null,r;this._isSeparatorItem(i)||this._isDisable(i)||i!=null&&i.length>0&&(r={element:n(i),value:n(i).attr("id"),text:n(i).text()},this.model.onClick&&this._trigger("onClick",r))},_onMouseMoveHandler:function(t){t.preventDefault&&t.preventDefault();var i=t.target.nodeName=="LI"?n(t.target):t.target.nodeName=="A"||t.target.nodeName=="IMG"||t.target.nodeName=="SPAN"?n(n(t.target).parents("li:first")[0]):null;this._isSeparatorItem(i)||this._isDisable(i)||i!=null&&i.length>0&&this._clearCss()},_onMouseEnterHandler:function(n){if(n.preventDefault&&n.preventDefault(),this._isPanning&&!this.model.atllowMultipleRows){this._mousePosition=this._mousePosition(n);var i=this._toolbar.find(".sf-tbitem-container"),t=i[0].offsetLeft-(this._mousePositionOnInit.x-this._mousePosition.x);t>=-(this._getLiWidth()-this._toolbar.width())&&t<=0&&i.css("left",t+"px")}},_onToolbarOutHandler:function(n){n.preventDefault&&n.preventDefault(),this._isPanning=!1,this.model.renderMode=="windows"&&this._clearCss()},_onMouseDownHandler:function(t){var i=t.target.nodeName=="LI"?n(t.target):n(t.target).hasClass("sf-tb-glow")||t.target.nodeName=="A"||t.target.nodeName=="IMG"||t.target.nodeName=="SPAN"||t.target.nodeName=="DIV"?n(t.target).parents("li:first"):null,r;this._isSeparatorItem(i)||this._isDisable(i)||(i!=null&&i.length>0&&(this._clearCss(),n(i).hasClass("sf-state-active")||(n(i).addClass("sf-state-active"),r={element:n(i),value:n(i).attr("id"),text:n(i).text()},this.model.onMouseDown&&this._trigger("onMouseDown",r))),this._isPanning=!0,this._mousePositionOnInit=this._mousePosition(t))},_onMouseUpHandler:function(t){var i,r;(this._isPanning=!1,i=t.target.nodeName=="LI"?n(t.target):n(t.target).hasClass("sf-tb-glow")||t.target.nodeName=="A"||t.target.nodeName=="IMG"||t.target.nodeName=="SPAN"||t.target.nodeName=="DIV"?n(t.target).parents("li:first"):null,this._isSeparatorItem(i)||this._isDisable(i))||(i!=null&&i.length>0&&(this._clearCss(),r={element:n(i),value:n(i).attr("id"),text:n(i).text()},this.model.onMouseUp&&this._trigger("onMouseUp",r)),this._onToolbarClickHandler(t))},_onDragStartHandler:function(){var n={element:this._toolbar};this.model.onDragStart&&this._trigger("onDragStart",n)},_onDragHandler:function(){var n={element:this._toolbar};this.model.onDrag&&this._trigger("onDrag",n)},_onDragStopHandler:function(){var n={element:this._toolbar};this.model.onDragStop&&this._trigger("onDragStop",n)},_clearCss:function(){this._toolbar.find(".sf-state-active")&&this._toolbar.find(".sf-state-active.sf-tbitem").removeClass("sf-state-active")},makeLowLevel:function(){this.element.find(".sf-tb-lt-container").addClass("sf-tb-llevel")},makeHighLevel:function(){this.element.find(".sf-tb-lt-container").removeClass("sf-tb-llevel")},_mousePosition:function(t){t=sf.isTouchDevice()?t.changedTouches[0]:t;var i=n(this._toolbar).find("ul.sf-toolbar").parent().offset(),r=t.pageX-i.left,u=t.pageY-i.top;return{x:r,y:u}},_isSeparatorItem:function(t){return n(t).hasClass("sf-separator")||n(t).parents().hasClass("sf-separator")?!0:!1},disable:function(){this._toolbar.attr("disabled","disabled"),this._toolbar.find(".sf-toolbar-container").hasClass("sf-state-disabled")||this._toolbar.find(".sf-toolbar-container").addClass("sf-state-disabled"),this._unWireEvents()},enable:function(){this._toolbar.removeAttr("disabled"),this._toolbar.find(".sf-toolbar-container").hasClass("sf-state-disabled")&&this._toolbar.find(".sf-toolbar-container").removeClass("sf-state-disabled"),this._wireEvents()},show:function(){this._toolbar.css("display","")},hide:function(){this._toolbar.css("display","none")},disableItemById:function(n){var t=this._toolbar.find("#"+n);t!=null&&(t.attr("disabled","disabled"),t.hasClass("sf-state-disabled")||t.addClass("sf-state-disabled"))},enableItemById:function(n){var t=this._toolbar.find("#"+n);t!=null&&(t.removeAttr("disabled","disabled"),t.hasClass("sf-state-disabled")&&t.removeClass("sf-state-disabled"))},hideItemById:function(n){var t=this._toolbar.find("#"+n);t!=null&&t.css("display","none")},showItemById:function(n){var t=this._toolbar.find("#"+n);t!=null&&t.css("display","")},_isDisable:function(t){return n(t).hasClass("sf-state-disabled")?!0:!1},_setModel:function(n){var i=!1,t;for(t in n)(t=="renderMode"||t=="ios"||t=="android"||t=="windows")&&(i=!0);i&&this._refresh(),this._trigger("modelChange",{changes:n})},_refresh:function(){this._destroy(),this.element.addClass("m-toolbar"),this._renderControl(),this._wireEvents()},_clearElement:function(){this.element.removeAttr("class"),this.element.html(this._orgEle.html())},_destroy:function(){this._unWireEvents(),this._clearElement()}}),m.Toolbar.ios={position:{Center:"center",Left:"left",Right:"right"},theme:{Theme1:"theme1",Theme2:"theme2",Theme3:"theme3"}},m.Toolbar.android={mode:{ActionBar:"actionbar",BottomBar:"bottombar"}}}(jQuery,Syncfusion),function(n,t,i){t.widget("mWaitingPopup","m.WaitingPopup",{_setFirst:!0,defaults:{autoFormat:"darknight",renderingEngine:"client",showPanel:!0,showImage:!0,autoDisplay:!1,renderMode:"auto",backgroundColor:"#7fb5e0",transparency:4,shapeWidth:100,shapeHeight:100,shapeColor:null,mode:"canvas",shape:"lineindicator",text:null},dataTypes:{showPanel:"boolean",showImage:"boolean",autoDisplay:"boolean",renderMode:"enum"},_init:function(){this._setValues(),this.model.renderingEngine=="client"&&this._renderControl(),this._wireEvents()},_setValues:function(){this.model.popID=n(this.element).attr("id"),this._orgEle=n(this.element).clone(),this.model.autoFormat=sf.getAttrVal(this.element,"data-autoFormat",this.model.autoFormat),this.model.renderingEngine=sf.getAttrVal(this.element,"data-mode",this.model.renderingEngine).toLowerCase(),this.model.showPanel=sf.getBooleanVal(this.element,"data-showpanel",this.model.showPanel),this.model.showImage=sf.getBooleanVal(this.element,"data-showimage",this.model.showImage),this.model.targetId=sf.getAttrVal(this.element,"data-targetid"),this.model.imageUrl=sf.getAttrVal(this.element,"data-imageurl"),this.model.position=sf.getAttrVal(this.element,"data-position"),this.model.showImage=sf.getBooleanVal(this.element,"data-showimage",this.model.showImage),this.model.autoDisplay=sf.getBooleanVal(this.element,"data-autodisplay",this.model.autoDisplay),this.model.backgroundColor=sf.getAttrVal(this.element,"data-backgroundcolor",this.model.backgroundColor),this.model.backgroundName=sf.getAttrVal(this.element,"data-bgname"),this.model.transparency=Number(sf.getAttrVal(this.element,"data-transparency",this.model.transparency)),this.model.mode=sf.getAttrVal(this.element,"data-popupmode",this.model.mode),this.model.shapeColor=sf.getAttrVal(this.element,"data-shapecolor",this.model.shapeColor),this.model.shape=sf.getAttrVal(this.element,"data-shape",this.model.shape),this.model.shapeWidth=parseFloat(sf.getAttrVal(this.element,"data-shapewidth",this.model.shapeWidth)),this.model.shapeHeight=parseFloat(sf.getAttrVal(this.element,"data-shapeheight",this.model.shapeHeight)),this.model.renderMode=sf.getAttrVal(this.element,"data-rendermode",this.model.renderMode).toLowerCase(),this.model.renderMode=="auto"&&sf.setRenderMode(this),this.model.text=sf.getAttrVal(this.element,"data-text",this.model.text),this._androidi=0,this._androidj=.1,this._count=0,this._line=1,this._curve=1,this._degreesList=[],this._timer=0,this._loop=0,this._delay=300,this._flag=!1},_renderControl:function(){var t,u,e,f,r;if(n(n(this.element)).attr("data-role","sf-m-waitingpopup"),n(n(this.element)).attr("id",this.model.popID),n(n(this.element)).addClass("sf-m-popup"),n(n(this.element)).css({"z-index":"100000"}),this.model.showPanel){if(t="#7fb5e0",popupdiv=n("<div><\/div>"),n(popupdiv).attr("id",this.model.popID+"_WaitingPopup_Panel"),this.model.renderMode=="normal")this.model.backgroundColor=="#7fb5e0"?(this.model.autoFormat=="bluelight"?t="#303b61":this.model.autoFormat=="darknight"?t="#7fb5e0":this.model.autoFormat=="metroblue"?t="#119eda":this.model.autoFormat=="spinach"&&(t="#9db90e"),n(popupdiv).css({"background-color":t}),n(popupdiv).addClass("sf-opacity")):n(popupdiv).css({opacity:this.model.transparency/10,filter:"alpha(opacity="+this.model.Transparency*10+")","background-color":this.model.backgroundname});else if(this.model.renderMode=="windows"){for(u=0,e=this.model.targetId?n("#"+this.model.targetId).outerHeight():n(window).height(),this.model.targetId!=i&&n(this.element).css("position","absolute"),f=0;f<5;f++)ball=n("<div><\/div>"),n(ball).addClass("sf-windows-ball"),n(ball).css({left:"-"+u+"px"}),n(ball).css({"margin-top":e/2+"px"}),n(popupdiv).append(ball),u+=20;r=n("<div><\/div>"),n(r).css("text-align","center"),n(r).html(this.model.text),n(popupdiv).append(r),n(popupdiv).addClass("sf-m-waitingpopup sf-m-windows")}n(popupdiv).addClass("popupdiv"),n(n(this.element)).append(popupdiv)}this.model.mode.toLowerCase()=="canvas"?(this.model.shapeColor==null&&this.model.renderMode=="normal"&&(this.model.autoFormat=="bluelight"?this.model.shapeColor="#303b61":this.model.autoFormat=="darknight"?this.model.shapeColor="#7fb5e0":this.model.autoFormat=="metroblue"?this.model.shapeColor="#119eda":this.model.autoFormat=="spinach"&&(this.model.shapeColor="#9db90e")),n(n(this.element)).addClass("popupwrapper"),canvasDiv=n("<div><\/div>"),n(canvasDiv).attr("id",this.model.popID+"_CanvasWrapper"),n(canvasDiv).addClass("canvaswrpper"),(this.model.renderMode=="ios"||this.model.renderMode=="android"&&this.model.text!=null)&&(textdiv=n("<div><\/div>"),n(textdiv).addClass(this.model.popID+"_textwrapper sf-m-text"),n(textdiv).html(this.model.text),n(textdiv).css({display:"inline",position:"absolute"}),this.model.renderMode=="ios"?n(textdiv).addClass("sf-ios-font"):n(textdiv).addClass("sf-font"),n(canvasDiv).append(textdiv)),canvaspopup=n("<canvas><\/canvas>"),n(canvaspopup).attr("id",this.model.popID+"_Canvas"),n(canvasDiv).append(canvaspopup),n(n(this.element)).append(canvasDiv)):this.model.showImage&&(image=n("<img><\/img>"),n(image).attr("id",this.model.popID+"_WaitingPopup_Image"),this.model.imageUrl==null?(image.addClass("sf-wait-image "+this.model.autoFormat),image.attr("src","/images/"+this.model.autoFormat+".gif"),this.model.imageUrl=null):n(image).attr("src",this.model.imageUrl),n(n(this.element)).append(image)),this.model.targetId==null&&n(n(this.element)).addClass("sf-fixed"),n(n(this.element)).addClass("sf-m-"+this.model.renderMode),this._appendControl(),this._initObjects(),this.model.renderMode=="normal"?this.model.shapeColor!=null&&(this.model.shapeColor=="#303b61"?this._shapeDefaultColor="#ffffff":this.model.shapeColor=="#7fb5e0"?this._shapeDefaultColor="#3d3d3d":this.model.shapeColor=="#119eda"?this._shapeDefaultColor="#ffffff":this.model.shapeColor=="#9db90e"&&(this._shapeDefaultColor="#f4f4f4")):(this.model.renderMode=="ios"||this.model.renderMode=="android")&&(this.model.shapeColor="#5E5E60",this._shapeDefaultColor="#868689",this.model.shape="lineindicator"),this.model.renderMode=="android"?this._delay=75:this.model.renderMode=="ios"?this._delay=100:this.model.renderMode=="windows"&&(this._delay=3300),this.model.autoDisplay?this.showPopUp():this.hidePopUp()},_appendControl:function(){var t=sf.getCurrentPage().find("#"+this.model.popID);this.model.targetId?n(sf.getCurrentPage().find("#"+this.model.targetId)).append(t):n("body > #"+this.model.popID).length?sf.getCurrentPage().find("#"+this.model.popID).remove():n("body").append(t),this.model.renderMode=="windows"&&this.model.targetId?n(t).css({position:"relative"}):n(t).css({position:"absolute"})},_initObjects:function(){this._popupPanel=n(this.element).find("."+this.model.popID+"_WaitingPopup_Panel"),this._popupImage=sf.getCurrentPage().find("#"+this.model.popID+"_WaitingPopup_Image"),this._popupImageId="#"+this.model.popID+"_WaitingPopup_Image",this._targetElement=sf.getCurrentPage().find("#"+this.model.targetId)},showPopUp:function(){this.model.renderMode=="windows"?(n("#"+this.model.popID).css({width:"100%",height:"100%"}),this._lineBalls(),this._animateBall()):this.model.mode.toLowerCase()=="canvas"?(this._timer=window.clearInterval(this._timer),this._renderHtml5WaitingPopup()):this._renderWaitingPopup(),n(this.element).css({display:"block"})},hidePopUp:function(){this._loop=0,this._timer=window.clearInterval(this._timer),n(this.element).css({display:"none"})},setBackgroundColor:function(t){n(this._popupPanel).css({"background-color":t})},setTransparency:function(t){if(this._popupPanel){var i=t/10,r=t*10;n(this._popupPanel).css({opacity:i,filter:"alpha(opacity="+r+")"})}},setautoDisplay:function(n){this._timer=window.clearInterval(this._timer),this._loop=0,this.model.autoDisplay=n,n==!0?this.showPopUp():this.hidePopUp()},_setShape:function(n){this._timer=window.clearInterval(this._timer),this._loop=0,this.model.mode.toLowerCase()=="canvas"&&(this.model.shape=n.toLowerCase(),this._renderHtml5WaitingPopup())},_setShapeWidth:function(n){this._timer=window.clearInterval(this._timer),this._loop=0,this.model.mode.toLowerCase()=="canvas"&&(this.model.shapeWidth=n,this._renderHtml5WaitingPopup())},_setShapeHeight:function(n){this._timer=window.clearInterval(this._timer),this._loop=0,this.model.mode.toLowerCase()=="canvas"&&(this.model.shapeHeight=n,this._renderHtml5WaitingPopup())},_setShapeColor:function(n){this._timer=window.clearInterval(this._timer),this._loop=0,this.model.mode.toLowerCase()=="canvas"&&(this.model.shapeColor=n,this._renderHtml5WaitingPopup())},_renderWaitingPopup:function(){this._setDimensions(),this.model.showImage&&(this.model.imageUrl!=null&&(this._popupImage.src=this.model.imageUrl),this._setPopupImageLocation()),n(this.element).css({"z-index":1e9})},_renderHtml5WaitingPopup:function(){var u,e,f,i,r,t;(n(this.element).show(),this._canvasElement=n(this.element).find("#"+this.model.popID+"_Canvas")[0],u=this._canvasElement,typeof window.G_vmlCanvasManager!="undefined"&&(u=window.G_vmlCanvasManager.initElement(u)),u&&u.getContext)&&(this._canvasElement.getContext&&(this._setDimensions(),this.model.targetId&&this._targetElement.css("position")=="static"&&this._targetElement.css({position:"relative"}),n(this.element).css("top",0),n(this.element).css("left",0),e=this._getTargetLocation(),this._canvasContext=this._canvasElement.getContext("2d"),this._canvasContext.canvas.width=this.model.shapeWidth,this._canvasContext.canvas.height=this.model.shapeHeight,f=this.model.shapeWidth/2,i=this.model.shapeHeight/2,this._canvasContext.fillStyle=this.model.shapeColor,this._canvasContext.scale(f/i,i/i),this._buildSpinner({x:i,y:i,size:i/2,degrees:10}),this._canvasContext.fill(),r=n(this.element).find("#"+this.model.popID+"_CanvasWrapper"),t=n(this.element).find("."+this.model.popID+"_textwrapper"),this.model.targetId?(r.css("position","absolute"),t.hasClass(this.model.popID+"_textwrapper")?r.css("left",sf.getDimension(this._targetElement,"width")/2-this.model.shapeWidth/2-n(t).width()/2+"px"):r.css("left",sf.getDimension(this._targetElement,"width")/2-this.model.shapeWidth/2+"px"),r.css("top",sf.getDimension(this._targetElement,"height")/2-this.model.shapeHeight/2+"px")):this._centerPOsitionPopUp()),n(this.element).find("."+this.model.popID+"_textwrapper").hasClass(this.model.popID+"_textwrapper")&&(t=n(this.element).find("."+this.model.popID+"_textwrapper"),t.css("position","absolute"),t.css("top",(sf.getDimension(r,"height")-sf.getDimension(t,"height"))/2),t.css("left",sf.getDimension(r,"width")/2+sf.getDimension(t,"height"))),n(this.element).css({"z-index":1e7}))},_centerPOsitionPopUp:function(){var t=n(this.element).find("#"+this.model.popID+"_CanvasWrapper"),i=n(this.element).find("."+this.model.popID+"_textwrapper");t.css("position","absolute"),n(this.element).css({height:n(window).height()+"px",width:n(window).width()+"px"}),t.css("top",n(window).height()/2-this.model.shapeHeight/2),i.hasClass(this.model.popID+"_textwrapper")?t.css("left",n(window).width()/2-this.model.shapeWidth/2-n(i).width()/2):t.css("left",n(window).width()/2-this.model.shapeWidth/2),sf.getCurrentPage().find("sfheader.sf-fixed").length>0&&(sf.getCurrentPage().find("sffooter.sf-fixed").length==0||sf.getCurrentPage().find(".sf-m-tab.sf-m-ios").length==0||sf.getCurrentPage().find(".sf-m-ios.sf-m-tb").length==0)&&t.css("top",n(window).height()/2-this.model.shapeHeight/2-sf.getDimension(sf.getCurrentPage().find("sfheader.sf-fixed"),"height"))},_buildSpinner:function(n){if(this._data=n,this._count=0,this.model.shape.toLowerCase()=="circleballs"||this.model.shape.toLowerCase()=="bigcircleballs"){for(this._degrees=9,this._degreesList=[],this._count=1;this._count<=this._degrees;this._count=this._count+1)this._degreesList.push(this._count);this._circleBalls()}else if(this.model.shape.toLowerCase()=="lineindicator")this._lineIndicator();else if(this.model.shape.toLowerCase()=="curveindicator"){for(this._degrees=9,this._degreesList=[],this._count=1;this._count<=this._degrees;this._count=this._count+1)this._degreesList.push(this._count);this._curveIndicator()}this._count=0,proxy=this,this._timer=window.setInterval(this._draw,this._delay)},_circleBalls:function(){this._canvasContext.translate(this.model.shapeHeight/2,this.model.shapeHeight/2),this._canvasContext.save(),this._canvasContext.fillStyle=this.model.shapeColor;var t=this,i;i=this.model.shape.toLowerCase()=="roundtype"?5.5:4,n.each(this._degreesList+1,function(){t.model.shape.toLowerCase()=="circleballs"&&(i=i-.2),canvasContext.rotate(-Math.PI*2/t._degreesList.length),canvasContext.beginPath(),canvasContext.arc(0,t.model.shapeHeight/4,i,Math.PI*2,0,!0),canvasContext.fill(),t._count++,canvasContext.restore(),t._loop=1})},_animateBall:function(){var n=this;this._lineBalls(n.model.popID),this._timer=setInterval(function(){n._lineBalls(n.model.popID)},this._delay)},_lineBalls:function(t){var r=0,u=0,i;i=this.model.targetId?this._getTargetElementWidth():n(window).width(),n("#"+t+" .sf-windows-ball").each(function(){var t=n(this);setTimeout(function(){t.animate({left:"+="+(i/2+20),easing:"linear"},800,function(){t.animate({left:"+=30",easing:"linear"},1320,function(){t.animate({left:"+="+(i/2-40),easing:"linear"},600,function(){n(t).css("left","-"+(u+5)+"px"),u+=20})})})},r),r+=200})},_lineIndicator:function(){if(this.model.renderMode!="android"){var i,r,n,u=0,f=.5,t=15,e=2,o=4;for(this.model.renderMode=="ios"&&(u=2,o=4.5,f=.1,t=10,e=2.5),this._degrees=this._data.degrees+u,this._count=1;this._count<=this._degrees;this._count++)this._degreesList.push(this._count),this._canvasContext.save(),n=this._count,this._canvasContext.strokeStyle=this.model.shapeColor,this._canvasContext.lineWidth=this._data.size/o,this._canvasContext.globalAlpha=f,this._canvasContext.beginPath(),i=Math.floor(360/this._degrees*n)+t,r=Math.floor(360/this._degrees*(n+1))-t,this._canvasContext.arc(this._data.x,this._data.y,this._data.size/e,Math.PI/180*i,Math.PI/180*r,!1),this._canvasContext.stroke(),this._canvasContext.restore()}else this._canvasContext.save(),this._canvasContext.beginPath(),this._canvasContext.strokeStyle="#ABABAB",this._canvasContext.lineWidth=3,this._canvasContext.globalAlpha=1,this._canvasContext.arc(this._data.x,this._data.y,15,0*Math.PI,2*Math.PI),this._canvasContext.stroke()},_curveIndicator:function(){this._canvasContext.save(),this._canvasContext.fillStyle=this._shapeDefaultColor;var n=this;this._canvasContext.translate(this.model.shapeHeight-58,this.model.shapeWidth-44),this._canvasContext.rotate(-Math.PI/1.5),this._curveDraw(),this._canvasContext.translate(this.model.shapeHeight-56,this.model.shapeWidth-65),this._canvasContext.rotate(-Math.PI/3.2),this._curveDraw(),this._canvasContext.translate(this.model.shapeHeight-40,this.model.shapeWidth-71),this._canvasContext.rotate(Math.PI/30),this._curveDraw(),this._canvasContext.translate(this.model.shapeHeight-30,this.model.shapeWidth-60),this._canvasContext.rotate(Math.PI/3.4),this._curveDraw(),this._canvasContext.translate(this.model.shapeHeight-30,this.model.shapeWidth-43),this._canvasContext.rotate(Math.PI/1.5),this._curveDraw(),this._canvasContext.translate(this.model.shapeHeight-46,this.model.shapeWidth-36),this._canvasContext.rotate(Math.PI),this._curveDraw()},_curveDraw:function(){this._canvasContext.beginPath(),this._canvasContext.fillStyle=this._shapeDefaultColor,this._canvasContext.moveTo(-10,0),this._canvasContext.quadraticCurveTo(0,-20,20,0),this._canvasContext.quadraticCurveTo(0,-10,-10,0),this._canvasContext.fill(),this._canvasContext.restore(),this._canvasContext.save(),this._count++},_reset:function(){(this.model.shape.toLowerCase()=="lineindicator"||this.model.shape.toLowerCase()=="circleballs"||this.model.shape.toLowerCase()=="bigcircleballs"||this.model.shape.toLowerCase()=="curveindicator")&&this._loop==1&&(this._canvasContext.translate(-this.model.shapeHeight/2,-this.model.shapeHeight/2),this._canvasContext.save(),this._canvasContext.restore(),this._loop=0),this._canvasContext.clearRect(0,0,this.model.shapeHeight,this.model.shapeHeight);var n=this._degreesList.slice(0,1),t=this._degreesList.slice(1,this._degreesList.length);this._degreesList=t.concat(n)},_draw:function(){var n=proxy._canvasContext,r,u,i,e,f,t;if(proxy._count==0&&proxy._reset(),proxy.model.shape.toLowerCase()=="circleballs"||proxy.model.shape.toLowerCase()=="bigcircleballs")proxy._circleBalls(),proxy.model.shape.toLowerCase()=="bigcircleballs"&&(n.save(),n.fillStyle=proxy.model.shapeColor,e=6,n.rotate(Math.PI*2/proxy._degreesList.length),n.beginPath(),n.arc(0,proxy.model.shapeHeight/4,e,Math.PI*2,0,!0),n.fill(),proxy._count++,n.restore(),proxy._loop=1);else if(proxy.model.shape.toLowerCase()=="lineindicator")if(proxy._lineIndicator(),proxy.model.renderMode=="normal"){for(t=1;t<=3;t++)n.save(),proxy._line>10&&(proxy._line=1),i=proxy._line,n.strokeStyle=proxy.model.shapeColor,n.lineWidth=proxy._data.size/4,n.beginPath(),r=Math.floor(360/proxy._degrees*i)+15,u=Math.floor(360/proxy._degrees*(i+1))-15,n.arc(proxy._data.x,proxy._data.y,proxy._data.size/2,Math.PI/180*r,Math.PI/180*u,!1),n.stroke(),n.restore(),proxy._line++;proxy._line=proxy._line-2,proxy._count++}else if(proxy.model.renderMode=="ios"){for(f=.1,t=1;t<=10;t++)n.save(),proxy._line>12&&(proxy._line=1),i=proxy._line,n.strokeStyle=proxy.model.shapeColor,f=f+.1,n.globalAlpha=f,n.lineWidth=proxy._data.size/4.5,n.beginPath(),r=Math.floor(360/proxy._degrees*i)+10,u=Math.floor(360/proxy._degrees*(i+1))-10,n.arc(proxy._data.x,proxy._data.y,proxy._data.size/2.5,Math.PI/180*r,Math.PI/180*u,!1),n.stroke(),n.restore(),proxy._line++;proxy._line=proxy._line-9,proxy._count++}else proxy.model.renderMode=="android"&&(proxy._androidi=proxy._flag?proxy._androidi-.1:proxy._androidi+.1,proxy._androidi==1&&(proxy._flag=!0),proxy._androidi==0&&(proxy._flag=!1),proxy._androidi=Number(proxy._androidi.toFixed(1)),n.translate(proxy.model.shapeWidth/2,proxy.model.shapeWidth/2),n.rotate(Math.PI/180),n.translate(-proxy.model.shapeWidth/2,-proxy.model.shapeWidth/2),n.beginPath(),n.strokeStyle="#F8F8F8",n.globalAlpha=1,n.lineWidth=3,n.arc(proxy._data.x,proxy._data.y,15,0*Math.PI,proxy._androidi*Math.PI),n.stroke(),n.beginPath(),n.strokeStyle="#F8F8F8",n.globalAlpha=1,n.lineWidth=3,n.arc(proxy._data.x,proxy._data.y,15,-0*Math.PI,-proxy._androidi*Math.PI,!0),n.stroke(),n.beginPath(),n.strokeStyle="#F8F8F8",n.globalAlpha=proxy._androidj,n.lineWidth=3,n.arc(proxy._data.x,proxy._data.y,15,proxy._androidi*Math.PI,1*Math.PI),n.stroke(),n.beginPath(),n.strokeStyle="#F8F8F8",n.globalAlpha=proxy._androidj,n.lineWidth=3,n.arc(proxy._data.x,proxy._data.y,15,-proxy._androidi*Math.PI,1*Math.PI,!0),n.stroke(),proxy._androidj==1&&(proxy._androidj=0),proxy._androidj=proxy._androidj+.1,proxy._androidj=Number(proxy._androidj.toFixed(1)));else if(proxy.model.shape.toLowerCase()=="curveindicator"){for(proxy._curveIndicator(),n.save(),t=0;t<=1;t++)proxy._curve==1?(n.translate(proxy.model.shapeHeight-58,proxy.model.shapeWidth-44),n.rotate(-Math.PI/1.5)):proxy._curve==2?(n.translate(proxy.model.shapeHeight-56,proxy.model.shapeWidth-65),n.rotate(-Math.PI/3.2)):proxy._curve==3?(n.translate(proxy.model.shapeHeight-40,proxy.model.shapeWidth-71),n.rotate(Math.PI/30)):proxy._curve==4?(n.translate(proxy.model.shapeHeight-30,proxy.model.shapeWidth-60),n.rotate(Math.PI/3.4)):proxy._curve==5?(n.translate(proxy.model.shapeHeight-30,proxy.model.shapeWidth-43),n.rotate(Math.PI/1.5)):proxy._curve==6&&(n.translate(proxy.model.shapeHeight-46,proxy.model.shapeWidth-36),n.rotate(Math.PI)),n.beginPath(),n.moveTo(-10,0),n.quadraticCurveTo(0,-20,20,0),n.quadraticCurveTo(0,-10,-10,0),n.fill(),n.restore(),n.save(),proxy._curve++,proxy._curve>=7&&(proxy._curve=1);proxy._curve--}proxy._count>=proxy._degrees&&(proxy._count=0)},_setPopupImageLocation:function(){var r=this,u=this._getTargetElementWidth(),f=this._popupImageId,t,i;n(this.element).css({display:"block"}),n(this._popupImage).css({position:"absolute"}),t=n(this._popupImage).height(),i=n(this._popupImage).width(),n(this._popupImage).css({left:Math.ceil(u/2-i/2)}),n(this._popupImage).css({top:Math.ceil(r._getTargetElementHeight()/2-t/2)})},_setDimensions:function(){this.model.targetId?n(this.element).css({height:this._getTargetElementHeight()+"px",width:this._getTargetElementWidth()+"px"}):n(this.element).css({height:n(window).height()+"px",width:n(window).width()+"px"})},_setPosition:function(){if(this.model.targetId){var t=this._getTargetLocation();n(this.element).css({left:t.x,top:t.y})}else n(this.element).css({left:"0",top:"0"})},_maxZindex:function(){var t=1;return t=Math.max.apply(null,n.map(n("body *"),function(t){if(n(t).css("position")=="absolute")return parseInt(n(t).css("z-index"))||1})),(t==i||t==null)&&(t=1),t},_getTargetElementHeight:function(){return sf.getDimension(this._targetElement,"outerHeight")},_getTargetElementWidth:function(){return sf.getDimension(this._targetElement,"outerWidth")},_getTargetLocation:function(){if(this.model.targetId){var n=sf.getDimension(this._targetElement,"offset");return location.x=n.left,location.y=n.top,location}},_wireEvents:function(){n(window).bind("resize",n.proxy(this._centerPOsitionPopUp,this))},_unWireEvents:function(){n(window).unbind("resize",n.proxy(this._centerPOsitionPopUp,this))},_setModel:function(n){var i=!1,t;for(t in n)t=="text"?this._setText():(t=="renderMode"||t=="showPanel"||t=="backgroundColor")&&(i=!0);i&&this._refresh(),this._trigger("modelChange",{changes:n})},_refresh:function(){this._destroy(),this.element.addClass("m-waitingpopup"),this._renderControl(),this._wireEvents()},_clearElement:function(){clearInterval(this._timer),this.element.removeAttr("class"),this.element.removeAttr("style"),this.element.html(this._orgEle.html())},_destroy:function(){this._unWireEvents(),this._clearElement()}})}(jQuery,Syncfusion)